<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.22.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="ko" class="no-js">
  <head>
    <style> 
      ::-webkit-scrollbar{ 
        width: 10px;
        height: 10px;
      }

      ::-webkit-scrollbar-track {
        width: 0px;
        background-color: #626262;
        /* border-radius: 5px; */
      }

      ::-webkit-scrollbar-thumb {
        width: 0px;
        background-color: #E2E2E2;
        border-radius: 5px;
      }

      ::-webkit-scrollbar-thumb:hover {
        width: 10px;
        height: 20px;
        /* background-color: rgba(190, 190, 190, 0.2); */
        background-color: #A2A2A2;
        border-radius: 5px;
      }

      ::-webkit-scrollbar-track:hover {
        width: 10px;
        /* background-color: rgba(150, 150, 150, 0.1); */
        background-color: #626262;
        border-radius: 5px;
        /* background: transparent; */
        /* border-radius: 10px; */
      }

      ::-webkit-scrollbar-button:start:decrement,::-webkit-scrollbar-button:end:increment {
          width:0px;
          height: 0px;
          /* background-color: rgb(14, 221, 24); */
          /* border-radius: 50%; */
      }
    </style>
    
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>[Withdrawn] PEP 395 - Qualified Names for Modules | secrett2633</title>
<meta name="description" content="Python Enhancement Proposal 395: ‘Qualified Names for Modules’에 대한 한국어 번역입니다.">


  <meta name="author" content="secrett2633">
  
  <meta property="article:author" content="secrett2633">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="ko_KR">
<meta property="og:site_name" content="secrett2633's blog">
<meta property="og:title" content="[Withdrawn] PEP 395 - Qualified Names for Modules">
<meta property="og:url" content="http://localhost:4000/python/pep/395/">


  <meta property="og:description" content="Python Enhancement Proposal 395: ‘Qualified Names for Modules’에 대한 한국어 번역입니다.">







  <meta property="article:published_time" content="2025-09-26T21:22:00+09:00">



  <meta property="article:modified_time" content="2025-09-26T21:22:00+09:00">



  

  


<link rel="canonical" href="http://localhost:4000/python/pep/395/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "secrett2633",
      "url": "http://localhost:4000/"
    
  }
</script>






<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="secrett2633's blog Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->


    <link rel="icon" type="image/png" sizes="32x32" href="https://secrett2633.github.io/assets/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://secrett2633.github.io/assets/images/favicon/favicon-16x16.png">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          secrett2633's blog
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="https://github.com/secrett2633">GitHub</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  

  <!-- 2022.02.17 author content hidden -->
  <!-- <div class="author__content">
    
      <h3 class="author__name" itemprop="name">secrett2633</h3>
    
    
  </div> -->

  <div class="author__urls-wrapper">
    <!-- <button class="btn btn--inverse">Follow</button> -->
    <ul class="author__urls social-icons">
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
    
      
      
      
      
    
    
      <nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    <!-- Backend -->
    <li>
      <span class="nav__sub-title">Backend</span>
      <hr>
      <ul>
        <li><a href="/backend/django/">Django</a></li>
        <li><a href="/backend/logging/">Logging</a></li>
      </ul>
    </li>

    <!-- Python -->
    <li>
      <span class="nav__sub-title">Python</span>
      <hr>
      <ul>
        <li><a href="/python/pep/">PEP</a></li>
      </ul>
    </li>

    <!-- AI/ML -->
    <li>
      <span class="nav__sub-title">AI/ML</span>
      <hr>
      <ul>
        <li><a href="/ai/llm/">LLM</a></li>
        <li><a href="/ai/review/">Review</a></li>
      </ul>
    </li>

    <!-- DevOps -->
    <li>
      <span class="nav__sub-title">DevOps</span>
      <hr>
      <ul>
        <li><a href="/devops/nginx/">Nginx</a></li>
        <li><a href="/devops/docker/">Docker</a></li>
        <li><a href="/devops/safeline/">SafeLine</a></li>
        <li><a href="/devops/jenkins/">Jenkins</a></li>
        <li><a href="/devops/github-actions/">GitHub Actions</a></li>
        <li><a href="/devops/aws/">AWS</a></li>
      </ul>
    </li>

    <!-- etc -->
    <li>
      <span class="nav__sub-title">etc</span>
      <hr>
      <ul>
        <li><a href="/etc/me/">Me</a></li>
        <li><a href="/etc/chrome-extension/">Chrome Extension</a></li>
      </ul>
    </li>
  </ul>
</nav>
    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="[Withdrawn] PEP 395 - Qualified Names for Modules">
    <meta itemprop="description" content="Python Enhancement Proposal 395: ‘Qualified Names for Modules’에 대한 한국어 번역입니다.">
    <meta itemprop="datePublished" content="2025-09-26T21:22:00+09:00">
    <meta itemprop="dateModified" content="2025-09-26T21:22:00+09:00">

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">[Withdrawn] PEP 395 - Qualified Names for Modules
</h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        <time datetime="2025-09-26T21:22:00+09:00">September 26, 2025</time>
      </span>
    

    

    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#개요">개요</a></li><li><a href="#다른-pep들과의-관계">다른 PEP들과의 관계</a></li><li><a href="#__name__-속성의-문제점">__name__ 속성의 문제점</a><ul><li><a href="#초보자를-위한-함정들-traps-for-the-unwary">초보자를 위한 함정들 (Traps for the Unwary)</a><ul><li><a href="#1-임포트-오류-why-are-my-imports-broken">1. 임포트 오류 (Why are my imports broken?)</a></li><li><a href="#2-주-모듈-이중-임포트-importing-the-main-module-twice">2. 주 모듈 이중 임포트 (Importing the main module twice)</a></li><li><a href="#3-pickle-문제-in-a-bit-of-a-pickle">3. Pickle 문제 (In a bit of a pickle)</a></li><li><a href="#4-소스-코드-위치-문제-wheres-the-source">4. 소스 코드 위치 문제 (Where’s the source?)</a></li><li><a href="#5-windows의-멀티프로세싱-forkless-windows">5. Windows의 멀티프로세싱 (Forkless Windows)</a></li></ul></li></ul></li><li><a href="#모듈의-정규화된-이름-__qualname__">모듈의 정규화된 이름 (__qualname__)</a><ul><li><a href="#대안-이름들-alternative-names">대안 이름들 (Alternative Names)</a></li></ul></li><li><a href="#문제점-해결-eliminating-the-traps">문제점 해결 (Eliminating the Traps)</a><ul><li><a href="#1-패키지-내-주-모듈-임포트-수정-fixing-main-module-imports-inside-packages">1. 패키지 내 주 모듈 임포트 수정 (Fixing main module imports inside packages)</a></li><li><a href="#2-선택적-추가-명령줄-상대-임포트-optional-addition-command-line-relative-imports">2. 선택적 추가: 명령줄 상대 임포트 (Optional addition: command line relative imports)</a></li><li><a href="#3-주-모듈-이중-임포트-수정-fixing-dual-imports-of-the-main-module">3. 주 모듈 이중 임포트 수정 (Fixing dual imports of the main module)</a></li><li><a href="#4-인트로스펙션을-손상시키지-않고-pickle-문제-수정-fixing-pickling-without-breaking-introspection">4. 인트로스펙션을 손상시키지 않고 pickle 문제 수정 (Fixing pickling without breaking introspection)</a></li><li><a href="#5-windows의-멀티프로세싱-수정-fixing-multiprocessing-on-windows">5. Windows의 멀티프로세싱 수정 (Fixing multiprocessing on Windows)</a></li><li><a href="#6-명시적-상대-임포트-explicit-relative-imports">6. 명시적 상대 임포트 (Explicit relative imports)</a></li></ul></li><li><a href="#호환성-compatibility">호환성 (Compatibility)</a></li><li><a href="#참고-구현-reference-implementation">참고 구현 (Reference Implementation)</a></li><li><a href="#참고-자료-references">참고 자료 (References)</a></li><li><a href="#저작권-copyright">저작권 (Copyright)</a></li></ul>

            </nav>
          </aside>
        
        <blockquote>
  <p><strong>원문 링크:</strong> <a href="https://peps.python.org/pep-0395/">PEP 395 - Qualified Names for Modules</a></p>

  <table>
    <tbody>
      <tr>
        <td><strong>상태:</strong> Withdrawn</td>
        <td><strong>유형:</strong> Standards Track</td>
        <td><strong>작성일:</strong> 04-Mar-2011</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<p>PEP 395 – 모듈의 정규화된 이름 (Qualified Names for Modules)</p>

<h2 id="개요">개요</h2>

<p>PEP 395는 Python의 임포트(import) 시스템, 객체 직렬화(serialization), 그리고 인트로스펙션(introspection)을 다룰 때 발생하는 오래된 문제점들을 해결하기 위한 새로운 메커니즘을 제안하는 문서입니다. 이 제안은 PEP 3155에서 정의된 “정규화된 이름(Qualified Name)” 개념을 기반으로 합니다.</p>

<p><strong>현재 상태:</strong> 2013년 12월, 작성자에 의해 철회(Withdrawn)되었습니다. 이는 PEP가 작성된 이후 Python에 중요한 변화들이 있었고, 이로 인해 PEP 395의 여러 측면이 구식화되었기 때문입니다. 특히 PEP 420 (네임스페이스 패키지)은 패키지 감지와 관련된 일부 제안을 실현 불가능하게 만들었으며, PEP 451 (모듈 스펙)은 멀티프로세싱(multiprocessing) 문제를 해결하고 pickle 호환성 문제를 다룰 수 있는 방법을 제공했습니다.</p>

<h2 id="다른-pep들과의-관계">다른 PEP들과의 관계</h2>

<ul>
  <li><strong>PEP 420 (네임스페이스 패키지):</strong> <code class="language-plaintext highlighter-rouge">__init__.py</code> 파일의 필수성 제거와 호환성을 위해 PEP 395에 상당한 변경이 필요하며, PEP 420은 Python 3.3에서 이미 구현 및 릴리스되었습니다.</li>
  <li><strong>PEP 3155 (Qualified Name):</strong> 이 PEP는 PEP 3155에서 도입된 “qualified name” 개념을 기반으로 하며, 임의의 함수와 클래스의 직렬화 시 발생하는 문제들을 해결하려는 목표를 공유합니다.</li>
  <li><strong>PEP 366 (Explicit Relative Imports):</strong> 주(main) 모듈에서 명시적 상대 임포트(explicit relative imports)가 특정 상황에서 올바르게 작동하도록 하는 초기 단계를 밟은 PEP 366을 기반으로 합니다.</li>
  <li><strong>PEP 328 (Implicit Relative Imports):</strong> 임포트된 모듈에서의 암시적 상대 임포트(implicit relative imports)를 제거했습니다. PEP 395는 <code class="language-plaintext highlighter-rouge">sys.path[0]</code>에 대한 현재 초기화 동작으로 인해 제공되는 주 모듈의 사실상의 암시적 상대 임포트도 제거할 것을 제안합니다.</li>
</ul>

<h2 id="__name__-속성의-문제점"><code class="language-plaintext highlighter-rouge">__name__</code> 속성의 문제점</h2>

<p>모듈의 <code class="language-plaintext highlighter-rouge">__name__</code> 속성은 시간이 지남에 따라 여러 가지 용도로 사용되어 왔습니다. 주요 사용 사례는 다음과 같습니다.</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">if __name__ == "__main__":</code> 관례를 사용하여 프로그램의 주 모듈을 표시합니다.</li>
  <li>상대 임포트의 시작점입니다.</li>
  <li>실행 중인 애플리케이션 내에서 함수 및 클래스 정의의 위치를 식별합니다.</li>
  <li>다른 인터프리터 인스턴스와 공유될 수 있는 pickle 객체로 직렬화하기 위한 클래스의 위치를 식별합니다.</li>
</ul>

<p>이처럼 <code class="language-plaintext highlighter-rouge">__name__</code>의 의미가 과도하게 사용되고, <code class="language-plaintext highlighter-rouge">sys.path[0]</code> 초기화 시 역사적으로 관련된 동작들이 결합되어 사용자들이 쉽게 빠질 수 있는 여러 함정을 만들었습니다. 이러한 함정들은 특히 초보자에게는 매우 불명확하고 혼란스러운 동작을 유발하여 실질적으로 성가실 수 있습니다.</p>

<h3 id="초보자를-위한-함정들-traps-for-the-unwary">초보자를 위한 함정들 (Traps for the Unwary)</h3>

<h4 id="1-임포트-오류-why-are-my-imports-broken">1. 임포트 오류 (Why are my imports broken?)</h4>

<p><code class="language-plaintext highlighter-rouge">sys.path</code>를 수정할 때 적용되는 일반적인 원칙은 패키지 디렉터리를 <code class="language-plaintext highlighter-rouge">sys.path</code>에 직접 추가하지 않는 것입니다. 이 문제가 발생하는 이유는 해당 디렉터리의 모든 모듈이 이제 두 가지 다른 이름으로 접근 가능할 수 있기 때문입니다.</p>
<ul>
  <li>최상위 모듈(패키지 디렉터리가 <code class="language-plaintext highlighter-rouge">sys.path</code>에 있으므로)</li>
  <li>패키지의 서브 모듈(패키지 자체를 포함하는 상위 디렉터리가 <code class="language-plaintext highlighter-rouge">sys.path</code>에 있는 경우)</li>
</ul>

<p>이러한 문제는 특히 초보자가 패키지 내의 스크립트를 다양한 방식으로 실행하려 할 때 발생하며, 모호한 오류 메시지로 인해 디버깅이 어렵습니다. 예를 들어, <code class="language-plaintext highlighter-rouge">test_foo.py</code>가 패키지 안에 있을 때 <code class="language-plaintext highlighter-rouge">./test_foo.py</code>나 <code class="language-plaintext highlighter-rouge">python test_foo.py</code>로 실행하면 대부분의 경우 임포트 오류가 발생할 수 있습니다. PEP 366 구현 이후에는 <code class="language-plaintext highlighter-rouge">python -m package.tests.test_foo</code>와 같이 <code class="language-plaintext highlighter-rouge">-m</code> 스위치를 사용하는 방법은 제대로 작동하지만, 여전히 많은 실행 방법이 혼란을 야기합니다.</p>

<h4 id="2-주-모듈-이중-임포트-importing-the-main-module-twice">2. 주 모듈 이중 임포트 (Importing the main module twice)</h4>

<p>주 모듈이 실제 이름으로도 임포트될 때 발생하며, 동일한 모듈의 두 인스턴스가 다른 이름으로 생성됩니다. 만약 <code class="language-plaintext highlighter-rouge">__main__</code>에 저장된 상태가 프로그램의 올바른 작동에 중요하거나, 주 모듈에 비멱등(non-idempotent)적인 부작용을 일으키는 최상위 코드가 있다면, 이러한 중복은 모호하고 예상치 못한 오류를 유발할 수 있습니다.</p>

<h4 id="3-pickle-문제-in-a-bit-of-a-pickle">3. Pickle 문제 (In a bit of a pickle)</h4>

<p><code class="language-plaintext highlighter-rouge">pickle</code> 모듈은 임의의 클래스 인스턴스를 직렬화할 때 <code class="language-plaintext highlighter-rouge">__module__</code> 속성에 의존하는 경우가 있습니다. <code class="language-plaintext highlighter-rouge">__main__</code>에 정의된 클래스 인스턴스는 해당 방식으로 피클링(pickling)되며, 해당 모듈을 직접 실행하는 대신 임포트만 한 다른 Python 인스턴스에서는 올바르게 언피클링(unpickling)되지 않을 수 있습니다. 이는 객체 직렬화와 영속성을 사용하는 애플리케이션에서 <code class="language-plaintext highlighter-rouge">__main__</code> 모듈에 가능한 한 적은 코드를 두어야 한다는 조언의 근본적인 이유입니다.</p>

<h4 id="4-소스-코드-위치-문제-wheres-the-source">4. 소스 코드 위치 문제 (Where’s the source?)</h4>

<p>일부 고급 사용자는 <code class="language-plaintext highlighter-rouge">pickle</code> 모듈을 통해 구현 세부 정보가 유출되는 문제를 인식하고 <code class="language-plaintext highlighter-rouge">__name__</code>을 모듈의 공개 위치를 참조하도록 변경하여 해결하려고 합니다. 그러나 이 접근 방식은 함수와 클래스의 인트로스펙션(<code class="language-plaintext highlighter-rouge">__module__</code> 속성이 이제 잘못된 곳을 가리키므로)을 손상시키는 대가를 치르게 됩니다.</p>

<h4 id="5-windows의-멀티프로세싱-forkless-windows">5. Windows의 멀티프로세싱 (Forkless Windows)</h4>

<p><code class="language-plaintext highlighter-rouge">os.fork</code>가 없는 Windows에서 <code class="language-plaintext highlighter-rouge">multiprocessing</code> 모듈은 주 모듈을 다시 실행하려고 시도하지만, <code class="language-plaintext highlighter-rouge">if __name__ == "__main__":</code> 검사로 보호된 코드는 건너뜁니다. 하지만 주 모듈이 일반적인 직접 실행 스크립트나 최상위 모듈이 아닐 때 가정하는 바가 유효하지 않아 문제가 발생할 수 있습니다. 패키지 및 <code class="language-plaintext highlighter-rouge">-m</code> 스위치를 통해 실행되는 비최상위 모듈, 그리고 직접 실행되는 zipfile이나 디렉터리는 새 프로세스를 생성할 때 Windows에서 <code class="language-plaintext highlighter-rouge">multiprocessing</code>이 잘못된 동작을 하도록 만들 가능성이 있습니다.</p>

<h2 id="모듈의-정규화된-이름-__qualname__">모듈의 정규화된 이름 (<code class="language-plaintext highlighter-rouge">__qualname__</code>)</h2>

<p>이러한 문제들을 해결하기 위해 새로운 모듈 레벨 속성인 <code class="language-plaintext highlighter-rouge">__qualname__</code>을 추가할 것을 제안합니다. 이 “정규화된 이름”의 약어는 PEP 3155에서 중첩된 클래스 또는 함수 정의의 최상위 모듈에 대한 이름 지정 경로를 저장하는 데 사용됩니다.</p>

<ul>
  <li>모듈의 경우, <code class="language-plaintext highlighter-rouge">__qualname__</code>은 일반적으로 <code class="language-plaintext highlighter-rouge">__name__</code>과 동일합니다.</li>
  <li>하지만 <code class="language-plaintext highlighter-rouge">__name__</code>이 다른 목적으로 수정될 때(예: 주 모듈을 나타내기 위해), <code class="language-plaintext highlighter-rouge">__qualname__</code>은 변경되지 않은 상태로 유지되어 코드가 원래의 수정되지 않은 값에 접근할 수 있도록 합니다.</li>
  <li>모듈 로더가 <code class="language-plaintext highlighter-rouge">__qualname__</code>을 직접 초기화하지 않으면, 임포트 시스템이 자동으로 추가합니다(<code class="language-plaintext highlighter-rouge">__name__</code>과 동일한 값으로 설정).</li>
</ul>

<h3 id="대안-이름들-alternative-names">대안 이름들 (Alternative Names)</h3>

<p><code class="language-plaintext highlighter-rouge">__fullname__</code>과 <code class="language-plaintext highlighter-rouge">__implname__</code>도 고려되었지만, PEP 3155의 함수 및 클래스 사용 사례에 정확하지 않아 <code class="language-plaintext highlighter-rouge">__qualname__</code>이 채택되었습니다.</p>

<h2 id="문제점-해결-eliminating-the-traps">문제점 해결 (Eliminating the Traps)</h2>

<p>다음 변경 사항들은 상호 연관되어 있으며, 함께 고려할 때 가장 의미가 있습니다. 이들은 위에 언급된 함정들을 완전히 제거하거나, 해결하기 위한 간단한 메커니즘을 제공합니다.</p>

<h3 id="1-패키지-내-주-모듈-임포트-수정-fixing-main-module-imports-inside-packages">1. 패키지 내 주 모듈 임포트 수정 (Fixing main module imports inside packages)</h3>

<p>이 문제를 제거하기 위해 <code class="language-plaintext highlighter-rouge">sys.path[0]</code>에 적절한 값을 결정할 때 추가적인 파일 시스템 검사를 수행할 것을 제안합니다. 이 검사는 Python의 명시적인 패키지 디렉터리 마커를 찾아 <code class="language-plaintext highlighter-rouge">sys.path</code>에 추가할 적절한 디렉터리를 사용합니다.</p>

<p>제안된 초기화 프로세스는 파일 시스템에 저장된 패키지 세부 정보를 고려하도록 수정됩니다.</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">split_path_module()</code>이라는 지원 함수를 사용하여 파일 시스템 경로와 상대 모듈 이름을 기반으로 적절한 <code class="language-plaintext highlighter-rouge">sys.path</code> 항목과 정규화된 모듈 이름을 결정합니다.</li>
  <li>이 <code class="language-plaintext highlighter-rouge">split_path_module()</code> 기능은 <code class="language-plaintext highlighter-rouge">runpy</code> 모듈을 통해 Python 사용자에게 직접 노출될 것을 제안합니다.</li>
</ul>

<p>이 수정 사항이 적용되면, 패키지 내의 모듈도 다양한 명령줄 호출 방식으로 올바르게 실행될 수 있습니다. 예를 들어, <code class="language-plaintext highlighter-rouge">project/example/tests/</code> 디렉터리에서 <code class="language-plaintext highlighter-rouge">test_foo.py</code>를 <code class="language-plaintext highlighter-rouge">python -m package.tests.test_foo</code> 또는 <code class="language-plaintext highlighter-rouge">python -c "from .test_foo import main; main()"</code> 등으로 실행해도 올바르게 작동하게 됩니다.</p>

<h3 id="2-선택적-추가-명령줄-상대-임포트-optional-addition-command-line-relative-imports">2. 선택적 추가: 명령줄 상대 임포트 (Optional addition: command line relative imports)</h3>

<p>위의 변경 사항이 적용되면, <code class="language-plaintext highlighter-rouge">-m</code> 스위치의 인수로 명시적 상대 임포트를 허용하는 것은 비교적 사소한 추가 사항이 될 것입니다.
예시:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 현재 작업 디렉토리: project/example/tests
</span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="p">.</span><span class="n">test_foo</span>
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="p">..</span><span class="n">tests</span><span class="p">.</span><span class="n">test_foo</span>
</code></pre></div></div>
<p>이 추가 사항으로 <code class="language-plaintext highlighter-rouge">-m</code> 스위치의 시스템 초기화 방식이 변경됩니다.</p>

<h3 id="3-주-모듈-이중-임포트-수정-fixing-dual-imports-of-the-main-module">3. 주 모듈 이중 임포트 수정 (Fixing dual imports of the main module)</h3>

<p>주 모듈에서 <code class="language-plaintext highlighter-rouge">__qualname__</code>이 일관되게 올바르게 설정되도록 하는 위의 제안을 바탕으로, 주 모듈의 이중 임포트 문제를 제거하기 위한 간단한 변경 사항이 제안됩니다. 이는 <code class="language-plaintext highlighter-rouge">__main__</code>을 실제 이름으로 임포트하려는 시도를 감지하고 원래의 주 모듈을 반환하는 <code class="language-plaintext highlighter-rouge">sys.metapath</code> 훅을 추가하는 것입니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">AliasImporter</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">module</span><span class="p">,</span> <span class="n">alias</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">module</span> <span class="o">=</span> <span class="n">module</span>
        <span class="n">self</span><span class="p">.</span><span class="n">alias</span> <span class="o">=</span> <span class="n">alias</span>
    <span class="c1"># ... (find_module, load_module 메서드 구현)
</span></code></pre></div></div>
<p>이 <code class="language-plaintext highlighter-rouge">metapath</code> 훅은 임포트 시스템 초기화 중에 자동으로 추가됩니다.</p>

<h3 id="4-인트로스펙션을-손상시키지-않고-pickle-문제-수정-fixing-pickling-without-breaking-introspection">4. 인트로스펙션을 손상시키지 않고 pickle 문제 수정 (Fixing pickling without breaking introspection)</h3>

<p>이 문제를 해결하기 위해, <code class="language-plaintext highlighter-rouge">__name__</code>이 어떤 이유로든 수정되었을 때 모듈의 실제 위치를 결정하기 위해 새로운 모듈 레벨 <code class="language-plaintext highlighter-rouge">__qualname__</code> 속성을 사용할 것을 제안합니다.</p>
<ul>
  <li>주 모듈에서는 <code class="language-plaintext highlighter-rouge">__qualname__</code>이 인터프리터에 의해 주 모듈의 “실제” 이름으로 자동 설정됩니다.</li>
  <li>공개 네임스페이스를 가리키도록 <code class="language-plaintext highlighter-rouge">__name__</code>을 조정하는 의사 모듈(pseudo-modules)은 <code class="language-plaintext highlighter-rouge">__qualname__</code>을 건드리지 않아 구현 위치가 인트로스펙션에 쉽게 접근 가능하도록 합니다.</li>
  <li>여러 서브 모듈이 동일한 “공개” 네임스페이스를 사용하도록 설정될 수 있으므로, 함수와 클래스에는 해당 모듈의 <code class="language-plaintext highlighter-rouge">__qualname__</code>을 참조하는 새로운 <code class="language-plaintext highlighter-rouge">__qualmodule__</code> 속성이 부여됩니다.</li>
</ul>

<p>이러한 변경 사항은 <code class="language-plaintext highlighter-rouge">__name__</code> (및 간접적으로 해당하는 함수 및 클래스 <code class="language-plaintext highlighter-rouge">__module__</code> 속성)을 조정하는 것이 네임스페이스를 패키지로 구현하는 공식적인 방법이 되며, API는 여전히 단일 모듈인 것처럼 노출됩니다. 모든 직렬화 코드는 기본적으로 구현 세부 정보를 노출하는 것을 피하게 됩니다.</p>

<h3 id="5-windows의-멀티프로세싱-수정-fixing-multiprocessing-on-windows">5. Windows의 멀티프로세싱 수정 (Fixing multiprocessing on Windows)</h3>

<p><code class="language-plaintext highlighter-rouge">__qualname__</code>을 통해 <code class="language-plaintext highlighter-rouge">multiprocessing</code>이 주 모듈의 실제 이름을 알 수 있게 되면서, 자식 프로세스로 전달되는 직렬화된 정보에 단순히 이를 포함할 수 있게 되어 <code class="language-plaintext highlighter-rouge">__file__</code> 속성에 대한 현재의 의심스러운 인트로스펙션이 필요 없게 됩니다.</p>

<h3 id="6-명시적-상대-임포트-explicit-relative-imports">6. 명시적 상대 임포트 (Explicit relative imports)</h3>

<p>이 PEP는 <code class="language-plaintext highlighter-rouge">__package__</code>가 주 모듈에서 <code class="language-plaintext highlighter-rouge">__qualname__.rpartition('.')[0]</code>으로 무조건 정의될 것을 제안합니다. 그 외에는 명시적 상대 임포트의 동작을 그대로 유지할 것을 제안합니다.</p>

<h2 id="호환성-compatibility">호환성 (Compatibility)</h2>

<ul>
  <li><strong>PEP 382와의 호환성:</strong> PEP 382 (네임스페이스 패키징)와 이 제안의 호환성은 <code class="language-plaintext highlighter-rouge">_is_package_dir()</code>의 의미만 변경하면 간단합니다.</li>
  <li>
    <p><strong>PEP 402와의 비호환성:</strong> PEP 402는 Python 패키지에 대한 파일 시스템의 명시적 마커 제거를 제안합니다. 이는 파일 시스템 경로와 Python 모듈 이름을 가지고 Python 모듈 네임스페이스에 대한 명확한 매핑을 찾아낼 수 있다는 제안된 개념을 근본적으로 깨뜨립니다. 결과적으로, <code class="language-plaintext highlighter-rouge">sys.path[0]</code> 계산 문제를 해결하는 것이 불가능해집니다.</p>
  </li>
  <li><strong>패키지에 저장된 스크립트와의 잠재적 비호환성:</strong> <code class="language-plaintext highlighter-rouge">sys.path[0]</code> 초기화에 대한 제안된 변경 사항은 일부 기존 코드를 깨뜨릴 수 있습니다. 특히 Python 3에서 올바르게 실행되기 위해 <code class="language-plaintext highlighter-rouge">__main__</code>의 암시적 상대 임포트에 의존하는 패키지 디렉터리에 저장된 스크립트가 영향을 받습니다. 이러한 스크립트들은 명시적 상대 임포트로 전환해야 다시 실행 가능한 스크립트이자 임포트 가능한 모듈로 작동하게 될 것입니다.</li>
</ul>

<h2 id="참고-구현-reference-implementation">참고 구현 (Reference Implementation)</h2>

<p>아직 없습니다.</p>

<h2 id="참고-자료-references">참고 자료 (References)</h2>

<ul>
  <li>Module aliases and/or “real names”</li>
  <li>PEP 395 (Module aliasing) and the namespace PEPs</li>
  <li>Updated PEP 395 (aka “Implicit Relative Imports Must Die!”)</li>
</ul>

<h2 id="저작권-copyright">저작권 (Copyright)</h2>

<p>이 문서는 퍼블릭 도메인에 공개되었습니다.</p>

<blockquote>
  <p>⚠️ <strong>알림:</strong> 이 문서는 AI를 활용하여 번역되었으며, 기술적 정확성을 보장하지 않습니다. 정확한 내용은 반드시 원문을 확인하시기 바랍니다.</p>
</blockquote>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#pep" class="page__taxonomy-item" rel="tag">PEP</a><span class="sep">, </span>
    
      <a href="/tags/#python" class="page__taxonomy-item" rel="tag">Python</a><span class="sep">, </span>
    
      <a href="/tags/#translation" class="page__taxonomy-item" rel="tag">Translation</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#pep" class="page__taxonomy-item" rel="tag">PEP</a><span class="sep">, </span>
    
      <a href="/categories/#python" class="page__taxonomy-item" rel="tag">Python</a>
    
    </span>
  </p>


        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2025-09-26">September 26, 2025</time></p>


      </footer>

      

      
  <nav class="pagination">
    
      <a href="/python/pep/394/" class="pagination--pager" title="[Active] PEP 394 - The “python” Command on Unix-Like Systems
">Previous</a>
    
    
      <a href="/python/pep/396/" class="pagination--pager" title="[Withdrawn] PEP 396 - Module Version Numbers
">Next</a>
    
  </nav>


    </div>

    
  </article>

</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 secrett2633. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    <script>
  'use strict';

  (function() {
    var commentContainer = document.querySelector('#utterances-comments');

    if (!commentContainer) {
      return;
    }

    var script = document.createElement('script');
    script.setAttribute('src', 'https://utteranc.es/client.js');
    script.setAttribute('repo', 'secrett2633/secrett2633.github.io');
    script.setAttribute('issue-term', 'pathname');
    script.setAttribute('theme', 'github-light');
    script.setAttribute('crossorigin', 'anonymous');

    commentContainer.appendChild(script);
  })();
</script>

  





  </body>
</html>
