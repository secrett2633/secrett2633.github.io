<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.22.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="ko" class="no-js">
  <head>
    <style> 
      ::-webkit-scrollbar{ 
        width: 10px;
        height: 10px;
      }

      ::-webkit-scrollbar-track {
        width: 0px;
        background-color: #626262;
        /* border-radius: 5px; */
      }

      ::-webkit-scrollbar-thumb {
        width: 0px;
        background-color: #E2E2E2;
        border-radius: 5px;
      }

      ::-webkit-scrollbar-thumb:hover {
        width: 10px;
        height: 20px;
        /* background-color: rgba(190, 190, 190, 0.2); */
        background-color: #A2A2A2;
        border-radius: 5px;
      }

      ::-webkit-scrollbar-track:hover {
        width: 10px;
        /* background-color: rgba(150, 150, 150, 0.1); */
        background-color: #626262;
        border-radius: 5px;
        /* background: transparent; */
        /* border-radius: 10px; */
      }

      ::-webkit-scrollbar-button:start:decrement,::-webkit-scrollbar-button:end:increment {
          width:0px;
          height: 0px;
          /* background-color: rgb(14, 221, 24); */
          /* border-radius: 50%; */
      }
    </style>
    
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>[Final] PEP 678 - Enriching Exceptions with Notes | secrett2633</title>
<meta name="description" content="Python Enhancement Proposal 678: ‘Enriching Exceptions with Notes’에 대한 한국어 번역입니다.">


  <meta name="author" content="secrett2633">
  
  <meta property="article:author" content="secrett2633">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="ko_KR">
<meta property="og:site_name" content="secrett2633's blog">
<meta property="og:title" content="[Final] PEP 678 - Enriching Exceptions with Notes">
<meta property="og:url" content="http://localhost:4000/python/pep/678/">


  <meta property="og:description" content="Python Enhancement Proposal 678: ‘Enriching Exceptions with Notes’에 대한 한국어 번역입니다.">







  <meta property="article:published_time" content="2025-09-27T10:09:33+09:00">



  <meta property="article:modified_time" content="2025-09-27T10:09:33+09:00">



  

  


<link rel="canonical" href="http://localhost:4000/python/pep/678/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "secrett2633",
      "url": "http://localhost:4000/"
    
  }
</script>






<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="secrett2633's blog Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->


    <link rel="icon" type="image/png" sizes="32x32" href="https://secrett2633.github.io/assets/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://secrett2633.github.io/assets/images/favicon/favicon-16x16.png">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          secrett2633's blog
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="https://github.com/secrett2633">GitHub</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  

  <!-- 2022.02.17 author content hidden -->
  <!-- <div class="author__content">
    
      <h3 class="author__name" itemprop="name">secrett2633</h3>
    
    
  </div> -->

  <div class="author__urls-wrapper">
    <!-- <button class="btn btn--inverse">Follow</button> -->
    <ul class="author__urls social-icons">
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
    
      
      
      
      
    
    
      <nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    <!-- Backend -->
    <li>
      <span class="nav__sub-title">Backend</span>
      <hr>
      <ul>
        <li><a href="/backend/django/">Django</a></li>
        <li><a href="/backend/logging/">Logging</a></li>
      </ul>
    </li>

    <!-- Python -->
    <li>
      <span class="nav__sub-title">Python</span>
      <hr>
      <ul>
        <li><a href="/python/pep/">PEP</a></li>
      </ul>
    </li>

    <!-- AI/ML -->
    <li>
      <span class="nav__sub-title">AI/ML</span>
      <hr>
      <ul>
        <li><a href="/ai/llm/">LLM</a></li>
        <li><a href="/ai/review/">Review</a></li>
      </ul>
    </li>

    <!-- DevOps -->
    <li>
      <span class="nav__sub-title">DevOps</span>
      <hr>
      <ul>
        <li><a href="/devops/nginx/">Nginx</a></li>
        <li><a href="/devops/docker/">Docker</a></li>
        <li><a href="/devops/safeline/">SafeLine</a></li>
        <li><a href="/devops/jenkins/">Jenkins</a></li>
        <li><a href="/devops/github-actions/">GitHub Actions</a></li>
        <li><a href="/devops/aws/">AWS</a></li>
      </ul>
    </li>

    <!-- etc -->
    <li>
      <span class="nav__sub-title">etc</span>
      <hr>
      <ul>
        <li><a href="/etc/me/">Me</a></li>
        <li><a href="/etc/chrome-extension/">Chrome Extension</a></li>
      </ul>
    </li>
  </ul>
</nav>
    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="[Final] PEP 678 - Enriching Exceptions with Notes">
    <meta itemprop="description" content="Python Enhancement Proposal 678: ‘Enriching Exceptions with Notes’에 대한 한국어 번역입니다.">
    <meta itemprop="datePublished" content="2025-09-27T10:09:33+09:00">
    <meta itemprop="dateModified" content="2025-09-27T10:09:33+09:00">

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">[Final] PEP 678 - Enriching Exceptions with Notes
</h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        <time datetime="2025-09-27T10:09:33+09:00">September 27, 2025</time>
      </span>
    

    

    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#pep-678--예외에-notes-추가하기">PEP 678 – 예외에 Notes 추가하기</a><ul><li><a href="#초록-abstract">초록 (Abstract)</a></li><li><a href="#동기-motivation">동기 (Motivation)</a><ul><li><a href="#사용-예시-example-usage">사용 예시 (Example usage)</a></li><li><a href="#비목표-non-goals">비목표 (Non-goals)</a></li></ul></li><li><a href="#명세-specification">명세 (Specification)</a></li><li><a href="#하위-호환성-backwards-compatibility">하위 호환성 (Backwards Compatibility)</a></li><li><a href="#교육-방법-how-to-teach-this">교육 방법 (How to Teach This)</a></li><li><a href="#참조-구현-reference-implementation">참조 구현 (Reference Implementation)</a></li><li><a href="#거부된-아이디어-rejected-ideas">거부된 아이디어 (Rejected Ideas)</a><ul><li><a href="#print-또는-logging-등-사용">print() (또는 logging 등) 사용</a></li><li><a href="#raise-wrapperexplanation-from-err">raise Wrapper(explanation) from err</a></li><li><a href="#할당-가능한-__note__-속성">할당 가능한 __note__ 속성</a></li><li><a href="#exception을-서브클래싱하여-하위에서-노트-지원-추가">Exception을 서브클래싱하여 하위에서 노트 지원 추가</a></li><li><a href="#노트를-exception에-첨부하지-않고-exceptiongroup에만-저장">노트를 Exception에 첨부하지 않고 ExceptionGroup에만 저장</a></li><li><a href="#헬퍼-함수-contextlibadd_exc_note-추가">헬퍼 함수 contextlib.add_exc_note() 추가</a></li><li><a href="#raise-문-증강">raise 문 증강</a></li></ul></li></ul></li></ul>

            </nav>
          </aside>
        
        <blockquote>
  <p><strong>원문 링크:</strong> <a href="https://peps.python.org/pep-0678/">PEP 678 - Enriching Exceptions with Notes</a></p>

  <table>
    <tbody>
      <tr>
        <td><strong>상태:</strong> Final</td>
        <td><strong>유형:</strong> Standards Track</td>
        <td><strong>작성일:</strong> 20-Dec-2021</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<h1 id="pep-678--예외에-notes-추가하기">PEP 678 – 예외에 Notes 추가하기</h1>

<h2 id="초록-abstract">초록 (Abstract)</h2>
<p>Python의 예외(Exception) 객체는 일반적으로 발생한 오류를 설명하는 메시지로 초기화됩니다. 하지만 예외가 포착(catch)되어 다시 발생(re-raise)되거나 <code class="language-plaintext highlighter-rouge">ExceptionGroup</code>에 포함될 때 추가 정보가 필요할 수 있습니다. PEP 678은 이러한 필요에 따라 <code class="language-plaintext highlighter-rouge">BaseException.add_note(note)</code> 메서드와 추가된 노트들을 담는 <code class="language-plaintext highlighter-rouge">.__notes__</code> 속성(list)을 도입할 것을 제안합니다. 또한, 내장 트레이스백(traceback) 포매팅 코드가 예외 문자열(exception string) 다음에 노트들을 포함하도록 업데이트됩니다.</p>

<p>이 기능은 PEP 654의 <code class="language-plaintext highlighter-rouge">ExceptionGroup</code>과 관련하여 특히 유용하며, 기존의 해결책들이 비효율적이거나 혼란스러웠던 문제를 해결합니다. 표준 라이브러리, Hypothesis 및 cattrs 패키지, 그리고 재시도(retries)가 있는 일반적인 코드 패턴에서 사용 사례가 확인되었습니다.</p>

<h2 id="동기-motivation">동기 (Motivation)</h2>
<p>예외가 발생하기 위해 생성될 때, 주로 발생한 오류를 설명하는 정보로 초기화됩니다. 하지만 예외가 포착된 후 추가 정보를 추가하는 것이 유용한 경우가 있습니다. 예를 들어,</p>

<ul>
  <li><strong>테스팅 라이브러리</strong>는 실패한 assert와 관련된 값이나 실패를 재현하는 단계를 표시하고자 할 수 있습니다 (예: pytest 및 hypothesis).</li>
  <li><strong>오류 발생 시 작업을 재시도하는 코드</strong>는 여러 오류 각각에 반복 횟수, 타임스탬프 또는 다른 설명을 연결하고 싶을 수 있습니다. 특히 이들을 <code class="language-plaintext highlighter-rouge">ExceptionGroup</code>으로 다시 발생시킬 때 더욱 그렇습니다.</li>
  <li><strong>초보자를 위한 프로그래밍 환경</strong>은 다양한 오류에 대한 더 자세한 설명과 해결 팁을 제공할 수 있습니다.</li>
</ul>

<p>기존 접근 방식들은 이 추가 정보를 전달하면서도 발생했거나, 포착되었거나, 연결된(chained) 예외의 상태와 동기화해야 했습니다. 이는 이미 오류 발생 가능성이 높았으며, PEP 654 <code class="language-plaintext highlighter-rouge">ExceptionGroup</code>으로 인해 더욱 어려워졌으므로, 내장 솔루션이 필요한 시점입니다.</p>

<p>따라서 PEP 678은 다음을 제안합니다.</p>
<ul>
  <li>새로운 메서드 <code class="language-plaintext highlighter-rouge">BaseException.add_note(note: str)</code></li>
  <li><code class="language-plaintext highlighter-rouge">.add_note()</code>를 사용하여 추가된 노트 문자열 리스트인 <code class="language-plaintext highlighter-rouge">BaseException.__notes__</code></li>
  <li>내장 트레이스백 포매팅 코드에서 노트가 예외 문자열 다음에 표시되도록 지원.</li>
</ul>

<h3 id="사용-예시-example-usage">사용 예시 (Example usage)</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="k">try</span><span class="p">:</span>
<span class="p">...</span>     <span class="k">raise</span> <span class="nc">TypeError</span><span class="p">(</span><span class="sh">'</span><span class="s">bad type</span><span class="sh">'</span><span class="p">)</span>
<span class="p">...</span> <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="p">...</span>     <span class="n">e</span><span class="p">.</span><span class="nf">add_note</span><span class="p">(</span><span class="sh">'</span><span class="s">Add some information</span><span class="sh">'</span><span class="p">)</span>
<span class="p">...</span>     <span class="k">raise</span>
<span class="bp">...</span>
<span class="nc">Traceback </span><span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="sh">"</span><span class="s">&lt;stdin&gt;</span><span class="sh">"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">2</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="nb">TypeError</span><span class="p">:</span> <span class="n">bad</span> <span class="nb">type</span>
<span class="n">Add</span> <span class="n">some</span> <span class="n">information</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">ExceptionGroup</code>에 예외를 수집할 때, 개별 오류에 대한 컨텍스트 정보를 추가할 수 있습니다. 다음은 Hypothesis와 <code class="language-plaintext highlighter-rouge">ExceptionGroup</code>을 사용한 예시입니다. 각 예외에는 최소 실패 예시에 대한 노트가 포함됩니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">hypothesis</span> <span class="kn">import</span> <span class="n">given</span><span class="p">,</span> <span class="n">strategies</span> <span class="k">as</span> <span class="n">st</span><span class="p">,</span> <span class="n">target</span>

<span class="nd">@given</span><span class="p">(</span><span class="n">st</span><span class="p">.</span><span class="nf">integers</span><span class="p">())</span>
<span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span>
    <span class="k">assert</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span>

<span class="c1"># + Exception Group Traceback (most recent call last):
# | File "test.py", line 4, in test
# |   def test(x):
# |
# | File "hypothesis/core.py", line 1202, in wrapped_test
# |     raise the_error_hypothesis_found
# |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
# | ExceptionGroup: Hypothesis found 2 distinct failures.
# +-+---------------- 1 ----------------
# | Traceback (most recent call last):
# |   File "test.py", line 6, in test
# |     assert x &gt; 0
# |     ^^^^^^^^^^^^
# | AssertionError: assert -1 &gt; 0
# |
# | Falsifying example: test(
# |     x=-1,
# | )
# +---------------- 2 ----------------
# | Traceback (most recent call last):
# |   File "test.py", line 5, in test
# |     assert x &lt; 0
# |     ^^^^^^^^^^^^
# | AssertionError: assert 0 &lt; 0
# |
# | Falsifying example: test(
# |     x=0,
# | )
# +------------------------------------
</span></code></pre></div></div>

<h3 id="비목표-non-goals">비목표 (Non-goals)</h3>
<p>여러 노트를 리스트로 추적하는 것은 노트가 추가될 때 문자열을 연결하는 대신 개별 노트 간의 구분을 유지하기 위함입니다. 이는 friendly-traceback과 같은 패키지에서 노트 번역과 같은 특수 사용 사례에서 필요할 수 있습니다.</p>

<p>그러나 <code class="language-plaintext highlighter-rouge">__notes__</code>는 구조화된 데이터를 전달하기 위한 것이 아닙니다. 노트가 사람에게 표시되기보다는 프로그램에서 사용하기 위한 것이라면, 오류 또는 <code class="language-plaintext highlighter-rouge">ExceptionGroup</code>에 <code class="language-plaintext highlighter-rouge">err._parse_errors = ...</code>와 같은 속성에 대한 규칙을 선택하는 것을 권장합니다 (또는 추가적으로).</p>

<p>경험상, 오류가 개별 오류로 다시 발생하거나 처리될 경우에는 예외 체인(exception chaining)을 선호하고, 예외 유형을 변경하는 것을 피하거나 여러 예외 객체를 함께 처리하기 위해 수집하는 경우에는 <code class="language-plaintext highlighter-rouge">.add_note()</code>를 선호하는 것을 제안합니다.</p>

<h2 id="명세-specification">명세 (Specification)</h2>
<p><code class="language-plaintext highlighter-rouge">BaseException</code>은 새로운 메서드 <code class="language-plaintext highlighter-rouge">.add_note(note: str)</code>를 얻습니다. <code class="language-plaintext highlighter-rouge">note</code>가 문자열이면, <code class="language-plaintext highlighter-rouge">.add_note(note)</code>는 이를 <code class="language-plaintext highlighter-rouge">__notes__</code> 리스트에 추가하며, 속성이 존재하지 않으면 생성합니다. <code class="language-plaintext highlighter-rouge">note</code>가 문자열이 아니면, <code class="language-plaintext highlighter-rouge">.add_note()</code>는 <code class="language-plaintext highlighter-rouge">TypeError</code>를 발생시킵니다.</p>

<p>라이브러리는 <code class="language-plaintext highlighter-rouge">__notes__</code> 리스트를 수정하거나 삭제하여 기존 노트를 지울 수 있으며, <code class="language-plaintext highlighter-rouge">del err.__notes__</code>를 사용하여 모든 노트를 지울 수도 있습니다. 이를 통해 첨부된 노트에 대한 완전한 제어가 가능하며, API를 지나치게 복잡하게 만들거나 <code class="language-plaintext highlighter-rouge">BaseException.__dict__</code>에 여러 이름을 추가하지 않습니다.</p>

<p>인터프리터의 내장 트레이스백 렌더링 코드에 의해 예외가 표시될 때, 노트(있는 경우)는 예외 메시지 바로 뒤에, 추가된 순서대로, 각 노트가 새 줄에서 시작하여 나타납니다.</p>

<p><code class="language-plaintext highlighter-rouge">__notes__</code>가 생성된 경우, <code class="language-plaintext highlighter-rouge">BaseExceptionGroup.subgroup</code> 및 <code class="language-plaintext highlighter-rouge">BaseExceptionGroup.split</code>은 새 인스턴스마다 새로운 리스트를 생성하며, 원본 예외 그룹의 <code class="language-plaintext highlighter-rouge">__notes__</code>와 동일한 내용을 포함합니다.</p>

<p>사용자가 <code class="language-plaintext highlighter-rouge">__notes__</code>에 리스트가 아닌 값을 할당하거나 문자열이 아닌 요소를 포함하는 리스트를 할당했을 때의 예상되는 동작은 명시하지 않습니다. 구현은 경고를 발행하거나, 잘못된 값을 삭제 또는 무시하거나, 문자열로 변환하거나, 예외를 발생시키거나, 완전히 다른 작업을 수행할 수 있습니다.</p>

<h2 id="하위-호환성-backwards-compatibility">하위 호환성 (Backwards Compatibility)</h2>
<p>시스템 정의 또는 “던더(dunder)” 이름 ( <code class="language-plaintext highlighter-rouge">__*__</code> 패턴을 따름)은 언어 명세의 일부이며, 할당되지 않은 이름은 향후 사용을 위해 예약되어 있고 경고 없이 변경될 수 있습니다. 또한 <code class="language-plaintext highlighter-rouge">__notes__</code> 추가로 인해 손상될 수 있는 코드는 알지 못합니다.</p>

<p><code class="language-plaintext highlighter-rouge">BaseException.add_note()</code> 추가로 인해 손상될 수 있는 코드도 찾을 수 없었습니다. Google 및 GitHub 검색 결과 여러 <code class="language-plaintext highlighter-rouge">.add_note()</code> 메서드 정의가 발견되었지만, 그 중 어느 것도 <code class="language-plaintext highlighter-rouge">BaseException</code>의 서브클래스에 있지 않았습니다.</p>

<h2 id="교육-방법-how-to-teach-this">교육 방법 (How to Teach This)</h2>
<p><code class="language-plaintext highlighter-rouge">add_note()</code> 메서드와 <code class="language-plaintext highlighter-rouge">__notes__</code> 속성은 언어 표준의 일부로 문서화되고, “Errors and Exceptions” 튜토리얼의 일부로 설명될 것입니다.</p>

<h2 id="참조-구현-reference-implementation">참조 구현 (Reference Implementation)</h2>
<p>PEP 654와 관련된 논의에 따라, 이 제안의 초기 버전은 CPython 3.11.0a3에 구현 및 출시되었으며, 변경 가능한 문자열 또는 <code class="language-plaintext highlighter-rouge">None</code> 타입의 <code class="language-plaintext highlighter-rouge">__note__</code> 속성을 가졌습니다.</p>

<p>CPython PR #31317은 <code class="language-plaintext highlighter-rouge">.add_note()</code> 및 <code class="language-plaintext highlighter-rouge">__notes__</code>를 구현합니다.</p>

<h2 id="거부된-아이디어-rejected-ideas">거부된 아이디어 (Rejected Ideas)</h2>

<h3 id="print-또는-logging-등-사용"><code class="language-plaintext highlighter-rouge">print()</code> (또는 <code class="language-plaintext highlighter-rouge">logging</code> 등) 사용</h3>
<p>오류에 대한 설명 또는 컨텍스트 정보를 <code class="language-plaintext highlighter-rouge">print</code> 또는 <code class="language-plaintext highlighter-rouge">logging</code>으로 보고하는 것은 역사적으로 허용되는 해결책이었습니다. 그러나 이 방식은 내용과 참조하는 예외 객체를 분리시켜, 오류가 나중에 포착되어 처리되거나 단순히 어떤 설명이 어떤 오류에 해당하는지 파악하기가 어려워지는 “고아(orphan)” 보고서를 초래할 수 있습니다. 새로운 <code class="language-plaintext highlighter-rouge">ExceptionGroup</code> 타입은 이러한 기존의 문제들을 심화시킵니다.</p>

<p><code class="language-plaintext highlighter-rouge">__traceback__</code> 속성과 동일한 방식으로 <code class="language-plaintext highlighter-rouge">__notes__</code>를 예외 객체에 첨부하면 이러한 문제들이 해결됩니다.</p>

<h3 id="raise-wrapperexplanation-from-err"><code class="language-plaintext highlighter-rouge">raise Wrapper(explanation) from err</code></h3>
<p>또 다른 패턴은 예외 체인(exception chaining)을 사용하는 것입니다. 현재 예외로부터 컨텍스트나 설명을 포함하는 ‘래퍼(wrapper)’ 예외를 발생시킴으로써, <code class="language-plaintext highlighter-rouge">print()</code>로부터의 분리 문제를 피할 수 있습니다. 그러나 여기에는 두 가지 주요 문제가 있습니다.</p>

<p>첫째, 예외의 유형을 변경하는데, 이는 종종 하위 코드에 대한 호환성(breaking change)을 야기합니다. 항상 <code class="language-plaintext highlighter-rouge">Wrapper</code> 예외를 발생시키는 것은 용납할 수 없을 정도로 우아하지 않다고 판단합니다. 또한 사용자 정의 예외 유형은 임의의 수의 필수 인수를 가질 수 있기 때문에 항상 동일한 유형의 인스턴스를 설명과 함께 생성할 수는 없습니다. 정확한 예외 유형을 아는 경우에는 표준 라이브러리 <code class="language-plaintext highlighter-rouge">http.client</code> 코드와 같이 작동할 수 있지만, 사용자 코드를 호출하는 라이브러리에서는 작동하지 않습니다.</p>

<p>둘째, 예외 체인은 여러 줄의 추가적인 세부 정보를 보고하는데, 이는 숙련된 사용자에게는 방해가 되고 초보자에게는 매우 혼란스러울 수 있습니다.</p>

<p>이 두 가지 문제가 적용되지 않는 경우에는 <code class="language-plaintext highlighter-rouge">__notes__</code> 대신 예외 체인 사용을 권장합니다.</p>

<h3 id="할당-가능한-__note__-속성">할당 가능한 <code class="language-plaintext highlighter-rouge">__note__</code> 속성</h3>
<p>이 PEP의 첫 번째 초안 및 구현은 단일 <code class="language-plaintext highlighter-rouge">__note__</code> 속성을 정의했으며, 이는 기본적으로 <code class="language-plaintext highlighter-rouge">None</code>이지만 문자열을 할당할 수 있었습니다. 이는 노트가 최대 하나일 경우에만 훨씬 간단합니다.</p>

<p>friendly-traceback과 같은 라이브러리에서 오류 메시지의 상호 운용성과 번역을 촉진하기 위해 의심스러운 구문 분석 휴리스틱에 의존하지 않고 <code class="language-plaintext highlighter-rouge">.add_note()</code> 및 <code class="language-plaintext highlighter-rouge">__notes__</code> API에 합의했습니다.</p>

<h3 id="exception을-서브클래싱하여-하위에서-노트-지원-추가"><code class="language-plaintext highlighter-rouge">Exception</code>을 서브클래싱하여 하위에서 노트 지원 추가</h3>
<p>트레이스백 출력은 C 코드에 내장되어 있으며, <code class="language-plaintext highlighter-rouge">traceback.py</code>에서 순수 Python으로 재구현됩니다. 하위 구현에서 <code class="language-plaintext highlighter-rouge">err.__notes__</code>를 출력하려면 사용자 정의 트레이스백 출력 코드를 작성해야 합니다.</p>

<p>사용자 정의 예외 유형은 <code class="language-plaintext highlighter-rouge">__str__</code> 메서드를 구현하여 제안된 <code class="language-plaintext highlighter-rouge">__notes__</code> 의미 체계를 포함할 수 있지만, 이는 거의 사용되지 않고 일관성이 없을 것입니다.</p>

<h3 id="노트를-exception에-첨부하지-않고-exceptiongroup에만-저장">노트를 <code class="language-plaintext highlighter-rouge">Exception</code>에 첨부하지 않고 <code class="language-plaintext highlighter-rouge">ExceptionGroup</code>에만 저장</h3>
<p>이 PEP의 초기 동기는 <code class="language-plaintext highlighter-rouge">ExceptionGroup</code>의 각 오류에 노트를 연결하는 것이었습니다. 놀랍도록 어색한 API와 위에서 논의된 상호 참조 문제의 대가를 치르면, 이 사용 사례는 각 예외에 저장하는 대신 <code class="language-plaintext highlighter-rouge">ExceptionGroup</code> 인스턴스에 노트를 저장하여 지원될 수 있었습니다.</p>

<p>그러나 더 깔끔한 인터페이스와 위에서 설명된 다른 사용 사례들이 이 PEP가 제안하는 더 일반적인 기능을 정당화하기에 충분하다고 생각합니다.</p>

<h3 id="헬퍼-함수-contextlibadd_exc_note-추가">헬퍼 함수 <code class="language-plaintext highlighter-rouge">contextlib.add_exc_note()</code> 추가</h3>
<p>표준 라이브러리에 다음과 같은 유틸리티를 추가하는 것이 제안되었습니다. 이 아이디어는 이 PEP의 제안의 핵심이 아니므로, 나중이나 하위 구현을 위해 남겨둡니다.</p>

<h3 id="raise-문-증강"><code class="language-plaintext highlighter-rouge">raise</code> 문 증강</h3>
<p>한 논의에서는 <code class="language-plaintext highlighter-rouge">raise Exception() with "note contents"</code>를 제안했지만, 이는 <code class="language-plaintext highlighter-rouge">ExceptionGroup</code>과의 호환성이라는 원래 동기를 해결하지 못합니다.</p>

<p>또한, 해결하려는 문제가 새로운 언어 구문을 필요로 하거나 정당화한다고 생각하지 않습니다.</p>

<blockquote>
  <p>⚠️ <strong>알림:</strong> 이 문서는 AI를 활용하여 번역되었으며, 기술적 정확성을 보장하지 않습니다. 정확한 내용은 반드시 원문을 확인하시기 바랍니다.</p>
</blockquote>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#pep" class="page__taxonomy-item" rel="tag">PEP</a><span class="sep">, </span>
    
      <a href="/tags/#python" class="page__taxonomy-item" rel="tag">Python</a><span class="sep">, </span>
    
      <a href="/tags/#translation" class="page__taxonomy-item" rel="tag">Translation</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#pep" class="page__taxonomy-item" rel="tag">PEP</a><span class="sep">, </span>
    
      <a href="/categories/#python" class="page__taxonomy-item" rel="tag">Python</a>
    
    </span>
  </p>


        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2025-09-27">September 27, 2025</time></p>


      </footer>

      

      
  <nav class="pagination">
    
      <a href="/python/pep/677/" class="pagination--pager" title="[Rejected] PEP 677 - Callable Type Syntax
">Previous</a>
    
    
      <a href="/python/pep/679/" class="pagination--pager" title="[Draft] PEP 679 - New assert statement syntax with parentheses
">Next</a>
    
  </nav>


    </div>

    
  </article>

</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 secrett2633. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    <script>
  'use strict';

  (function() {
    var commentContainer = document.querySelector('#utterances-comments');

    if (!commentContainer) {
      return;
    }

    var script = document.createElement('script');
    script.setAttribute('src', 'https://utteranc.es/client.js');
    script.setAttribute('repo', 'secrett2633/secrett2633.github.io');
    script.setAttribute('issue-term', 'pathname');
    script.setAttribute('theme', 'github-light');
    script.setAttribute('crossorigin', 'anonymous');

    commentContainer.appendChild(script);
  })();
</script>

  





  </body>
</html>
