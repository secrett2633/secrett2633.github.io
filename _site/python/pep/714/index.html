<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.22.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="ko" class="no-js">
  <head>
    <style> 
      ::-webkit-scrollbar{ 
        width: 10px;
        height: 10px;
      }

      ::-webkit-scrollbar-track {
        width: 0px;
        background-color: #626262;
        /* border-radius: 5px; */
      }

      ::-webkit-scrollbar-thumb {
        width: 0px;
        background-color: #E2E2E2;
        border-radius: 5px;
      }

      ::-webkit-scrollbar-thumb:hover {
        width: 10px;
        height: 20px;
        /* background-color: rgba(190, 190, 190, 0.2); */
        background-color: #A2A2A2;
        border-radius: 5px;
      }

      ::-webkit-scrollbar-track:hover {
        width: 10px;
        /* background-color: rgba(150, 150, 150, 0.1); */
        background-color: #626262;
        border-radius: 5px;
        /* background: transparent; */
        /* border-radius: 10px; */
      }

      ::-webkit-scrollbar-button:start:decrement,::-webkit-scrollbar-button:end:increment {
          width:0px;
          height: 0px;
          /* background-color: rgb(14, 221, 24); */
          /* border-radius: 50%; */
      }
    </style>
    
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>[Accepted] PEP 714 - Rename dist-info-metadata in the Simple API | secrett2633</title>
<meta name="description" content="Python Enhancement Proposal 714: ‘Rename dist-info-metadata in the Simple API’에 대한 한국어 번역입니다.">


  <meta name="author" content="secrett2633">
  
  <meta property="article:author" content="secrett2633">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="ko_KR">
<meta property="og:site_name" content="secrett2633's blog">
<meta property="og:title" content="[Accepted] PEP 714 - Rename dist-info-metadata in the Simple API">
<meta property="og:url" content="http://localhost:4000/python/pep/714/">


  <meta property="og:description" content="Python Enhancement Proposal 714: ‘Rename dist-info-metadata in the Simple API’에 대한 한국어 번역입니다.">







  <meta property="article:published_time" content="2025-09-27T13:13:16+09:00">



  <meta property="article:modified_time" content="2025-09-27T13:13:16+09:00">



  

  


<link rel="canonical" href="http://localhost:4000/python/pep/714/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "secrett2633",
      "url": "http://localhost:4000/"
    
  }
</script>






<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="secrett2633's blog Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->


    <link rel="icon" type="image/png" sizes="32x32" href="https://secrett2633.github.io/assets/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://secrett2633.github.io/assets/images/favicon/favicon-16x16.png">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          secrett2633's blog
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="https://github.com/secrett2633">GitHub</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  

  <!-- 2022.02.17 author content hidden -->
  <!-- <div class="author__content">
    
      <h3 class="author__name" itemprop="name">secrett2633</h3>
    
    
  </div> -->

  <div class="author__urls-wrapper">
    <!-- <button class="btn btn--inverse">Follow</button> -->
    <ul class="author__urls social-icons">
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
    
      
      
      
      
    
    
      <nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    <!-- Backend -->
    <li>
      <span class="nav__sub-title">Backend</span>
      <hr>
      <ul>
        <li><a href="/backend/django/">Django</a></li>
        <li><a href="/backend/logging/">Logging</a></li>
      </ul>
    </li>

    <!-- Python -->
    <li>
      <span class="nav__sub-title">Python</span>
      <hr>
      <ul>
        <li><a href="/python/pep/">PEP</a></li>
      </ul>
    </li>

    <!-- AI/ML -->
    <li>
      <span class="nav__sub-title">AI/ML</span>
      <hr>
      <ul>
        <li><a href="/ai/llm/">LLM</a></li>
        <li><a href="/ai/review/">Review</a></li>
      </ul>
    </li>

    <!-- DevOps -->
    <li>
      <span class="nav__sub-title">DevOps</span>
      <hr>
      <ul>
        <li><a href="/devops/nginx/">Nginx</a></li>
        <li><a href="/devops/docker/">Docker</a></li>
        <li><a href="/devops/safeline/">SafeLine</a></li>
        <li><a href="/devops/jenkins/">Jenkins</a></li>
        <li><a href="/devops/github-actions/">GitHub Actions</a></li>
        <li><a href="/devops/aws/">AWS</a></li>
      </ul>
    </li>

    <!-- etc -->
    <li>
      <span class="nav__sub-title">etc</span>
      <hr>
      <ul>
        <li><a href="/etc/me/">Me</a></li>
        <li><a href="/etc/chrome-extension/">Chrome Extension</a></li>
      </ul>
    </li>
  </ul>
</nav>
    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="[Accepted] PEP 714 - Rename dist-info-metadata in the Simple API">
    <meta itemprop="description" content="Python Enhancement Proposal 714: ‘Rename dist-info-metadata in the Simple API’에 대한 한국어 번역입니다.">
    <meta itemprop="datePublished" content="2025-09-27T13:13:16+09:00">
    <meta itemprop="dateModified" content="2025-09-27T13:13:16+09:00">

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">[Accepted] PEP 714 - Rename dist-info-metadata in the Simple API
</h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        <time datetime="2025-09-27T13:13:16+09:00">September 27, 2025</time>
      </span>
    

    

    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#pep-714--simple-api에서-dist-info-metadata-이름-변경">PEP 714 – Simple API에서 dist-info-metadata 이름 변경</a><ul><li><a href="#초록-abstract">초록 (Abstract)</a></li><li><a href="#동기-motivation">동기 (Motivation)</a></li><li><a href="#근거-rationale">근거 (Rationale)</a></li><li><a href="#사양-specification">사양 (Specification)</a><ul><li><a href="#서버-servers">서버 (Servers)</a></li><li><a href="#클라이언트-clients">클라이언트 (Clients)</a></li></ul></li><li><a href="#하위-호환성-backwards-compatibility">하위 호환성 (Backwards Compatibility)</a></li><li><a href="#거부된-아이디어-rejected-ideas">거부된 아이디어 (Rejected Ideas)</a><ul><li><a href="#사양을-변경하지-않고-pypi-및또는-pip의-버그-수정을-다루기-leave-the-spec-unchanged-and-cope-with-fixing-in-pypi-andor-pip">사양을 변경하지 않고 PyPI 및/또는 pip의 버그 수정을 다루기 (Leave the spec unchanged, and cope with fixing in PyPI and/or pip)</a><ul><li><a href="#완화-pip-특별-처리-mitigation-special-case-pip">완화: pip 특별 처리 (Mitigation: Special Case pip)</a></li><li><a href="#완화-서버가-user-agent-감지-사용-mitigation-have-the-server-use-user-agent-detection">완화: 서버가 User-Agent 감지 사용 (Mitigation: Have the server use User-Agent Detection)</a></li></ul></li><li><a href="#json-키만-변경-only-change-the-json-key">JSON 키만 변경 (Only change the JSON key)</a></li></ul></li><li><a href="#권장-사항-recommendations">권장 사항 (Recommendations)</a><ul><li><a href="#서버-servers-1">서버 (Servers)</a></li><li><a href="#클라이언트-clients-1">클라이언트 (Clients)</a></li></ul></li><li><a href="#저작권-copyright">저작권 (Copyright)</a></li></ul></li></ul>

            </nav>
          </aside>
        
        <blockquote>
  <p><strong>원문 링크:</strong> <a href="https://peps.python.org/pep-0714/">PEP 714 - Rename dist-info-metadata in the Simple API</a></p>

  <table>
    <tbody>
      <tr>
        <td><strong>상태:</strong> Accepted</td>
        <td><strong>유형:</strong> Standards Track</td>
        <td><strong>작성일:</strong> 06-Jun-2023</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<h1 id="pep-714--simple-api에서-dist-info-metadata-이름-변경">PEP 714 – Simple API에서 <code class="language-plaintext highlighter-rouge">dist-info-metadata</code> 이름 변경</h1>

<ul>
  <li><strong>작성자:</strong> Donald Stufft</li>
  <li><strong>PEP 담당자:</strong> Paul Moore</li>
  <li><strong>상태:</strong> Accepted (수락됨)</li>
  <li><strong>유형:</strong> Standards Track</li>
  <li><strong>주제:</strong> Packaging</li>
  <li><strong>생성일:</strong> 2023년 6월 6일</li>
  <li><strong>해결일:</strong> 2023년 6월 27일</li>
</ul>

<h2 id="초록-abstract">초록 (Abstract)</h2>

<p>이 PEP는 Simple API의 HTML 및 JSON 형식 모두에서 <a href="https://peps.python.org/pep-0658/">PEP 658</a>이 제공하는 메타데이터의 이름을 변경하고, 이름 변경을 처리하는 방법에 대한 지침을 클라이언트와 서버 양쪽에 제공합니다.</p>

<h2 id="동기-motivation">동기 (Motivation)</h2>

<p><a href="https://peps.python.org/pep-0658/">PEP 658</a>은 Simple API를 통해 아티팩트(artifact)에서 코어 메타데이터(core metadata) 파일을 호스팅하는 메커니즘을 지정했습니다. 이를 통해 클라이언트는 전체 아티팩트를 다운로드하지 않고도 메타데이터를 가져와 사용할 수 있게 되었습니다. 이후 <a href="https://peps.python.org/pep-0691/">PEP 691</a>이 작성되어 Simple API에서 HTML 대신 JSON을 사용할 수 있는 기능이 추가되었고, 여기에는 PEP 658 메타데이터 지원도 포함되었습니다.</p>

<p>안타깝게도 PyPI는 최근까지 PEP 658을 지원하지 않았는데, 지원이 시작될 때 JSON 표현에서 PEP 658의 <code class="language-plaintext highlighter-rouge">dist-info-metadata</code> 키가 <code class="language-plaintext highlighter-rouge">data-dist-info-metadata</code>로 잘못 명명되는 버그와 함께 릴리스되었습니다. 그러나 이 버그를 수정하려고 시도했을 때, pip에도 버그가 있어 JSON 표현에서 <code class="language-plaintext highlighter-rouge">dist-info-metadata</code>를 사용하면 pip이 예외(exception)와 함께 하드 실패(hard fail)하는 것이 발견되었습니다.</p>

<p>pip의 이 버그는 적어도 v22.3부터 존재했으며, 약 8개월 동안 릴리스되어 Python 릴리스, 다운스트림 Linux 릴리스, 컨테이너, 가상 환경 등에 포함될 만큼 충분히 오래되었습니다.</p>

<p>이로 인해 PyPI의 버그는 pip의 버그로 인해 pip을 깨뜨리지 않고는 수정할 수 없는 상황에 놓이게 되었으며, 해당 버전의 pip은 이미 광범위하게 배포되었습니다. 더 나쁜 점은, 이런 식으로 고장 난 버전의 pip은 PyPI가 버그를 수정하면 새로운, 수정된 버전의 pip을 설치하는 것을 포함하여 PyPI에서 아무것도 설치할 수 없다는 것입니다.</p>

<h2 id="근거-rationale">근거 (Rationale)</h2>

<p>이러한 버그를 수정하기 위한 3가지 주요 옵션이 있었습니다.</p>

<ol>
  <li><strong>사양(spec)을 변경하지 않고, pip의 버그를 수정하고, 일정 시간 기다린 다음 PyPI의 버그를 수정합니다.</strong> 이 경우, 수정되지 않은 pip을 사용하는 모든 사용자는 PyPI에서 새로운 pip조차 설치할 수 없게 됩니다.</li>
  <li><strong>(1)과 동일하게 진행하되, PyPI를 특별히 처리하여 PEP 658 메타데이터가 사용 가능하더라도 pip에는 내보내지 않도록 합니다.</strong> 이는 고장 난 버전의 사용자가 pip을 업그레이드할 수는 있지만, 다른 것은 아무것도 할 수 없게 만듭니다.</li>
  <li><strong>pip이 현재 처리할 수 없는 키를 피하기 위해 사양을 변경합니다.</strong> 이를 통해 PyPI는 해당 키를 내보낼 수 있고, 새로운 버전의 pip은 해당 키를 활용하기 위해 릴리스될 수 있습니다.</li>
</ol>

<p>이 PEP는 세 번째 옵션을 선택했지만, 한 걸음 더 나아가 HTML 표현에서도 키의 이름을 변경합니다.</p>

<p>일반적으로 사양 자체에 문제가 있지 않는 한, 특정 구현에만 영향을 미치는 버그 때문에 사양을 변경하지 않습니다. 이 경우 사양은 문제가 없었고, pip과 PyPI의 실제 버그였습니다.</p>

<p>그러나 이 변경을 선택한 4가지 이유는 다음과 같습니다.</p>

<ul>
  <li><strong>pip과 PyPI에 함께 영향을 미치는 버그는 다른 클라이언트 또는 저장소(repository) 조합에 비해 엄청난 영향을 미칩니다.</strong></li>
  <li><strong>고장 났을 때의 영향은 어떤 식으로든 점진적으로 저하되는 것이 아니라, 설치 자체가 전혀 작동하지 않는다는 것입니다.</strong></li>
  <li><strong>이러한 버그로 인해 차단된 기능은 pip을 사용하여 PyPI에서 의존성을 빠르고 효율적으로 해결하는 데 매우 중요합니다.</strong> 고장 난 버전의 pip이 사용되지 않을 때까지 오랜 기간 지연해야 한다면 전체 생태계에 해가 될 것입니다.</li>
  <li><strong>사양 변경의 단점은 매우 제한적입니다.</strong> 이러한 지원이 광범위하게 이루어지고 있다고 생각하지 않으므로, 제한된 수의 프로젝트에만 영향을 미칩니다.</li>
</ul>

<h2 id="사양-specification">사양 (Specification)</h2>

<p>이 문서의 “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, “OPTIONAL” 키워드는 <a href="https://www.rfc-editor.org/rfc/rfc2119">RFC 2119</a>에 설명된 대로 해석됩니다.</p>

<h3 id="서버-servers">서버 (Servers)</h3>

<ul>
  <li>Simple API의 HTML 표현에서 사용될 때, <a href="https://peps.python.org/pep-0658/">PEP 658</a> 메타데이터는 <code class="language-plaintext highlighter-rouge">data-core-metadata</code> 속성 이름을 사용하여 내보내져야 합니다 (<strong>MUST</strong>). 지원되는 값은 동일하게 유지됩니다.</li>
  <li>Simple API의 <a href="https://peps.python.org/pep-0691/">PEP 691</a> JSON 표현에서 사용될 때, PEP 658 메타데이터는 <code class="language-plaintext highlighter-rouge">core-metadata</code> 키를 사용하여 내보내져야 합니다 (<strong>MUST</strong>). 지원되는 값은 동일하게 유지됩니다.</li>
  <li>이전 키 이름을 사용했던 클라이언트를 지원하기 위해, HTML 표현은 <code class="language-plaintext highlighter-rouge">data-dist-info-metadata</code>를 사용하여 내보내질 수도 있습니다 (<strong>MAY</strong>). 만약 그렇게 한다면 <code class="language-plaintext highlighter-rouge">data-core-metadata</code>의 값과 일치해야 합니다 (<strong>MUST</strong>).</li>
</ul>

<h3 id="클라이언트-clients">클라이언트 (Clients)</h3>

<ul>
  <li>Simple API의 HTML 표현을 사용하는 클라이언트는 <code class="language-plaintext highlighter-rouge">data-core-metadata</code> 키가 존재하는 경우 해당 키에서 PEP 658 메타데이터를 읽어야 합니다 (<strong>MUST</strong>). <code class="language-plaintext highlighter-rouge">data-core-metadata</code>가 없고 <code class="language-plaintext highlighter-rouge">legacy data-dist-info-metadata</code>가 존재하는 경우 선택적으로 사용할 수 있습니다 (<strong>MAY</strong>).</li>
  <li>Simple API의 JSON 표현을 사용하는 클라이언트는 <code class="language-plaintext highlighter-rouge">core-metadata</code> 키가 존재하는 경우 해당 키에서 PEP 658 메타데이터를 읽어야 합니다 (<strong>MUST</strong>). <code class="language-plaintext highlighter-rouge">core-metadata</code>가 없고 <code class="language-plaintext highlighter-rouge">legacy dist-info-metadata</code> 키가 존재하는 경우 선택적으로 사용할 수 있습니다 (<strong>MAY</strong>).</li>
</ul>

<h2 id="하위-호환성-backwards-compatibility">하위 호환성 (Backwards Compatibility)</h2>

<p>이 PEP에는 약간의 호환성 문제가 있습니다. 현재 기존 메타데이터 키를 올바르게 처리하는 클라이언트는 새로운 메타데이터 키를 자동으로 이해하지 못할 것이지만, 정상적으로 저하(degrade gracefully)되어 단순히 PEP 658 메타데이터가 존재하지 않는 것처럼 작동해야 합니다.</p>

<p>그 외에는 이 PEP로 인한 호환성 문제는 없을 것입니다.</p>

<h2 id="거부된-아이디어-rejected-ideas">거부된 아이디어 (Rejected Ideas)</h2>

<h3 id="사양을-변경하지-않고-pypi-및또는-pip의-버그-수정을-다루기-leave-the-spec-unchanged-and-cope-with-fixing-in-pypi-andor-pip">사양을 변경하지 않고 PyPI 및/또는 pip의 버그 수정을 다루기 (Leave the spec unchanged, and cope with fixing in PyPI and/or pip)</h3>

<p>PEP 658이 가져오는 개선 사항은 PyPI에서 의존성(dependencies)을 해결하는 성능을 향상시키는 데 매우 중요하며, 가능한 한 빨리 배포하고 싶습니다.</p>

<p>불행히도 이러한 버그의 특성상, 널리 배포되고 사용되는 pip 버전을 망가뜨리지 않고는 현재 상태로 배포할 수 없습니다. 이 경우의 고장은 영향을 받는 사용자가 pip 버전을 직접 업그레이드하여 수정할 수 없을 정도로 심각할 것이며, 먼저 다른 방법(예: <code class="language-plaintext highlighter-rouge">get-pip.py</code>)으로 pip을 수동으로 가져와야 할 것입니다.</p>

<p>이것은 PyPI가 해당 사용자들을 위한 고장을 완화할 방법 없이 기꺼이 수행하지 않을 일입니다. 합리적인 완화 전략 없이는, 해당 버전의 pip이 PyPI에서 더 이상 사용되지 않을 때까지 기다려야 할 것이며, 이는 아마도 지금부터 5년 이상 걸릴 것입니다.</p>

<p>몇 가지 가능한 완화 전략이 있었지만, 이 역시 거부되었습니다.</p>

<h4 id="완화-pip-특별-처리-mitigation-special-case-pip">완화: pip 특별 처리 (Mitigation: Special Case pip)</h4>

<p>고장은 특히 심각하여 사용자가 고장 나지 않은 pip 버전을 얻기 위해 pip을 업그레이드하는 것조차 방해하므로, <code class="language-plaintext highlighter-rouge">pip install --upgrade pip</code>와 같은 명령이 실패할 것입니다. PyPI가 pip 자체를 특별 처리하여 JSON 엔드포인트가 PEP 658 메타데이터를 절대 반환하지 않도록 함으로써 이를 완화할 수 있었습니다.</p>

<p>이 PEP는 이 아이디어를 거부합니다. pip만 업그레이드하는 간단한 명령은 작동하겠지만, 사용자가 해당 명령에 다른 것을 포함하여 업그레이드하면 명령이 다시 실패하게 되며, 이는 여전히 너무 큰 고장이라고 간주되기 때문입니다.</p>

<p>또한, 이 버그는 현재 PyPI와 함께 노출되고 있지만, 실제로는 PEP 658 메타데이터를 올바르게 노출하는 모든 PEP 691 저장소에서 발생할 수 있는 버그입니다. 이는 모든 저장소가 pip에 대한 이 특별한 경우를 처리해야 함을 의미합니다.</p>

<h4 id="완화-서버가-user-agent-감지-사용-mitigation-have-the-server-use-user-agent-detection">완화: 서버가 <code class="language-plaintext highlighter-rouge">User-Agent</code> 감지 사용 (Mitigation: Have the server use User-Agent Detection)</h4>

<p>pip은 <code class="language-plaintext highlighter-rouge">User-Agent</code>에 버전 번호를 포함하므로, 서버는 버전 번호를 감지하고 해당 버전 번호에 따라 다른 응답을 제공하여 고장 난 pip 버전에는 PEP 658 메타데이터를 제공하지 않을 수 있습니다.</p>

<p>이 PEP는 이 아이디어를 거부합니다. <code class="language-plaintext highlighter-rouge">User-Agent</code> 감지를 합리적인 방식으로 구현하는 것이 너무 어렵기 때문입니다.</p>

<ul>
  <li>PyPI에서는 CDN에서 Simple API를 캐싱하는 데 크게 의존합니다. <code class="language-plaintext highlighter-rouge">User-Agent</code>에 따라 응답을 다르게 하면 CDN 캐시가 동일한 콘텐츠에 대해 캐시 키가 폭발적으로 증가하여 특정 요청이 캐시되지 않고 백엔드 서버로 다시 돌아갈 가능성이 높아져, 부하를 지원하기 위해 훨씬 더 높은 확장이 필요할 것입니다.</li>
  <li>PyPI는 요청의 <code class="language-plaintext highlighter-rouge">Accept</code> 헤더를 변경하여 <code class="language-plaintext highlighter-rouge">User-Agent</code> 감지 아이디어를 지원할 수 있습니다. 이는 해당 버전이 HTML 버전만 허용하는 것처럼 보이게 하여 CDN의 캐시 키를 유지할 수 있습니다. 그러나 이것은 PyPI의 다운스트림 캐시, 특히 pip의 HTTP 캐시에 영향을 미치지 않습니다. pip의 HTTP 캐시는 해당 요청에 대해 JSON 버전을 캐시했을 수 있으며, 우리는 캐시를 공유하는 것이 허용되지 않는다는 것을 알기 위해 <code class="language-plaintext highlighter-rouge">Vary</code> 헤더를 <code class="language-plaintext highlighter-rouge">User-Agent</code>로 내보내지 않을 것입니다. <code class="language-plaintext highlighter-rouge">Vary: User-Agent</code>를 다운스트림 캐시에 추가하는 것은 (1)과 동일한 문제를 가지지만, CDN 캐시 대신 다운스트림 캐시에 대한 것입니다.</li>
  <li>pip 버그는 궁극적으로 PyPI에만 국한된 것이 아니라, PEP 691과 PEP 658을 함께 구현하는 모든 저장소에 영향을 미칩니다. 이는 구현별 수정에 의존하는 해결 방법이 두 가지를 모두 구현하는 각 저장소에 대해 복제되어야 함을 의미하며, 모든 경우에 쉽거나 가능하지 않을 수 있습니다(예: 정적 미러는 <code class="language-plaintext highlighter-rouge">User-Agent</code> 감지를 수행할 수 없습니다).</li>
</ul>

<h3 id="json-키만-변경-only-change-the-json-key">JSON 키만 변경 (Only change the JSON key)</h3>

<p>pip의 버그는 Simple API의 JSON 표현에만 영향을 미치므로, 실제로는 JSON의 키만 변경하면 되고 기존 HTML 키는 그대로 둘 수 있었습니다.</p>

<p>이 PEP는 장기적으로 HTML과 JSON 키 이름이 달라지면 이러한 종류의 실수가 발생할 가능성이 높아지고 사양을 구현하고 이해하는 것이 더 혼란스러워질 것이라고 생각하여 이 아이디어를 거부합니다.</p>

<p>HTML 키를 변경하지 않으려는 주요 이유는 이미 지원하고 있을 수 있는 HTML 전용 클라이언트 또는 저장소에서 PEP 658 지원을 잃지 않기 위함입니다. 이 PEP는 클라이언트와 서버가 두 키를 계속 지원하도록 허용하고, 언제 어떻게 그렇게 해야 하는지에 대한 권장 사항을 제공함으로써 이러한 고장을 완화합니다.</p>

<h2 id="권장-사항-recommendations">권장 사항 (Recommendations)</h2>

<p>이 섹션의 권장 사항(이 안내문 자체를 제외하고)은 규범적(non-normative)이 아니며, PEP 작성자들이 이 PEP를 구현하는 무언가를 위한 최선의 기본 구현 결정이라고 믿는 것을 나타내지만, 이러한 결정과 일치해야 하는 어떠한 요구 사항도 나타내지 않습니다.</p>

<h3 id="서버-servers-1">서버 (Servers)</h3>

<ul>
  <li>서버는 새로운 키만 내보내는 것을 권장합니다. 특히 버그 자체가 JSON에만 영향을 미쳤기 때문에 Simple API의 JSON 표현에 대해 더욱 그렇습니다.</li>
  <li>HTML을 사용하고 PEP 658이 구현된 클라이언트에서 PEP 658을 지원하고자 하는 서버는 HTML에서만 두 키를 안전하게 내보낼 수 있습니다.</li>
  <li>서버는 고장 난 버전의 pip이 서버에 접근하지 않을 것이라는 것을 알지 못하는 한 JSON에서 오래된 키를 내보내서는 안 됩니다 (<strong>should not</strong>).</li>
</ul>

<h3 id="클라이언트-clients-1">클라이언트 (Clients)</h3>

<ul>
  <li>클라이언트는 이 PEP가 요구하는 대로 새로운 키를 선호하며, HTML과 JSON 모두에 대해 두 키를 모두 지원하는 것을 권장합니다. 이렇게 하면 클라이언트가 PEP 658 및 PEP 691을 이미 올바르게 구현했지만 이 PEP를 구현하지 않은 저장소를 지원할 수 있습니다.</li>
</ul>

<h2 id="저작권-copyright">저작권 (Copyright)</h2>

<p>이 문서는 퍼블릭 도메인 또는 CC0-1.0-Universal 라이선스 중 더 관대한 조건으로 배포됩니다.</p>

<blockquote>
  <p>⚠️ <strong>알림:</strong> 이 문서는 AI를 활용하여 번역되었으며, 기술적 정확성을 보장하지 않습니다. 정확한 내용은 반드시 원문을 확인하시기 바랍니다.</p>
</blockquote>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#pep" class="page__taxonomy-item" rel="tag">PEP</a><span class="sep">, </span>
    
      <a href="/tags/#python" class="page__taxonomy-item" rel="tag">Python</a><span class="sep">, </span>
    
      <a href="/tags/#translation" class="page__taxonomy-item" rel="tag">Translation</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#pep" class="page__taxonomy-item" rel="tag">PEP</a><span class="sep">, </span>
    
      <a href="/categories/#python" class="page__taxonomy-item" rel="tag">Python</a>
    
    </span>
  </p>


        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2025-09-27">September 27, 2025</time></p>


      </footer>

      

      
  <nav class="pagination">
    
      <a href="/python/pep/713/" class="pagination--pager" title="[Rejected] PEP 713 - Callable Modules
">Previous</a>
    
    
      <a href="/python/pep/715/" class="pagination--pager" title="[Final] PEP 715 - Disabling bdist_egg distribution uploads on PyPI
">Next</a>
    
  </nav>


    </div>

    
  </article>

</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 secrett2633. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    <script>
  'use strict';

  (function() {
    var commentContainer = document.querySelector('#utterances-comments');

    if (!commentContainer) {
      return;
    }

    var script = document.createElement('script');
    script.setAttribute('src', 'https://utteranc.es/client.js');
    script.setAttribute('repo', 'secrett2633/secrett2633.github.io');
    script.setAttribute('issue-term', 'pathname');
    script.setAttribute('theme', 'github-light');
    script.setAttribute('crossorigin', 'anonymous');

    commentContainer.appendChild(script);
  })();
</script>

  





  </body>
</html>
