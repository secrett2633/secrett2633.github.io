<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.22.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="ko" class="no-js">
  <head>
    <style> 
      ::-webkit-scrollbar{ 
        width: 10px;
        height: 10px;
      }

      ::-webkit-scrollbar-track {
        width: 0px;
        background-color: #626262;
        /* border-radius: 5px; */
      }

      ::-webkit-scrollbar-thumb {
        width: 0px;
        background-color: #E2E2E2;
        border-radius: 5px;
      }

      ::-webkit-scrollbar-thumb:hover {
        width: 10px;
        height: 20px;
        /* background-color: rgba(190, 190, 190, 0.2); */
        background-color: #A2A2A2;
        border-radius: 5px;
      }

      ::-webkit-scrollbar-track:hover {
        width: 10px;
        /* background-color: rgba(150, 150, 150, 0.1); */
        background-color: #626262;
        border-radius: 5px;
        /* background: transparent; */
        /* border-radius: 10px; */
      }

      ::-webkit-scrollbar-button:start:decrement,::-webkit-scrollbar-button:end:increment {
          width:0px;
          height: 0px;
          /* background-color: rgb(14, 221, 24); */
          /* border-radius: 50%; */
      }
    </style>
    
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>[Final] PEP 385 - Migrating from Subversion to Mercurial | secrett2633</title>
<meta name="description" content="Python Enhancement Proposal 385: ‘Migrating from Subversion to Mercurial’에 대한 한국어 번역입니다.">


  <meta name="author" content="secrett2633">
  
  <meta property="article:author" content="secrett2633">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="ko_KR">
<meta property="og:site_name" content="secrett2633's blog">
<meta property="og:title" content="[Final] PEP 385 - Migrating from Subversion to Mercurial">
<meta property="og:url" content="http://localhost:4000/python/pep/385/">


  <meta property="og:description" content="Python Enhancement Proposal 385: ‘Migrating from Subversion to Mercurial’에 대한 한국어 번역입니다.">







  <meta property="article:published_time" content="2025-09-26T21:05:29+09:00">



  <meta property="article:modified_time" content="2025-09-26T21:05:29+09:00">



  

  


<link rel="canonical" href="http://localhost:4000/python/pep/385/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "secrett2633",
      "url": "http://localhost:4000/"
    
  }
</script>






<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="secrett2633's blog Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->


    <link rel="icon" type="image/png" sizes="32x32" href="https://secrett2633.github.io/assets/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://secrett2633.github.io/assets/images/favicon/favicon-16x16.png">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          secrett2633's blog
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="https://github.com/secrett2633">GitHub</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  

  <!-- 2022.02.17 author content hidden -->
  <!-- <div class="author__content">
    
      <h3 class="author__name" itemprop="name">secrett2633</h3>
    
    
  </div> -->

  <div class="author__urls-wrapper">
    <!-- <button class="btn btn--inverse">Follow</button> -->
    <ul class="author__urls social-icons">
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          <!-- title -->
              <span class="nav__sub-title">Backend</span>
              <hr>
        

        
        <ul>
          
            <li><a href="/backend/django/">Django</a></li>
          
            <li><a href="/backend/logging/">Logging</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <!-- title -->
              <span class="nav__sub-title">Python</span>
              <hr>
        

        
        <ul>
          
            <li><a href="/python/pep/">PEP</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <!-- title -->
              <span class="nav__sub-title">AI/ML</span>
              <hr>
        

        
        <ul>
          
            <li><a href="/ai/llm/">LLM</a></li>
          
            <li><a href="/ai/review/">Review</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <!-- title -->
              <span class="nav__sub-title">DevOps</span>
              <hr>
        

        
        <ul>
          
            <li><a href="/devops/nginx/">Nginx</a></li>
          
            <li><a href="/devops/docker/">Docker</a></li>
          
            <li><a href="/devops/safeline/">SafeLine</a></li>
          
            <li><a href="/devops/jenkins/">Jenkins</a></li>
          
            <li><a href="/devops/github-actions/">GitHub Actions</a></li>
          
            <li><a href="/devops/aws/">AWS</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <!-- title -->
              <span class="nav__sub-title">etc</span>
              <hr>
        

        
        <ul>
          
            <li><a href="/etc/me/">Me</a></li>
          
            <li><a href="/etc/chrome-extension/">Chrome Extension</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="[Final] PEP 385 - Migrating from Subversion to Mercurial">
    <meta itemprop="description" content="Python Enhancement Proposal 385: ‘Migrating from Subversion to Mercurial’에 대한 한국어 번역입니다.">
    <meta itemprop="datePublished" content="2025-09-26T21:05:29+09:00">
    <meta itemprop="dateModified" content="2025-09-26T21:05:29+09:00">

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">[Final] PEP 385 - Migrating from Subversion to Mercurial
</h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        <time datetime="2025-09-26T21:05:29+09:00">September 26, 2025</time>
      </span>
    

    

    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#pep-385--subversion에서-mercurial로-마이그레이션">PEP 385 – Subversion에서 Mercurial로 마이그레이션</a><ul><li><a href="#목차">목차</a></li><li><a href="#동기">동기</a></li><li><a href="#타임라인">타임라인</a></li><li><a href="#전환-계획">전환 계획</a><ul><li><a href="#브랜치-전략">브랜치 전략</a></li><li><a href="#히스토리-관리">히스토리 관리</a></li><li><a href="#태그-변환">태그 변환</a></li><li><a href="#저자-맵">저자 맵</a></li><li><a href="#hgignore-생성">.hgignore 생성</a></li><li><a href="#저장소-크기">저장소 크기</a></li><li><a href="#다른-저장소">다른 저장소</a></li></ul></li><li><a href="#인프라">인프라</a><ul><li><a href="#hg-ssh">hg-ssh</a></li><li><a href="#훅-hooks">훅 (Hooks)</a></li><li><a href="#줄-끝-변환-end-of-line-conversions">줄 끝 변환 (End-of-line conversions)</a></li><li><a href="#hgwebdir">hgwebdir</a></li><li><a href="#roundup">Roundup</a></li></ul></li><li><a href="#마이그레이션-후">마이그레이션 후</a><ul><li><a href="#코드-확보-위치">코드 확보 위치</a></li><li><a href="#python-관련-문서">Python 관련 문서</a></li><li><a href="#제안된-워크플로우">제안된 워크플로우</a></li><li><a href="#subversion의-미래">Subversion의 미래</a></li><li><a href="#빌드-식별">빌드 식별</a></li></ul></li><li><a href="#각주">각주</a></li><li><a href="#저작권">저작권</a></li></ul></li></ul>

            </nav>
          </aside>
        
        <blockquote>
  <p><strong>원문 링크:</strong> <a href="https://peps.python.org/pep-0385/">PEP 385 - Migrating from Subversion to Mercurial</a></p>

  <table>
    <tbody>
      <tr>
        <td><strong>상태:</strong> Final</td>
        <td><strong>유형:</strong> Process</td>
        <td><strong>작성일:</strong> 25-May-2009</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<h1 id="pep-385--subversion에서-mercurial로-마이그레이션">PEP 385 – Subversion에서 Mercurial로 마이그레이션</h1>

<p><strong>저자:</strong> Dirkjan Ochtman, Antoine Pitrou, Georg Brandl
<strong>상태:</strong> Final (최종)
<strong>유형:</strong> Process (절차)
<strong>작성일:</strong> 2009년 5월 25일</p>

<h2 id="목차">목차</h2>

<ul>
  <li><a href="#동기">동기</a></li>
  <li><a href="#타임라인">타임라인</a></li>
  <li><a href="#전환-계획">전환 계획</a>
    <ul>
      <li><a href="#브랜치-전략">브랜치 전략</a></li>
      <li><a href="#히스토리-관리">히스토리 관리</a></li>
      <li><a href="#태그-변환">태그 변환</a></li>
      <li><a href="#저자-맵">저자 맵</a></li>
      <li><a href="#hgignore-생성">.hgignore 생성</a></li>
      <li><a href="#저장소-크기">저장소 크기</a></li>
      <li><a href="#다른-저장소">다른 저장소</a></li>
    </ul>
  </li>
  <li><a href="#인프라">인프라</a>
    <ul>
      <li><a href="#hg-ssh">hg-ssh</a></li>
      <li><a href="#훅-hooks">훅 (Hooks)</a></li>
      <li><a href="#줄-끝-변환-end-of-line-conversions">줄 끝 변환 (End-of-line conversions)</a></li>
      <li><a href="#hgwebdir">hgwebdir</a></li>
      <li><a href="#roundup">Roundup</a></li>
    </ul>
  </li>
  <li><a href="#마이그레이션-후">마이그레이션 후</a>
    <ul>
      <li><a href="#코드-확보-위치">코드 확보 위치</a></li>
      <li><a href="#python-관련-문서">Python 관련 문서</a></li>
      <li><a href="#제안된-워크플로우">제안된 워크플로우</a></li>
      <li><a href="#subversion의-미래">Subversion의 미래</a></li>
      <li><a href="#빌드-식별">빌드 식별</a></li>
    </ul>
  </li>
  <li><a href="#각주">각주</a></li>
  <li><a href="#저작권">저작권</a></li>
</ul>

<h2 id="동기">동기</h2>

<p>Mercurial DVCS(분산 버전 관리 시스템)로 전환하기로 결정한 후, 실제 마이그레이션이 수행되어야 합니다. Python과 같이 크고 분산된 프로젝트의 버전 관리 시스템처럼 중요한 인프라의 경우, 이는 상당한 노력이 필요합니다. 이 PEP는 추가 논의를 위해 취해야 할 단계를 설명하려는 시도입니다. 이는 SVN으로의 마이그레이션을 논의했던 PEP 347과 다소 유사합니다.</p>

<p><code class="language-plaintext highlighter-rouge">hg</code>를 최대한 활용하기 위해, (a) 가능한 한 많은 SVN 메타데이터를 유지하고, (b) 모든 메타데이터를 Mercurial에서 일반적인 형식으로 변환하는 높은 충실도의 변환을 원합니다. 이 방법으로 Mercurial용으로 작성된 도구를 최적으로 사용할 수 있습니다. 이를 위해 초기 변환에 <code class="language-plaintext highlighter-rouge">hgsubversion</code> 소프트웨어를 사용하고자 합니다. 이 <code class="language-plaintext highlighter-rouge">hg</code> 확장 기능은 양방향 통신에 사용하기 위해 Subversion에서 Mercurial로의 고품질 변환을 제공하는 데 중점을 두므로, 다른 솔루션만큼 많은 사용 가능한 메타데이터를 버리지 않습니다.</p>

<p>이러한 변환은 저장소의 내용을 재고하고 일부 항목이 여전히 가치가 있는지 판단하기에 좋은 시기이기도 합니다. 이러한 취지에서 다음 섹션에서는 일부 오래된 메타데이터를 폐기할 것을 제안하기도 합니다.</p>

<h2 id="타임라인">타임라인</h2>

<p>전환 마일스톤에 대한 현재 일정은 다음과 같습니다:</p>

<ul>
  <li><strong>2011-02-24:</strong> <code class="language-plaintext highlighter-rouge">hg.python.org</code>에서 테스트 저장소 사용 가능.
    <ul>
      <li>Subversion 저장소의 모든 커미터는 테스트 커밋을 허용(및 권장)받게 됩니다.</li>
      <li>최종 변환이 완료되면 테스트 저장소 및 모든 테스트 커밋은 제거됩니다.</li>
      <li>빌드봇 (buildbot), diff-email, 공백 (whitespace) 검사 통합을 테스트하기 위해 테스트 저장소에 서버 측 훅이 설치될 예정입니다.</li>
    </ul>
  </li>
  <li><strong>2011-03-05:</strong> 최종 변환 (잠정).
    <ul>
      <li>Mercurial에서 유지 관리되는 Subversion 브랜치에 대한 커밋은 차단됩니다.</li>
      <li>개발자는 새 저장소로 전환된 후 모든 인프라가 작동하는 것이 확인될 때까지 Mercurial 저장소로 푸시하는 것을 삼가야 합니다.</li>
    </ul>
  </li>
</ul>

<h2 id="전환-계획">전환 계획</h2>

<h3 id="브랜치-전략">브랜치 전략</h3>

<p>Mercurial은 브랜치를 사용하는 두 가지 기본 방법이 있습니다. 첫 번째는 “클론된 브랜치(cloned branches)”로, 각 브랜치가 별도의 저장소에 유지됩니다. 두 번째는 “이름 있는 브랜치(named branches)”로, 각 리비전이 속한 브랜치를 기록하는 메타데이터를 유지합니다.</p>

<ul>
  <li><strong>클론된 브랜치 (Cloned Branches):</strong> 클라이언트에서 더 많은 디스크 공간이 필요하다는 단점이 있지만, 브랜치를 구별하기 더 쉽습니다.</li>
  <li><strong>이름 있는 브랜치 (Named Branches):</strong> 브랜치 간 전환이 약간 더 쉽지만, 모든 브랜치 이름은 히스토리의 영구적인 부분이 됩니다.</li>
</ul>

<p>이름 있는 브랜치와 클론된 브랜치의 차이점은 다음과 같습니다:</p>

<ul>
  <li>다른 (유지 보수) 클론의 태그는 로컬 클론에서 사용할 수 없습니다.</li>
  <li>이름 있는 브랜치가 있는 클론은 더 많은 데이터를 포함하므로 더 커집니다.</li>
</ul>

<p>릴리스 브랜치에는 이름 있는 브랜치를 사용하고, 기능 브랜치에는 클론된 브랜치를 채택할 것을 제안합니다.</p>

<h3 id="히스토리-관리">히스토리 관리</h3>

<p>변환으로 인한 정보 손실을 최소화하기 위해, 여러 저장소를 변환 결과로 제공할 것을 제안합니다:</p>

<ul>
  <li><strong>“작업(working)” 저장소:</strong> 메인라인 트렁크(및 <code class="language-plaintext highlighter-rouge">py3k</code>), 그리고 과거 및 현재 유지 보수 브랜치로 잘라낸 저장소입니다. 개발이 계속되는 곳입니다. 이 저장소는 1990년까지 소스 파일을 변경 사항으로 주석을 달고 다른 일반적인 히스토리 탐색 작업을 포함하여 개발 작업에 필요한 모든 히스토리를 가지고 있습니다.
    <ul>
      <li>이 저장소의 기본 브랜치는 Subversion에서 <code class="language-plaintext highlighter-rouge">py3k</code>로 알려진 것이며, Subversion <code class="language-plaintext highlighter-rouge">trunk</code>는 <code class="language-plaintext highlighter-rouge">legacy-trunk</code>라는 브랜치 이름으로 존재하지만 Mercurial에서는 이 브랜치가 닫힙니다.</li>
      <li>릴리스 브랜치는 주요 및 부 버전으로 이름이 지정됩니다 (예: <code class="language-plaintext highlighter-rouge">3.2</code>).</li>
    </ul>
  </li>
  <li><strong>“히스토리(historic)” 또는 “아카이브(archive)” 저장소:</strong> Subversion 저장소(실제로는 <code class="language-plaintext highlighter-rouge">/python</code> 하위 디렉토리)의 완전하고 편집되지 않은 변환본을 포함하는 저장소입니다. 읽기 전용 리소스로 제공됩니다.</li>
  <li><strong>활성 기능 브랜치당 하나의 추가 저장소:</strong> “활성”이란 적어도 한 명의 핵심 개발자가 브랜치 제공을 요청하는 것을 의미합니다. 각 이러한 저장소에는 기능 브랜치와 메인라인(SVN의 <code class="language-plaintext highlighter-rouge">trunk</code> 및/또는 <code class="language-plaintext highlighter-rouge">py3k</code>에서 오는)의 모든 선조 변경 세트가 포함됩니다.</li>
</ul>

<p>모든 브랜치가 히스토리 저장소에 존재하므로, 필요하다고 판단되면 언제든지 별도의 저장소로 추출할 수 있습니다.</p>

<p>SVN 리비전 번호, Mercurial 변경 세트 및 SVN 브랜치 이름 간의 최종 리비전 맵은 <code class="language-plaintext highlighter-rouge">Misc</code> 디렉토리에 저장된 파일로 제공될 것입니다. 그 형식은 다음과 같습니다:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[...]
88483 e65daae6cf4499a0863cb7645109a4798c28d83e issue10276-snowleopard
88484 835cb57abffeceaff0d85c2a3aa0625458dd3e31 py3k
88485 d880f9d8492f597a030772c7485a34aadb6c4ece release32-maint
88486 0c431b8c22f5dbeb591414c154acb7890c1809df py3k
88487 82cda1f21396bbd10db8083ea20146d296cb630b release32-maint
88488 8174d00d07972d6f109ed57efca8273a4d59302c release27-maint
[...]
</code></pre></div></div>

<h3 id="태그-변환">태그 변환</h3>

<p>SVN <code class="language-plaintext highlighter-rouge">tags</code> 디렉토리에는 많은 오래된 내용이 있습니다. 이들 중 일부는 실제로는 완전한 태그가 아니라 저장소의 작은 하위 집합만 포함합니다. 모든 릴리스 태그는 유지됩니다. 다른 태그는 개발자 커뮤니티의 요청에 따라 포함됩니다. 태그 명명 체계를 <code class="language-plaintext highlighter-rouge">v3.2.1a2</code>와 같은 형식으로 일관성 있게 만들 것을 제안합니다.</p>

<h3 id="저자-맵">저자 맵</h3>

<p><code class="language-plaintext highlighter-rouge">hg</code>에서 일반적인 사용자 이름(예: ‘First Last <a href="mailto:user@example.org">user@example.org</a>’ 형식)을 제공하기 위해, <code class="language-plaintext highlighter-rouge">cvs</code> 및 <code class="language-plaintext highlighter-rouge">svn</code> 사용자 이름을 실제 이름과 이메일 주소에 매핑하는 저자 맵(author map)이 필요합니다. 우리는 마이그레이션 도구 저장소에 이러한 맵의 완전한 버전을 가지고 있습니다(주소 수집기에게 유출되는 것을 피하기 위해 공개적으로 접근할 수 없음). 이메일 주소는 오래되었을 수 있지만, 이는 발생할 수밖에 없는 일입니다. 하지만 가능한 한 많은 사람이 오래된 주소를 검토하도록 하는 것이 좋습니다. 현재 버전에는 여전히 일부 인코딩 문제가 있는 것으로 보입니다.</p>

<h3 id="hgignore-생성">.hgignore 생성</h3>

<p><code class="language-plaintext highlighter-rouge">.hgignore</code> 파일은 Mercurial 저장소에서 버전 관리에 적합하지 않은 파일을 무시하는 데 사용될 수 있습니다. 이는 여러 가능한 형태의 패턴 매칭을 사용하여 수행됩니다. 현재 Python 저장소에는 <code class="language-plaintext highlighter-rouge">hg</code> 미러를 사용하는 데 도움이 되는 기본적인 <code class="language-plaintext highlighter-rouge">.hgignore</code> 파일이 이미 포함되어 있습니다.</p>

<p>현재 Python 저장소에 이미 <code class="language-plaintext highlighter-rouge">.hgignore</code> 파일(hg 미러 사용용)이 포함되어 있으므로, 단순히 이를 사용할 것입니다. 파일의 전체 히스토리를 생성하는 것이 논의되었지만, 비실용적이라고 판단되었습니다(오래된 리비전의 경우 무시하는 것이 덜 중요하므로 상대적으로 어렵고 이득이 거의 없기 때문입니다).</p>

<h3 id="저장소-크기">저장소 크기</h3>

<p>현재 Python 저장소의 단순 변환 결과는 1.9GB입니다. 이는 Subversion 저장소(2.7GB)보다 작지만 실현 가능하지 않습니다.</p>

<p>작업 저장소에 적용된 트리밍(trimming)과 Mercurial 내부 저장소의 레이아웃을 매우 효율적으로 최적화하는 “revlog 재정렬(revlog reordering)” 프로세스를 통해 크기가 더 관리하기 쉬워집니다.</p>

<p>모든 최적화가 완료된 후, 작업 저장소의 크기는 디스크에서 약 180MB입니다. 클론할 때 네트워크를 통해 전송되는 데이터 양은 약 80MB로 추정됩니다.</p>

<h3 id="다른-저장소">다른 저장소</h3>

<p><code class="language-plaintext highlighter-rouge">svn.python.org</code>의 “projects” 저장소에는 여러 다른 프로젝트가 호스팅되어 있습니다. “peps” 디렉토리는 주요 Python 저장소와 함께 변환될 것입니다. Richard Tew는 Stackless 저장소도 변환되기를 원한다고 밝혔습니다. <code class="language-plaintext highlighter-rouge">svn.python.org</code> 저장소의 다른 어떤 프로젝트를 변환해야 할까요?</p>

<p>Jython 저장소를 변환하려는 초기 시도가 있습니다. 불행히도 <code class="language-plaintext highlighter-rouge">hgsubversion</code>의 현재 <code class="language-plaintext highlighter-rouge">tip</code>은 어느 시점에서 실패합니다. 조사가 진행 중입니다.</p>

<p>Mercurial로 변환되기를 원하는 다른 저장소는 주요 Python 마이그레이션이 완료된 후 저에게 알려주시면, 그들의 요구 사항을 처리할 것입니다.</p>

<h2 id="인프라">인프라</h2>

<h3 id="hg-ssh">hg-ssh</h3>

<p>개발자는 현재 설정과 유사하게 <code class="language-plaintext highlighter-rouge">ssh</code>를 통해 저장소에 액세스해야 합니다. 공개 키는 <code class="language-plaintext highlighter-rouge">hg@</code> 공유 계정에 대한 액세스 권한을 부여하는 데 사용될 수 있습니다. 또한 <code class="language-plaintext highlighter-rouge">hg.python.org</code>에 <code class="language-plaintext highlighter-rouge">hgwebdir</code> 인스턴스가 설정되어 있어 쉬운 브라우징 및 읽기 전용 액세스를 제공합니다. 이는 개발자가 새로운 클론(별도의 저장소에서 개발함으로써 이득을 얻는 장기적인 기능용)을 쉽게 시작할 수 있도록 구성되어 있습니다.</p>

<p>또한, 핵심 개발자를 위한 공개 저장소의 직접 생성도 허용되지만, 어떤 명명 체계가 강제될지는 아직 결정되지 않았습니다:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>hg init ssh://hg@hg.python.org/sandbox/mywork
repo created, public URL is http://hg.python.org/sandbox/mywork
</code></pre></div></div>

<h3 id="훅-hooks">훅 (Hooks)</h3>

<p>현재 여러 훅이 사용 중입니다. 이에 해당하는 <code class="language-plaintext highlighter-rouge">hg</code> 훅을 개발하고 배포해야 합니다. 다음 훅들이 사용되고 있습니다:</p>

<ul>
  <li><strong>공백 확인 (<code class="language-plaintext highlighter-rouge">check whitespace</code>):</strong> 공백이 Python 코드베이스 규칙과 일치하지 않을 경우 커밋을 거부하는 훅입니다. 변경 그룹(<code class="language-plaintext highlighter-rouge">changegroup</code>)에서는 <code class="language-plaintext highlighter-rouge">tip</code>만 확인됩니다(이는 타사 저장소에서 가져온 변경 사항에 대한 정리 커밋을 허용합니다). 또한 사람들이 사용할 수 있는 클라이언트 측 저장소용 공백 훅을 제공할 수도 있습니다. 이는 공백 문제에 대해 경고하거나 변경된 줄에서 후행 공백을 잘라낼 수 있습니다.</li>
  <li><strong>푸시 메일 (<code class="language-plaintext highlighter-rouge">push mails</code>):</strong> 이메일에는 공개 저장소로 푸시된 각 변경 세트에 대한 <code class="language-plaintext highlighter-rouge">diff</code>가 포함되며, 변경 세트를 푸시한 사용자 이름도 포함됩니다(이는 변경 세트에 기록된 저자와 반드시 동일하지는 않습니다).</li>
  <li><strong>빌드봇 (<code class="language-plaintext highlighter-rouge">buildbots</code>):</strong> <code class="language-plaintext highlighter-rouge">python.org</code> 빌드 마스터는 <code class="language-plaintext highlighter-rouge">cpython</code> 저장소로 푸시된 각 변경 세트에 대해 통지를 받고, 해당 변경 세트가 발생한 브랜치의 모든 빌드 슬레이브에서 적절한 빌드를 트리거합니다.</li>
</ul>

<p>훅 저장소에는 이러한 서버 측 훅을 Mercurial로 포팅한 버전과 몇 가지 추가 훅이 포함되어 있습니다:</p>

<ul>
  <li><strong>브랜치 헤드 확인 (<code class="language-plaintext highlighter-rouge">check branch heads</code>):</strong> 기존 브랜치에 새 헤드를 생성하는 푸시를 거부하는 훅입니다. 푸시하는 사용자는 초과 헤드를 병합하고 다시 푸시를 시도해야 합니다.</li>
  <li><strong>브랜치 확인 (<code class="language-plaintext highlighter-rouge">check branches</code>):</strong> 허용된 이름 있는 브랜치에 없는 모든 변경 세트를 거부하는 훅입니다. 이 훅의 화이트리스트는 새 유지 보수 브랜치를 생성할 때 업데이트되어야 합니다.</li>
  <li><strong>줄 끝 확인 (<code class="language-plaintext highlighter-rouge">check line endings</code>):</strong> <code class="language-plaintext highlighter-rouge">eol</code> 확장에 기반한 훅으로, 잘못된 줄 끝이 있는 파일을 커밋하는 모든 변경 세트를 거부합니다. 커밋은 제거되고 다시 수행되어야 하며, 커미터의 컴퓨터에서 <code class="language-plaintext highlighter-rouge">eol</code> 확장이 활성화되어 있을 수 있습니다.</li>
</ul>

<p>한 가지 추가 훅도 유용할 수 있습니다:</p>

<ul>
  <li><strong>기여자 확인 (<code class="language-plaintext highlighter-rouge">check contributors</code>):</strong> 현재 설정에서는 모든 변경 세트에 커미터의 사용자 이름이 있으며, 커미터는 기여자 계약에 서명해야 합니다. 등록된 기여자 목록을 유지하는 경우, 커미터가 기여자인지 확인하는 훅을 사용할 수 있습니다. 그러면 이 훅은 알 수 없는 기여자의 변경 세트를 포함하는 리비전 그룹을 푸시하는 사용자에게 경고할 수 있습니다.</li>
</ul>

<h3 id="줄-끝-변환-end-of-line-conversions">줄 끝 변환 (End-of-line conversions)</h3>

<p>Mercurial에서 원래 <code class="language-plaintext highlighter-rouge">win32text</code> 확장에 의해 제공되었던 줄 끝 변환 지원 부족에 대한 논의는 Subversion의 <code class="language-plaintext highlighter-rouge">svn:eol-style</code> 속성과 유사하게 파일별로 줄 끝 규칙의 버전 관리 지원하는 새로운 <code class="language-plaintext highlighter-rouge">eol</code> 확장 개발로 이어졌습니다. 이 정보는 버전 관리되는 <code class="language-plaintext highlighter-rouge">.hgeol</code>이라는 파일에 유지되며, 이러한 파일은 이미 Subversion 저장소에 체크인되어 있습니다.</p>

<p>서버 측에도 일관성 없는 개행 데이터를 도입하는 변경 세트를 거부하는 훅이 존재합니다 (위 참조).</p>

<h3 id="hgwebdir">hgwebdir</h3>

<p>표준에 가까운 <code class="language-plaintext highlighter-rouge">hgwebdir</code> 설치가 설정되어야 합니다. Python 웹사이트와 일치하는 스타일을 고안할 수도 있습니다.</p>

<p>Subversion 리비전을 조회하고 주어진 변경 세트에 대한 적절한 <code class="language-plaintext highlighter-rouge">hgweb</code> 페이지로 리다이렉션할 수 있는 작은 WSGI 애플리케이션이 작성되었습니다. 이는 변환된 리비전이 어떤 저장소에 있든 상관없이 작동합니다 (하나의 큰 Subversion 저장소가 여러 Mercurial 저장소로 변환되기 때문입니다). 또한 16진수 ID로 Mercurial 변경 세트를 조회할 수도 있습니다.</p>

<h3 id="roundup">Roundup</h3>

<p>위에서 언급된 조회 스크립트의 URL을 Roundup에 지정함으로써, SVN 리비전에 대한 링크는 계속 작동하며, 저장소 및 변경 세트 ID를 제공할 필요 없이 Mercurial 변경 세트에 대한 링크도 생성할 수 있습니다.</p>

<h2 id="마이그레이션-후">마이그레이션 후</h2>

<h3 id="코드-확보-위치">코드 확보 위치</h3>

<p>마이그레이션 후, <code class="language-plaintext highlighter-rouge">hgwebdir</code>는 <code class="language-plaintext highlighter-rouge">hg.python.org</code>에서 운영될 것입니다. 이는 많은 조직에서 허용된 표준이며, <code class="language-plaintext highlighter-rouge">svn.python.org</code>와 쉽게 병행됩니다.</p>

<p>예를 들어, 작업 저장소는 <code class="language-plaintext highlighter-rouge">http://hg.python.org/cpython/</code>에, 아카이브 저장소는 <code class="language-plaintext highlighter-rouge">http://hg.python.org/cpython-archive/</code>에 있을 수 있습니다. 쓰기 액세스의 경우, 개발자는 <code class="language-plaintext highlighter-rouge">ssh</code>를 사용해야 하며, 이는 <code class="language-plaintext highlighter-rouge">ssh://hg@hg.python.org/cpython/</code>과 같을 수 있습니다.</p>

<p><code class="language-plaintext highlighter-rouge">code.python.org</code>도 호스트 이름으로 제안되었습니다. 그러나 호스트 이름에 VCS 이름을 사용하는 것이 혼란을 방지하는 데 좋다고 생각합니다. <code class="language-plaintext highlighter-rouge">hg.python.org</code>에 <code class="language-plaintext highlighter-rouge">svn</code> 또는 <code class="language-plaintext highlighter-rouge">bzr</code>를 사용할 수 없다는 것이 명확해야 합니다.</p>

<p><code class="language-plaintext highlighter-rouge">hgwebdir</code>는 이미 모든 변경 세트에 대한 <code class="language-plaintext highlighter-rouge">tarball</code>을 제공할 수 있습니다. 이는 일일 스냅샷의 필요성을 없애고, 사용자에게 <code class="language-plaintext highlighter-rouge">tip.tar.gz</code>를 가리키게 함으로써 최신 버전을 얻을 수 있도록 합니다. 원한다면 <code class="language-plaintext highlighter-rouge">buildbot</code> 결과를 사용하여 마지막으로 성공한 변경 세트를 가리킬 수도 있습니다.</p>

<h3 id="python-관련-문서">Python 관련 문서</h3>

<p><code class="language-plaintext highlighter-rouge">hg</code>는 훌륭한 내장 문서(<code class="language-plaintext highlighter-rouge">hg help</code>를 통해 사용 가능)와 유용한 정보 및 레시피로 가득 찬 위키, 그리고 인기 있는 책(온라인에서 읽을 수 있음)을 제공합니다.</p>

<p>그 외에도 최근 개편된 Python Developer’s Guide는 Subversion 대신 Mercurial에 대한 지침이 포함된 브랜치를 이미 가지고 있으며, 이 브랜치의 온라인 빌드도 제공됩니다.</p>

<h3 id="제안된-워크플로우">제안된 워크플로우</h3>

<p>여러 브랜치 간의 패치 마이그레이션을 위한 두 가지 워크플로우를 제안합니다.</p>

<p><strong>2.x 또는 3.x 브랜치 내에서의 마이그레이션:</strong> 패치는 항상 적용될 수 있는 가장 오래된 브랜치에 먼저 커밋될 것을 제안합니다. 그런 다음 결과 변경 세트는 <code class="language-plaintext highlighter-rouge">hg merge</code>를 사용하여 해당 시리즈(2.x 또는 3.x) 내의 모든 최신 브랜치로 병합될 수 있습니다.</p>

<ul>
  <li>만약 최신 브랜치에 그대로 적용되지 않는다면, <code class="language-plaintext highlighter-rouge">hg revert</code>를 사용하여 쉽게 새 브랜치 네이티브 헤드로 되돌리고, 패치의 다른 버전(또는 적용할 수 없는 경우 없음)을 패치한 다음 병합을 커밋할 수 있습니다.</li>
  <li>여기서 전제는 해당 시리즈 내의 오래된 브랜치에서 온 모든 변경 세트가 결국 해당 시리즈 내의 모든 최신 브랜치로 병합된다는 것입니다.</li>
</ul>

<p>이것은 가장 고통 없는 병합 절차를 제공합니다. 이는 일반적인 경우, 패치를 적용하기 전에 패치가 적용되어야 할 가장 오래된 브랜치에 대해 생각해야 한다는 것을 의미합니다. 일반적으로 이는 최신 유지 보수 브랜치와 트렁크의 두 브랜치 중 하나이며, 보안 수정 전용 모드에서 오래된 브랜치에 적용 가능한 보안 수정은 예외입니다.</p>

<p><strong>3.x에서 2.7 유지 보수 브랜치로 버그 수정 병합:</strong> (2.6 및 2.5는 보안 수정 전용 모드이며, 해당 유지 보수는 Subversion 저장소에서 계속됩니다) 변경 세트는 다른 방식으로 이식되어야 합니다(병합되지 않음). <code class="language-plaintext highlighter-rouge">transplant</code> 확장, <code class="language-plaintext highlighter-rouge">import/export</code>, <code class="language-plaintext highlighter-rouge">bundle/unbundle</code>이 모두 잘 작동합니다.</p>

<p>이 접근 방식을 선택하면 3.x가 2.x 브랜치 이후의 모든 히스토리를 가질 필요가 없으므로 클론이 그렇게 크지 않고 병합이 그렇게 복잡하지 않습니다.</p>

<h3 id="subversion의-미래">Subversion의 미래</h3>

<p>마이그레이션 후 Subversion 저장소는 어떻게 될까요? SVN 서버에는 CPython 저장소뿐만 아니라 많은 저장소가 포함되어 있으므로, 모든 프로젝트가 마이그레이션하기를 원하지 않거나 다른 프로젝트의 마이그레이션에 더 오랜 시간이 걸릴 수 있으므로, 한동안 계속 존재할 것입니다. 사람들이 뒤처지는 것을 방지하기 위해, 마이그레이션된 프로젝트를 저장소에서 새 이름의 새 읽기 전용 저장소로 이동하는 것을 고려할 수 있습니다.</p>

<h3 id="빌드-식별">빌드 식별</h3>

<p>Python은 현재 <code class="language-plaintext highlighter-rouge">sys.subversion</code> 튜플을 제공하여 Python 코드가 실행 중인 Python의 정확한 버전을 확인할 수 있도록 합니다. 현재 버전은 다음과 같습니다:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>('CPython', 'tags/r262', '71600')
('CPython', 'trunk', '73128M')
</code></pre></div></div>

<p>C API의 <code class="language-plaintext highlighter-rouge">Py_GetBuildInfo()</code>에서도 다른 값이 반환되며, <code class="language-plaintext highlighter-rouge">sys.version</code>의 일부로 Python 코드에서 사용할 수 있습니다:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>'r262:71600, Jun 2 2009, 09:58:33'
'trunk:73128M, Jun 2 2009, 01:24:14'
</code></pre></div></div>

<p>리비전 식별자는 <code class="language-plaintext highlighter-rouge">hg</code>의 리비전 해시의 짧은 버전(예: <code class="language-plaintext highlighter-rouge">'dd3ebf81af43'</code>)이 될 것이며, 빌드된 작업 디렉토리가 수정된 경우 <code class="language-plaintext highlighter-rouge">'+'</code>( <code class="language-plaintext highlighter-rouge">'M'</code> 대신)가 추가될 것을 제안합니다. 이는 이러한 종류의 사용을 위한 <code class="language-plaintext highlighter-rouge">hg id</code> 명령의 출력을 반영합니다. <code class="language-plaintext highlighter-rouge">sys.subversion</code> 값도 VCS의 변경 사항을 반영하여 <code class="language-plaintext highlighter-rouge">sys.mercurial</code>로 이름이 변경될 것입니다.</p>

<p>태그/브랜치 식별자의 경우, <code class="language-plaintext highlighter-rouge">hg</code>는 현재 체크아웃된 리비전에 태그가 있는지 확인하고, 태그가 있다면 태그를 사용하며(<code class="language-plaintext highlighter-rouge">'tip'</code>은 제외), 그렇지 않으면 브랜치 이름을 사용할 것을 제안합니다. <code class="language-plaintext highlighter-rouge">sys.subversion</code>은 다음과 같이 됩니다:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>('CPython', 'v2.6.2', 'dd3ebf81af43')
('CPython', 'default', 'af694c6a888c+')
</code></pre></div></div>

<p>그리고 빌드 정보 문자열은 다음과 같이 됩니다:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>'v2.6.2:dd3ebf81af43, Jun 2 2009, 09:58:33'
'default:af694c6a888c+, Jun 2 2009, 01:24:14'
</code></pre></div></div>

<p>이는 <code class="language-plaintext highlighter-rouge">hg</code>의 기본 브랜치가 Subversion의 <code class="language-plaintext highlighter-rouge">'trunk'</code> 대신 <code class="language-plaintext highlighter-rouge">'default'</code>로 불린다는 것과 제안된 새 태그 형식을 반영합니다.</p>

<p>Mercurial은 또한 최신 태그와 현재 변경 세트와 해당 태그 사이의 변경 세트 수를 알아내어 설명적인 버전 문자열을 제공할 수 있습니다:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>hg parent <span class="nt">--template</span> <span class="s2">"{latesttag}+{latesttagdistance}-{node|short}</span><span class="se">\n</span><span class="s2">"</span>
v3.2+37-4b5d0d260e72
<span class="nv">$ </span>hg up 2.7
3316 files updated, 0 files merged, 379 files removed, 0 files unresolved
<span class="nv">$ </span>hg parent <span class="nt">--template</span> <span class="s2">"{latesttag}+{latesttagdistance}-{node|short}</span><span class="se">\n</span><span class="s2">"</span>
v2.7.1+216-9619d21d8198
</code></pre></div></div>

<h2 id="각주">각주</h2>

<p>Mercurial 책은 이름 있는 브랜치의 사용을 권장하지 않지만, 이 점에서는 다소 오래되었습니다. <code class="language-plaintext highlighter-rouge">hg</code>의 개선으로 인해 해당 언급이 작성된 이후 이름 있는 브랜치는 사용하기 훨씬 쉬워졌습니다.
 초기 작업 저장소는 아카이브 저장소의 하위 집합이므로, 작업 저장소에서 아카이브 저장소로 주기적으로 변경 사항을 가져오는 것도 가능합니다.</p>

<h2 id="저작권">저작권</h2>

<p>이 문서는 퍼블릭 도메인에 공개되었습니다.</p>

<hr />
<p>Source: https://github.com/python/peps/blob/main/peps/pep-0385.rst
Last modified: 2025-02-01 08:59:27 GMT</p>

<blockquote>
  <p>⚠️ <strong>알림:</strong> 이 문서는 AI를 활용하여 번역되었으며, 기술적 정확성을 보장하지 않습니다. 정확한 내용은 반드시 원문을 확인하시기 바랍니다.</p>
</blockquote>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#pep" class="page__taxonomy-item" rel="tag">PEP</a><span class="sep">, </span>
    
      <a href="/tags/#python" class="page__taxonomy-item" rel="tag">Python</a><span class="sep">, </span>
    
      <a href="/tags/#translation" class="page__taxonomy-item" rel="tag">Translation</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#pep" class="page__taxonomy-item" rel="tag">PEP</a><span class="sep">, </span>
    
      <a href="/categories/#python" class="page__taxonomy-item" rel="tag">Python</a>
    
    </span>
  </p>


        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2025-09-26">September 26, 2025</time></p>


      </footer>

      

      
  <nav class="pagination">
    
      <a href="/python/pep/384/" class="pagination--pager" title="[Final] PEP 384 - Defining a Stable ABI
">Previous</a>
    
    
      <a href="/python/pep/386/" class="pagination--pager" title="[Superseded] PEP 386 - Changing the version comparison module in Distutils
">Next</a>
    
  </nav>


    </div>

    
  </article>

</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 secrett2633. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    <script>
  'use strict';

  (function() {
    var commentContainer = document.querySelector('#utterances-comments');

    if (!commentContainer) {
      return;
    }

    var script = document.createElement('script');
    script.setAttribute('src', 'https://utteranc.es/client.js');
    script.setAttribute('repo', 'secrett2633/secrett2633.github.io');
    script.setAttribute('issue-term', 'pathname');
    script.setAttribute('theme', 'github-light');
    script.setAttribute('crossorigin', 'anonymous');

    commentContainer.appendChild(script);
  })();
</script>

  





  </body>
</html>
