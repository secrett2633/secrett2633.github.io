<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.22.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="ko" class="no-js">
  <head>
    <style> 
      ::-webkit-scrollbar{ 
        width: 10px;
        height: 10px;
      }

      ::-webkit-scrollbar-track {
        width: 0px;
        background-color: #626262;
        /* border-radius: 5px; */
      }

      ::-webkit-scrollbar-thumb {
        width: 0px;
        background-color: #E2E2E2;
        border-radius: 5px;
      }

      ::-webkit-scrollbar-thumb:hover {
        width: 10px;
        height: 20px;
        /* background-color: rgba(190, 190, 190, 0.2); */
        background-color: #A2A2A2;
        border-radius: 5px;
      }

      ::-webkit-scrollbar-track:hover {
        width: 10px;
        /* background-color: rgba(150, 150, 150, 0.1); */
        background-color: #626262;
        border-radius: 5px;
        /* background: transparent; */
        /* border-radius: 10px; */
      }

      ::-webkit-scrollbar-button:start:decrement,::-webkit-scrollbar-button:end:increment {
          width:0px;
          height: 0px;
          /* background-color: rgb(14, 221, 24); */
          /* border-radius: 50%; */
      }
    </style>
    
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>[Withdrawn] PEP 381 - Mirroring infrastructure for PyPI | secrett2633</title>
<meta name="description" content="Python Enhancement Proposal 381: ‘Mirroring infrastructure for PyPI’에 대한 한국어 번역입니다.">


  <meta name="author" content="secrett2633">
  
  <meta property="article:author" content="secrett2633">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="ko_KR">
<meta property="og:site_name" content="secrett2633's blog">
<meta property="og:title" content="[Withdrawn] PEP 381 - Mirroring infrastructure for PyPI">
<meta property="og:url" content="http://localhost:4000/python/pep/381/">


  <meta property="og:description" content="Python Enhancement Proposal 381: ‘Mirroring infrastructure for PyPI’에 대한 한국어 번역입니다.">







  <meta property="article:published_time" content="2025-09-26T21:02:58+09:00">



  <meta property="article:modified_time" content="2025-09-26T21:02:58+09:00">



  

  


<link rel="canonical" href="http://localhost:4000/python/pep/381/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "secrett2633",
      "url": "http://localhost:4000/"
    
  }
</script>






<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="secrett2633's blog Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->


    <link rel="icon" type="image/png" sizes="32x32" href="https://secrett2633.github.io/assets/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://secrett2633.github.io/assets/images/favicon/favicon-16x16.png">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          secrett2633's blog
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="https://github.com/secrett2633">GitHub</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  

  <!-- 2022.02.17 author content hidden -->
  <!-- <div class="author__content">
    
      <h3 class="author__name" itemprop="name">secrett2633</h3>
    
    
  </div> -->

  <div class="author__urls-wrapper">
    <!-- <button class="btn btn--inverse">Follow</button> -->
    <ul class="author__urls social-icons">
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
    
      
      
      
      
    
    
      <nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    <!-- Backend -->
    <li>
      <span class="nav__sub-title">Backend</span>
      <hr>
      <ul>
        <li><a href="/backend/django/">Django</a></li>
        <li><a href="/backend/logging/">Logging</a></li>
      </ul>
    </li>

    <!-- Python -->
    <li>
      <span class="nav__sub-title">Python</span>
      <hr>
      <ul>
        <li><a href="/python/pep/">PEP</a></li>
      </ul>
    </li>

    <!-- AI/ML -->
    <li>
      <span class="nav__sub-title">AI/ML</span>
      <hr>
      <ul>
        <li><a href="/ai/llm/">LLM</a></li>
        <li><a href="/ai/review/">Review</a></li>
      </ul>
    </li>

    <!-- DevOps -->
    <li>
      <span class="nav__sub-title">DevOps</span>
      <hr>
      <ul>
        <li><a href="/devops/nginx/">Nginx</a></li>
        <li><a href="/devops/docker/">Docker</a></li>
        <li><a href="/devops/safeline/">SafeLine</a></li>
        <li><a href="/devops/jenkins/">Jenkins</a></li>
        <li><a href="/devops/github-actions/">GitHub Actions</a></li>
        <li><a href="/devops/aws/">AWS</a></li>
      </ul>
    </li>

    <!-- etc -->
    <li>
      <span class="nav__sub-title">etc</span>
      <hr>
      <ul>
        <li><a href="/etc/me/">Me</a></li>
        <li><a href="/etc/chrome-extension/">Chrome Extension</a></li>
      </ul>
    </li>
  </ul>
</nav>
    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="[Withdrawn] PEP 381 - Mirroring infrastructure for PyPI">
    <meta itemprop="description" content="Python Enhancement Proposal 381: ‘Mirroring infrastructure for PyPI’에 대한 한국어 번역입니다.">
    <meta itemprop="datePublished" content="2025-09-26T21:02:58+09:00">
    <meta itemprop="dateModified" content="2025-09-26T21:02:58+09:00">

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">[Withdrawn] PEP 381 - Mirroring infrastructure for PyPI
</h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        <time datetime="2025-09-26T21:02:58+09:00">September 26, 2025</time>
      </span>
    

    

    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#pep-381--pypi-미러링-인프라-pep-381--mirroring-infrastructure-for-pypi">PEP 381 – PyPI 미러링 인프라 (PEP 381 – Mirroring infrastructure for PyPI)</a><ul><li><a href="#초록-abstract">초록 (Abstract)</a></li><li><a href="#pep-철회-배경-pep-withdrawal-rationale">PEP 철회 배경 (PEP Withdrawal Rationale)</a></li><li><a href="#제안-배경-rationale">제안 배경 (Rationale)</a></li><li><a href="#미러-목록화-및-등록-mirror-listing-and-registering">미러 목록화 및 등록 (Mirror listing and registering)</a></li><li><a href="#통계-페이지-statistics-page">통계 페이지 (Statistics page)</a></li><li><a href="#미러의-신뢰성-mirror-authenticity">미러의 신뢰성 (Mirror Authenticity)</a></li><li><a href="#미러가-제공해야-하는-특별-페이지-special-pages-a-mirror-needs-to-provide">미러가 제공해야 하는 특별 페이지 (Special pages a mirror needs to provide)</a><ul><li><a href="#최종-수정-날짜-last-modified-date">최종 수정 날짜 (Last modified date)</a></li><li><a href="#로컬-통계-local-statistics">로컬 통계 (Local statistics)</a></li></ul></li><li><a href="#미러가-pypi와-동기화되는-방법-how-a-mirror-should-synchronize-with-pypi">미러가 PyPI와 동기화되는 방법 (How a mirror should synchronize with PyPI)</a><ul><li><a href="#미러링-프로토콜-the-mirroring-protocol">미러링 프로토콜 (The mirroring protocol)</a></li><li><a href="#user-agent-요청-헤더-user-agent-request-header">User-Agent 요청 헤더 (User-agent request header)</a></li></ul></li><li><a href="#클라이언트가-pypi-및-해당-미러를-사용하는-방법-how-a-client-can-use-pypi-and-its-mirrors">클라이언트가 PyPI 및 해당 미러를 사용하는 방법 (How a client can use PyPI and its mirrors)</a><ul><li><a href="#장애-조치-메커니즘-fail-over-mechanism">장애 조치 메커니즘 (Fail-over mechanism)</a></li><li><a href="#추가-패키지-인덱스-extra-package-indexes">추가 패키지 인덱스 (Extra package indexes)</a></li><li><a href="#여러-인덱스-병합-merging-several-indexes">여러 인덱스 병합 (Merging several indexes)</a></li></ul></li></ul></li></ul>

            </nav>
          </aside>
        
        <blockquote>
  <p><strong>원문 링크:</strong> <a href="https://peps.python.org/pep-0381/">PEP 381 - Mirroring infrastructure for PyPI</a></p>

  <table>
    <tbody>
      <tr>
        <td><strong>상태:</strong> Withdrawn</td>
        <td><strong>유형:</strong> Standards Track</td>
        <td><strong>작성일:</strong> 21-Mar-2009</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<h2 id="pep-381--pypi-미러링-인프라-pep-381--mirroring-infrastructure-for-pypi">PEP 381 – PyPI 미러링 인프라 (PEP 381 – Mirroring infrastructure for PyPI)</h2>

<p><strong>작성자:</strong> Tarek Ziadé, Martin von Löwis
<strong>상태:</strong> 철회됨 (Withdrawn)
<strong>유형:</strong> 표준 트랙 (Standards Track)
<strong>생성일:</strong> 2009년 3월 21일</p>

<hr />

<h3 id="초록-abstract">초록 (Abstract)</h3>

<p>이 PEP는 PyPI (Python Package Index)를 위한 미러링 인프라 구축을 설명합니다.</p>

<h3 id="pep-철회-배경-pep-withdrawal-rationale">PEP 철회 배경 (PEP Withdrawal Rationale)</h3>

<p>이 PEP는 2013년 5월, 주 PyPI 웹 서비스가 Fastly 캐싱 CDN 뒤로 이전되면서 철회되었습니다. 이후 이 협약은 PSF (Python Software Foundation)와의 현물 후원으로 공식화되었고, PSF는 후원 중단 시의 위험 관리까지 담당하게 되었습니다.</p>

<p>이전에는 PyPI에서 직접 제공되던 다운로드 통계는 현재 Google BigQuery를 통해 간접적으로 게시되고 있습니다. 따라서 이 PEP에서 설명하는 미러링 제안은 더 이상 필요하지 않게 되어 철회되었습니다.</p>

<h3 id="제안-배경-rationale">제안 배경 (Rationale)</h3>

<p>PyPI는 6,000개 이상의 프로젝트를 호스팅하며, 매일 수많은 사람들이 애플리케이션을 빌드하는 데 사용하고 있습니다. 특히 <code class="language-plaintext highlighter-rouge">easy_install</code> 및 <code class="language-plaintext highlighter-rouge">zc.buildout</code>와 같은 시스템은 PyPI를 집중적으로 활용합니다.</p>

<p>PyPI를 집중적으로 사용하는 사람들에게 PyPI는 단일 실패 지점(Single Point of Failure)으로 작용할 수 있습니다. 이미 개인 및 공개적으로 일부 미러를 설정하는 사람들이 생겨났습니다. 이러한 미러들은 PyPI를 탐색하여 동기화되는 ‘활성’ 미러입니다.</p>

<p>시스템의 신뢰성을 높이기 위해 이 PEP는 다음 사항을 설명했습니다.</p>

<ul>
  <li>PyPI에서의 미러 목록화 및 등록</li>
  <li>공개 미러가 유지해야 할 페이지들. 이 페이지들은 PyPI에서 조회수 및 최종 수정 날짜를 얻는 데 사용됩니다.</li>
  <li>미러가 PyPI와 동기화되는 방법</li>
  <li>클라이언트가 장애 조치(fail-over) 메커니즘을 구현하는 방법</li>
</ul>

<h3 id="미러-목록화-및-등록-mirror-listing-and-registering">미러 목록화 및 등록 (Mirror listing and registering)</h3>

<p>PyPI를 미러링하려는 사람들은 catalog-SIG (Special Interest Group)에 제안을 제출합니다. 메일링 리스트에 미러가 제안되면, 미러링 규칙을 준수하는지 확인한 후 PyPI 애플리케이션 내의 미러 목록에 수동으로 추가됩니다.</p>

<p>미러 목록은 <code class="language-plaintext highlighter-rouge">X.pypi.python.org</code> 형태의 호스트 이름 목록으로 제공됩니다. <code class="language-plaintext highlighter-rouge">X</code> 값은 <code class="language-plaintext highlighter-rouge">a,b,c,...aa,ab,...</code> 순서로 지정됩니다. <code class="language-plaintext highlighter-rouge">a.pypi.python.org</code>는 마스터 서버이며, 미러는 <code class="language-plaintext highlighter-rouge">b</code>부터 시작합니다. <code class="language-plaintext highlighter-rouge">last.pypi.python.org</code> CNAME 레코드는 마지막 호스트 이름을 가리킵니다. 미러 운영자는 정적 주소를 사용해야 하며, 계획된 주소 변경 사항을 <code class="language-plaintext highlighter-rouge">distutils-sig</code>에 미리 보고해야 합니다.</p>

<p>새로운 미러는 <code class="language-plaintext highlighter-rouge">http://pypi.python.org/mirrors</code> 페이지에도 나타나는데, 이 페이지는 미러 목록을 사람이 읽을 수 있는 형태로 제공하고 새로운 미러 등록 방법을 설명합니다.</p>

<h3 id="통계-페이지-statistics-page">통계 페이지 (Statistics page)</h3>

<p>PyPI는 <code class="language-plaintext highlighter-rouge">/stats</code>에서 다운로드 통계를 제공합니다. 이 페이지는 모든 미러의 로컬 통계를 읽고 합산하여 PyPI에서 매일 계산됩니다.</p>

<p>통계는 <code class="language-plaintext highlighter-rouge">/stats/days</code> 및 <code class="language-plaintext highlighter-rouge">/stats/months</code> 아래에 일별 또는 월별 파일로 제공됩니다. 각 파일은 <code class="language-plaintext highlighter-rouge">bzip2</code> 압축 형식이며, 다음 형식을 따릅니다.</p>

<ul>
  <li>일별 파일: <code class="language-plaintext highlighter-rouge">YYYY-MM-DD.bz2</code></li>
  <li>월별 파일: <code class="language-plaintext highlighter-rouge">YYYY-MM.bz2</code></li>
</ul>

<p><strong>예시:</strong></p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">/stats/days/2008-11-06.bz2</code></li>
  <li><code class="language-plaintext highlighter-rouge">/stats/months/2008-11.bz2</code></li>
</ul>

<h3 id="미러의-신뢰성-mirror-authenticity">미러의 신뢰성 (Mirror Authenticity)</h3>

<p>분산 미러링 시스템에서 클라이언트는 미러링된 사본이 원본과 동일한지(authentic) 확인하고 싶을 수 있습니다. 고려해야 할 여러 위협이 있습니다.</p>

<ul>
  <li>중앙 인덱스가 침해될 수 있습니다.</li>
  <li>중앙 인덱스는 신뢰할 수 있다고 가정하지만, 미러가 변조될 수 있습니다.</li>
  <li>중앙 인덱스와 최종 사용자 사이 또는 미러와 최종 사용자 사이의 중간자 공격(man-in-the-middle)으로 데이터그램이 변조될 수 있습니다.</li>
</ul>

<p>이 사양은 두 번째 위협만 다룹니다. 중간자 공격을 감지하기 위한 일부 조치가 마련되어 있습니다. 첫 번째 공격을 감지하려면 패키지 작성자가 PGP 키를 사용하여 패키지에 서명해야 하며, 사용자는 신뢰하는 작성자의 패키지인지 확인할 수 있습니다.</p>

<p>중앙 인덱스는 <code class="language-plaintext highlighter-rouge">/serverkey</code> URL에서 DSA 키를 PEM 형식으로 제공합니다 (예: “openssl dsa -pubout”으로 생성된 RFC 3280 <code class="language-plaintext highlighter-rouge">SubjectPublicKeyInfo</code>). 이 URL은 미러링되지 않아야 하며, 클라이언트는 PyPI에서 직접 공식 <code class="language-plaintext highlighter-rouge">serverkey</code>를 가져오거나 PyPI 클라이언트 소프트웨어와 함께 제공된 사본을 사용해야 합니다. 미러는 키 갱신(key rollover)을 감지하기 위해 여전히 키를 다운로드해야 합니다.</p>

<p>각 패키지에 대해 미러링된 서명은 <code class="language-plaintext highlighter-rouge">/serversig/&lt;package&gt;</code>에서 제공됩니다. 이는 병렬 URL인 <code class="language-plaintext highlighter-rouge">/simple/&lt;package&gt;</code>의 DSA 서명으로, SHA-1과 DSA를 사용하는 DER 형식입니다 (예: RFC 3279 <code class="language-plaintext highlighter-rouge">Dsa-Sig-Value</code>, 알고리즘 1.2.840.10040.4.3으로 생성됨).</p>

<p>미러를 사용하는 클라이언트는 패키지를 확인하기 위해 다음 단계를 수행해야 합니다.</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">/simple</code> 페이지를 다운로드하고 SHA-1 해시를 계산합니다.</li>
  <li>해당 해시의 DSA 서명을 계산합니다.</li>
  <li>해당 <code class="language-plaintext highlighter-rouge">/serversig</code>를 다운로드하고 2단계에서 계산된 값과 바이트 단위로 비교합니다.</li>
  <li>미러에서 다운로드하는 모든 파일의 MD-5 해시를 계산하고 (<code class="language-plaintext highlighter-rouge">/simple</code> 페이지와 비교하여) 확인합니다.</li>
</ol>

<p>확인 알고리즘의 구현은 <code class="language-plaintext highlighter-rouge">https://svn.python.org/packages/trunk/pypi/tools/verify.py</code>에서 제공됩니다.</p>

<p>중앙 인덱스에서 다운로드할 때는 확인이 필요하지 않으며, 계산 오버헤드를 줄이기 위해 피해야 합니다.</p>

<p>약 1년에 한 번, 키가 새로운 키로 교체됩니다. 미러는 모든 <code class="language-plaintext highlighter-rouge">/serversig</code> 페이지를 다시 가져와야 합니다. 미러를 사용하는 클라이언트는 새 서버 키의 신뢰할 수 있는 사본을 찾아야 합니다. 한 가지 방법은 <code class="language-plaintext highlighter-rouge">https://pypi.python.org/serverkey</code>에서 다운로드하는 것입니다. 중간자 공격을 감지하려면 클라이언트가 CACert 기관에서 서명한 SSL 서버 인증서를 확인해야 합니다.</p>

<h3 id="미러가-제공해야-하는-특별-페이지-special-pages-a-mirror-needs-to-provide">미러가 제공해야 하는 특별 페이지 (Special pages a mirror needs to provide)</h3>

<p>미러는 PyPI의 부분적인 복사본이므로, 복사하여 동일한 구조를 제공합니다.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">simple</code>: 패키지 인덱스의 REST 버전</li>
  <li><code class="language-plaintext highlighter-rouge">packages</code>: Python 버전 및 글자별로 저장된 패키지</li>
  <li><code class="language-plaintext highlighter-rouge">serversig</code>: <code class="language-plaintext highlighter-rouge">simple</code> 페이지에 대한 서명</li>
</ul>

<p>또한 두 가지 특정 요소를 제공해야 합니다.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">last-modified</code></li>
  <li><code class="language-plaintext highlighter-rouge">local-stats</code></li>
</ul>

<h4 id="최종-수정-날짜-last-modified-date">최종 수정 날짜 (Last modified date)</h4>

<p>CPAN은 미러의 마지막 동기화 날짜를 제공하는 신선도(freshness) 날짜 시스템을 사용합니다. PyPI의 경우, 각 미러는 미러가 유지하는 마지막 동기화 날짜를 나타내는 간단한 텍스트 콘텐츠의 URL을 유지해야 합니다.</p>

<p>날짜는 ISO 8601 형식을 사용하여 GMT 시간으로 제공됩니다. 각 미러는 자체적인 최종 수정 날짜를 유지할 책임이 있습니다. 이 페이지는 <code class="language-plaintext highlighter-rouge">/last-modified</code>에 위치해야 하며 <code class="language-plaintext highlighter-rouge">text/plain</code> 페이지여야 합니다.</p>

<h4 id="로컬-통계-local-statistics">로컬 통계 (Local statistics)</h4>

<p>각 미러는 자신을 통해 이루어진 모든 다운로드 수를 계산할 책임이 있습니다. 이는 PyPI가 모든 다운로드를 합산하여 총계를 표시하는 데 사용됩니다.</p>

<p>이 통계는 첫 줄에 헤더가 있는 CSV와 유사한 형식입니다. PEP 305를 준수해야 하며, 기본적으로 Python의 <code class="language-plaintext highlighter-rouge">csv</code> 모듈로 읽을 수 있어야 합니다.</p>

<p>이 파일의 필드는 다음과 같습니다.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">package</code>: 패키지의 distutils ID</li>
  <li><code class="language-plaintext highlighter-rouge">filename</code>: 다운로드된 파일 이름</li>
  <li><code class="language-plaintext highlighter-rouge">useragent</code>: 패키지를 다운로드한 클라이언트의 User-Agent</li>
  <li><code class="language-plaintext highlighter-rouge">count</code>: 다운로드 수</li>
</ul>

<p>콘텐츠는 다음과 같습니다.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># package,filename,useragent,count
zc.buildout,zc.buildout-1.6.0.tgz,MyAgent,142
...
</code></pre></div></div>

<p>카운팅은 미러가 시작된 날부터 시작되며, 하루에 하나의 파일이 <code class="language-plaintext highlighter-rouge">bzip2</code> 형식으로 압축됩니다. 각 파일은 날짜와 같이 명명됩니다 (예: <code class="language-plaintext highlighter-rouge">2008-11-06.bz2</code>는 2008년 11월 6일의 파일).</p>

<p>이 파일들은 <code class="language-plaintext highlighter-rouge">/local-stats</code>라는 폴더에 제공됩니다. 예를 들면 다음과 같습니다.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">/local-stats/days/2008-11-06.bz2</code></li>
  <li><code class="language-plaintext highlighter-rouge">/local-stats/days/2008-11-07.bz2</code></li>
  <li><code class="language-plaintext highlighter-rouge">/local-stats/days/2008-11-08.bz2</code></li>
</ul>

<p>이 페이지는 <code class="language-plaintext highlighter-rouge">/local-stats</code>에 위치해야 합니다.</p>

<h3 id="미러가-pypi와-동기화되는-방법-how-a-mirror-should-synchronize-with-pypi">미러가 PyPI와 동기화되는 방법 (How a mirror should synchronize with PyPI)</h3>

<p><code class="language-plaintext highlighter-rouge">easy_install</code>의 작동 방식을 기반으로 Martin v. Loewis와 Jim Fulton이 Simple Index라는 미러링 프로토콜을 설명하고 구현했습니다. 이 섹션은 이를 종합하고 몇 가지 관련 링크, 그리고 User-Agent에 대한 작은 부분을 제공합니다.</p>

<h4 id="미러링-프로토콜-the-mirroring-protocol">미러링 프로토콜 (The mirroring protocol)</h4>

<p>미러는 중앙 서버와 미러 간에 전송되는 데이터의 양을 줄여야 합니다. 이를 위해 <code class="language-plaintext highlighter-rouge">changelog()</code> PyPI XML-RPC 호출을 사용해야 하며, 마지막 동기화 이후 변경된 패키지만 다시 가져와야 합니다. 각 패키지 P에 대해 <code class="language-plaintext highlighter-rouge">/simple/P/</code> 및 <code class="language-plaintext highlighter-rouge">/serversig/P</code> 문서를 복사해야 합니다. 중앙 서버에서 패키지가 삭제되면 해당 패키지 및 모든 관련 파일을 삭제해야 합니다. 패키지 파일의 변경을 감지하기 위해 파일의 ETag를 캐시할 수 있으며, <code class="language-plaintext highlighter-rouge">If-none-match</code> 헤더를 사용하여 건너뛰기를 요청할 수 있습니다.</p>

<p>각 미러링 도구는 설명적인 User-Agent 헤더를 사용하여 자신을 식별해야 합니다. <code class="language-plaintext highlighter-rouge">pep381client</code> 패키지는 이 프로토콜을 준수하여 PyPI를 탐색하는 애플리케이션을 제공합니다.</p>

<h4 id="user-agent-요청-헤더-user-agent-request-header">User-Agent 요청 헤더 (User-agent request header)</h4>

<p>PyPI를 통한 클라이언트의 작업을 구분하기 위해, 모든 미러링 소프트웨어는 특정 User-Agent 이름을 제공해야 합니다.</p>

<p>이는 다음과 같은 모든 클라이언트에도 해당됩니다.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">zc.buildout</code></li>
  <li><code class="language-plaintext highlighter-rouge">setuptools</code></li>
  <li><code class="language-plaintext highlighter-rouge">pip</code></li>
</ul>

<h3 id="클라이언트가-pypi-및-해당-미러를-사용하는-방법-how-a-client-can-use-pypi-and-its-mirrors">클라이언트가 PyPI 및 해당 미러를 사용하는 방법 (How a client can use PyPI and its mirrors)</h3>

<p>PyPI를 탐색하는 클라이언트는 <code class="language-plaintext highlighter-rouge">last.pypi.python.org</code>를 사용하여 미러 목록을 가져와 대체 미러를 사용할 수 있어야 합니다.</p>

<p><strong>코드 예시:</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">socket</span>
<span class="n">socket</span><span class="p">.</span><span class="nf">gethostbyname_ex</span><span class="p">(</span><span class="sh">'</span><span class="s">last.pypi.python.org</span><span class="sh">'</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="c1"># 결과 예시: 'h.pypi.python.org'
</span></code></pre></div></div>

<p>현재 이 메커니즘을 사용할 수 있는 클라이언트는 다음과 같습니다.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">setuptools</code></li>
  <li><code class="language-plaintext highlighter-rouge">zc.buildout</code> (<code class="language-plaintext highlighter-rouge">setuptools</code>를 통해)</li>
  <li><code class="language-plaintext highlighter-rouge">pip</code></li>
</ul>

<h4 id="장애-조치-메커니즘-fail-over-mechanism">장애 조치 메커니즘 (Fail-over mechanism)</h4>

<p>PyPI 또는 사용 중인 미러가 응답하지 않을 때, PyPI를 탐색하는 클라이언트는 장애 조치(Fail-over) 메커니즘을 사용할 수 있어야 합니다.</p>

<p>지리적 위치 및 응답성을 고려하여 어떤 미러를 사용할지는 클라이언트가 결정해야 합니다. 이 PEP는 이 장애 조치 메커니즘이 어떻게 작동해야 하는지에 대해서는 설명하지 않지만, 클라이언트가 가장 가까운 미러를 사용하도록 강력히 권장합니다.</p>

<p>현재 이 메커니즘을 사용할 수 있는 클라이언트는 다음과 같습니다.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">setuptools</code></li>
  <li><code class="language-plaintext highlighter-rouge">zc.buildout</code> (<code class="language-plaintext highlighter-rouge">setuptools</code>를 통해)</li>
  <li><code class="language-plaintext highlighter-rouge">pip</code></li>
</ul>

<h4 id="추가-패키지-인덱스-extra-package-indexes">추가 패키지 인덱스 (Extra package indexes)</h4>

<p>일부 패키지는 비공개이거나 프로젝트 관리자가 자체 서버를 운영하여 사람들이 프로젝트 패키지를 얻을 수 있는 경우, PyPI에 업로드되지 않을 수 있습니다. 그러나 공개 패키지 인덱스는 PyPI 및 Distutils 프로토콜을 따르도록 강력히 권장됩니다.</p>

<p>즉, <code class="language-plaintext highlighter-rouge">register</code> 및 <code class="language-plaintext highlighter-rouge">upload</code> 명령은 시중에 나와 있는 모든 패키지 인덱스 서버와 호환되어야 합니다.</p>

<p>현재 PyPI 및 Distutils와 호환되는 소프트웨어는 다음과 같습니다.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">PloneSoftwareCenter</code>: <code class="language-plaintext highlighter-rouge">plone.org</code> 제품 섹션을 운영하는 데 사용됩니다.</li>
  <li><code class="language-plaintext highlighter-rouge">EggBasket</code></li>
</ul>

<p>추가 패키지 인덱스는 PyPI의 미러가 아니지만, 자체적으로 미러를 가질 수 있습니다.</p>

<h4 id="여러-인덱스-병합-merging-several-indexes">여러 인덱스 병합 (Merging several indexes)</h4>

<p>클라이언트가 여러 개의 개별 인덱스에서 패키지를 가져와야 하는 경우, 각 인덱스를 잠재적인 패키지 소스로 사용할 수 있어야 합니다. 클라이언트가 패키지를 찾기 위해 여러 인덱스는 정렬된 목록으로 정의되어야 합니다.</p>

<p>각 독립적인 인덱스는 물론 자체 미러 목록을 제공할 수 있습니다.
(XXX: 임의의 인덱스의 미러에 대한 호스트 이름을 가져오는 방법 정의 필요)</p>

<p>이는 모든 수준의 개인 정보 보호를 포함하는 신뢰할 수 있는 패키징 시스템을 위해 클라이언트 수준에서 모든 조합을 허용합니다. 병합 처리는 클라이언트의 몫입니다.</p>

<blockquote>
  <p>⚠️ <strong>알림:</strong> 이 문서는 AI를 활용하여 번역되었으며, 기술적 정확성을 보장하지 않습니다. 정확한 내용은 반드시 원문을 확인하시기 바랍니다.</p>
</blockquote>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#pep" class="page__taxonomy-item" rel="tag">PEP</a><span class="sep">, </span>
    
      <a href="/tags/#python" class="page__taxonomy-item" rel="tag">Python</a><span class="sep">, </span>
    
      <a href="/tags/#translation" class="page__taxonomy-item" rel="tag">Translation</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#pep" class="page__taxonomy-item" rel="tag">PEP</a><span class="sep">, </span>
    
      <a href="/categories/#python" class="page__taxonomy-item" rel="tag">Python</a>
    
    </span>
  </p>


        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2025-09-26">September 26, 2025</time></p>


      </footer>

      

      
  <nav class="pagination">
    
      <a href="/python/pep/380/" class="pagination--pager" title="[Final] PEP 380 - Syntax for Delegating to a Subgenerator
">Previous</a>
    
    
      <a href="/python/pep/382/" class="pagination--pager" title="[Rejected] PEP 382 - Namespace Packages
">Next</a>
    
  </nav>


    </div>

    
  </article>

</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 secrett2633. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    <script>
  'use strict';

  (function() {
    var commentContainer = document.querySelector('#utterances-comments');

    if (!commentContainer) {
      return;
    }

    var script = document.createElement('script');
    script.setAttribute('src', 'https://utteranc.es/client.js');
    script.setAttribute('repo', 'secrett2633/secrett2633.github.io');
    script.setAttribute('issue-term', 'pathname');
    script.setAttribute('theme', 'github-light');
    script.setAttribute('crossorigin', 'anonymous');

    commentContainer.appendChild(script);
  })();
</script>

  





  </body>
</html>
