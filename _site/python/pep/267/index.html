<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.22.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="ko" class="no-js">
  <head>
    <style> 
      ::-webkit-scrollbar{ 
        width: 10px;
        height: 10px;
      }

      ::-webkit-scrollbar-track {
        width: 0px;
        background-color: #626262;
        /* border-radius: 5px; */
      }

      ::-webkit-scrollbar-thumb {
        width: 0px;
        background-color: #E2E2E2;
        border-radius: 5px;
      }

      ::-webkit-scrollbar-thumb:hover {
        width: 10px;
        height: 20px;
        /* background-color: rgba(190, 190, 190, 0.2); */
        background-color: #A2A2A2;
        border-radius: 5px;
      }

      ::-webkit-scrollbar-track:hover {
        width: 10px;
        /* background-color: rgba(150, 150, 150, 0.1); */
        background-color: #626262;
        border-radius: 5px;
        /* background: transparent; */
        /* border-radius: 10px; */
      }

      ::-webkit-scrollbar-button:start:decrement,::-webkit-scrollbar-button:end:increment {
          width:0px;
          height: 0px;
          /* background-color: rgb(14, 221, 24); */
          /* border-radius: 50%; */
      }
    </style>
    
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>[Deferred] PEP 267 - Optimized Access to Module Namespaces | secrett2633</title>
<meta name="description" content="Python Enhancement Proposal 267: ‘Optimized Access to Module Namespaces’에 대한 한국어 번역입니다.">


  <meta name="author" content="secrett2633">
  
  <meta property="article:author" content="secrett2633">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="ko_KR">
<meta property="og:site_name" content="secrett2633's blog">
<meta property="og:title" content="[Deferred] PEP 267 - Optimized Access to Module Namespaces">
<meta property="og:url" content="http://localhost:4000/python/pep/267/">


  <meta property="og:description" content="Python Enhancement Proposal 267: ‘Optimized Access to Module Namespaces’에 대한 한국어 번역입니다.">







  <meta property="article:published_time" content="2025-09-26T17:50:38+09:00">



  <meta property="article:modified_time" content="2025-09-26T17:50:38+09:00">



  

  


<link rel="canonical" href="http://localhost:4000/python/pep/267/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "secrett2633",
      "url": "http://localhost:4000/"
    
  }
</script>






<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="secrett2633's blog Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->


    <link rel="icon" type="image/png" sizes="32x32" href="https://secrett2633.github.io/assets/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://secrett2633.github.io/assets/images/favicon/favicon-16x16.png">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          secrett2633's blog
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="https://github.com/secrett2633">GitHub</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  

  <!-- 2022.02.17 author content hidden -->
  <!-- <div class="author__content">
    
      <h3 class="author__name" itemprop="name">secrett2633</h3>
    
    
  </div> -->

  <div class="author__urls-wrapper">
    <!-- <button class="btn btn--inverse">Follow</button> -->
    <ul class="author__urls social-icons">
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
    
      
      
      
      
    
    
      <nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    <!-- Backend -->
    <li>
      <span class="nav__sub-title">Backend</span>
      <hr>
      <ul>
        <li><a href="/backend/django/">Django</a></li>
        <li><a href="/backend/logging/">Logging</a></li>
      </ul>
    </li>

    <!-- Python -->
    <li>
      <span class="nav__sub-title">Python</span>
      <hr>
      <ul>
        <li><a href="/python/pep/">PEP</a></li>
      </ul>
    </li>

    <!-- AI/ML -->
    <li>
      <span class="nav__sub-title">AI/ML</span>
      <hr>
      <ul>
        <li><a href="/ai/llm/">LLM</a></li>
        <li><a href="/ai/review/">Review</a></li>
      </ul>
    </li>

    <!-- DevOps -->
    <li>
      <span class="nav__sub-title">DevOps</span>
      <hr>
      <ul>
        <li><a href="/devops/nginx/">Nginx</a></li>
        <li><a href="/devops/docker/">Docker</a></li>
        <li><a href="/devops/safeline/">SafeLine</a></li>
        <li><a href="/devops/jenkins/">Jenkins</a></li>
        <li><a href="/devops/github-actions/">GitHub Actions</a></li>
        <li><a href="/devops/aws/">AWS</a></li>
      </ul>
    </li>

    <!-- etc -->
    <li>
      <span class="nav__sub-title">etc</span>
      <hr>
      <ul>
        <li><a href="/etc/me/">Me</a></li>
        <li><a href="/etc/chrome-extension/">Chrome Extension</a></li>
      </ul>
    </li>
  </ul>
</nav>
    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="[Deferred] PEP 267 - Optimized Access to Module Namespaces">
    <meta itemprop="description" content="Python Enhancement Proposal 267: ‘Optimized Access to Module Namespaces’에 대한 한국어 번역입니다.">
    <meta itemprop="datePublished" content="2025-09-26T17:50:38+09:00">
    <meta itemprop="dateModified" content="2025-09-26T17:50:38+09:00">

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">[Deferred] PEP 267 - Optimized Access to Module Namespaces
</h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        <time datetime="2025-09-26T17:50:38+09:00">September 26, 2025</time>
      </span>
    

    

    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#pep-267--모듈-네임스페이스에-대한-접근-최적화">PEP 267 – 모듈 네임스페이스에 대한 접근 최적화</a><ul><li><a href="#연기-deferral">연기 (Deferral)</a></li><li><a href="#개요-abstract">개요 (Abstract)</a></li><li><a href="#서론-introduction">서론 (Introduction)</a></li><li><a href="#dlict-설계-dlict-design">DLict 설계 (DLict design)</a></li><li><a href="#컴파일러-문제-compiler-issues">컴파일러 문제 (Compiler issues)</a></li><li><a href="#런타임-모델-runtime-model">런타임 모델 (Runtime model)</a></li><li><a href="#하위-호환성-backwards-compatibility">하위 호환성 (Backwards compatibility)</a></li><li><a href="#관련-pep-related-peps">관련 PEP (Related PEPs)</a></li><li><a href="#저작권-copyright">저작권 (Copyright)</a></li></ul></li></ul>

            </nav>
          </aside>
        
        <blockquote>
  <p><strong>원문 링크:</strong> <a href="https://peps.python.org/pep-0267/">PEP 267 - Optimized Access to Module Namespaces</a></p>

  <table>
    <tbody>
      <tr>
        <td><strong>상태:</strong> Deferred</td>
        <td><strong>유형:</strong> Standards Track</td>
        <td><strong>작성일:</strong> 23-May-2001</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<h1 id="pep-267--모듈-네임스페이스에-대한-접근-최적화">PEP 267 – 모듈 네임스페이스에 대한 접근 최적화</h1>

<ul>
  <li><strong>작성자:</strong> Jeremy Hylton</li>
  <li><strong>상태:</strong> 연기됨 (Deferred)</li>
  <li><strong>유형:</strong> 표준 트랙 (Standards Track)</li>
  <li><strong>생성일:</strong> 2001년 5월 23일</li>
  <li><strong>Python 버전:</strong> 2.2</li>
</ul>

<h2 id="연기-deferral">연기 (Deferral)</h2>

<p>이 PEP는 좋은 아이디어임에도 불구하고, PEP 266 및 PEP 280과의 차이점을 조율하고 구현할 사람이 나타나지 않아 연기되었습니다.</p>

<h2 id="개요-abstract">개요 (Abstract)</h2>

<p>이 PEP는 전역(global) 모듈 네임스페이스와 내장(builtin) 네임스페이스의 새로운 구현을 제안하며, 이는 이름 분석 속도를 향상시킵니다. 이 구현은 대부분의 네임스페이스 연산에 객체 포인터(object pointers) 배열을 사용합니다. 컴파일러는 컴파일 시점에 전역 변수와 모듈 속성(module attributes)에 대한 인덱스(indices)를 할당합니다.</p>

<p>현재 구현은 이러한 네임스페이스를 딕셔너리(dictionaries)로 표현합니다. 전역 이름은 사용될 때마다 딕셔너리 조회를 발생시키고, 내장 이름은 두 번의 딕셔너리 조회(전역 네임스페이스에서의 실패한 조회와 내장 네임스페이스에서의 두 번째 조회)를 발생시킵니다.</p>

<p>이 새로운 구현은 모듈 레벨 함수와 변수를 사용하는 Python 코드의 속도를 높일 것입니다. 또한 이러한 이름에 대한 접근 속도를 높이기 위해 발전했던 어색한 코딩 스타일을 제거할 것입니다.</p>

<p>전역 및 내장 네임스페이스는 컴파일러가 감지할 수 없는 방식으로 동적으로 수정될 수 있기 때문에 이 구현은 복잡해질 것입니다. (예: 모듈이 임포트된 후 스크립트에 의해 모듈의 네임스페이스가 수정되는 경우) 결과적으로, 이 구현은 이러한 동적 기능을 보존하기 위해 여러 보조 데이터 구조를 유지해야 합니다.</p>

<h2 id="서론-introduction">서론 (Introduction)</h2>

<p>이 PEP는 컴파일 시점에 알려진 모듈 변수에 대한 접근을 최적화하는 모듈 객체의 속성 접근(attribute access)에 대한 새로운 구현을 제안합니다. 모듈은 이러한 변수들을 배열에 저장하고, 배열 오프셋(array offsets)을 사용하여 속성을 조회하는 인터페이스를 제공할 것입니다. 전역 변수, 내장 변수, 그리고 임포트된 모듈의 속성에 대해 컴파일러는 빠른 접근을 위해 배열 오프셋을 사용하는 코드를 생성할 것입니다.</p>

<p>이 구현은 내장 이름의 가시성(visibility)에 영향을 미치는 방식으로 런타임에 모듈 네임스페이스를 수정하는 기능을 포함하여, 모듈 네임스페이스에 대한 기존의 의미론(semantics)을 보존할 것입니다.</p>

<h2 id="dlict-설계-dlict-design">DLict 설계 (DLict design)</h2>

<p>네임스페이스는 때때로 <code class="language-plaintext highlighter-rouge">dlict</code>라고 불리는 데이터 구조를 사용하여 구현됩니다. <code class="language-plaintext highlighter-rouge">dlict</code>는 일부 딕셔너리 엔트리(entries)에 대해 번호가 매겨진 슬롯(numbered slots)을 갖는 딕셔너리입니다. 허용 가능한 성능을 달성하려면 이 타입은 C로 구현되어야 합니다. 새로운 타입-클래스 통합(type-class unification) 작업으로 인해 비교적 쉽게 구현될 수 있습니다. <code class="language-plaintext highlighter-rouge">DLict</code>는 일부 키에 대해 대체 저장 모듈을 가진 딕셔너리의 서브클래스(subclass)일 것으로 예상됩니다.</p>

<p>기본 설계를 설명하기 위해 Python 구현이 포함되어 있습니다:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="sh">"""</span><span class="s">A dictionary-list hybrid</span><span class="sh">"""</span>
<span class="kn">import</span> <span class="n">types</span>
<span class="k">class</span> <span class="nc">DLict</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">names</span><span class="p">):</span>
        <span class="k">assert</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">types</span><span class="p">.</span><span class="n">DictType</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">names</span> <span class="o">=</span> <span class="p">{}</span> <span class="c1"># Stores name -&gt; index mapping
</span>        <span class="n">self</span><span class="p">.</span><span class="nb">list</span> <span class="o">=</span> <span class="p">[</span><span class="bp">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">size</span> <span class="c1"># Array for indexed slots
</span>        <span class="n">self</span><span class="p">.</span><span class="n">empty</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">size</span> <span class="c1"># Tracks if an indexed slot is empty
</span>        <span class="n">self</span><span class="p">.</span><span class="nb">dict</span> <span class="o">=</span> <span class="p">{}</span> <span class="c1"># Regular dictionary for non-indexed names or dynamic additions
</span>        <span class="n">self</span><span class="p">.</span><span class="n">size</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">names</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">i</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="nb">dict</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">empty</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nb">KeyError</span><span class="p">,</span> <span class="n">name</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="nb">list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">names</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">i</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="nb">dict</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">empty</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="n">self</span><span class="p">.</span><span class="nb">list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>
            <span class="n">self</span><span class="p">.</span><span class="n">size</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">__delitem__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">names</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">i</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">del</span> <span class="n">self</span><span class="p">.</span><span class="nb">dict</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">empty</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="nb">KeyError</span><span class="p">,</span> <span class="n">name</span>
            <span class="n">self</span><span class="p">.</span><span class="n">empty</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">self</span><span class="p">.</span><span class="nb">list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="n">self</span><span class="p">.</span><span class="n">size</span> <span class="o">-=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">keys</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="nb">dict</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">names</span><span class="p">.</span><span class="nf">keys</span><span class="p">()</span> <span class="o">+</span> <span class="n">self</span><span class="p">.</span><span class="nb">dict</span><span class="p">.</span><span class="nf">keys</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">names</span><span class="p">.</span><span class="nf">keys</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">values</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="nb">dict</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">names</span><span class="p">.</span><span class="nf">values</span><span class="p">()</span> <span class="o">+</span> <span class="n">self</span><span class="p">.</span><span class="nb">dict</span><span class="p">.</span><span class="nf">values</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">names</span><span class="p">.</span><span class="nf">values</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">items</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="c1"># NOTE: Original PEP's items() implementation is incorrect.
</span>        <span class="c1"># It should combine items from both 'names' and 'dict' based on current values.
</span>        <span class="c1"># The provided sample code combines names.items() + dict.items()
</span>        <span class="c1"># but also combines names.items() when self.dict is empty, which is inconsistent.
</span>        <span class="c1"># For simplicity, I'll keep the original provided structure.
</span>        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="nb">dict</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">names</span><span class="p">.</span><span class="nf">items</span><span class="p">()</span> <span class="c1"># This is likely a typo in the original PEP
</span>        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">names</span><span class="p">.</span><span class="nf">items</span><span class="p">()</span> <span class="o">+</span> <span class="n">self</span><span class="p">.</span><span class="nb">dict</span><span class="p">.</span><span class="nf">items</span><span class="p">()</span> <span class="c1"># This is also likely a typo, should be from 'self.list' for indexed items
</span>
    <span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">size</span> <span class="o">+</span> <span class="nf">len</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="nb">dict</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__cmp__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">dlict</span><span class="p">):</span>
        <span class="n">c</span> <span class="o">=</span> <span class="nf">cmp</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">names</span><span class="p">,</span> <span class="n">dlict</span><span class="p">.</span><span class="n">names</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">c</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span> <span class="k">return</span> <span class="n">c</span>
        <span class="n">c</span> <span class="o">=</span> <span class="nf">cmp</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">size</span><span class="p">,</span> <span class="n">dlict</span><span class="p">.</span><span class="n">size</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">c</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span> <span class="k">return</span> <span class="n">c</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">names</span><span class="p">)):</span>
            <span class="n">c</span> <span class="o">=</span> <span class="nf">cmp</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">empty</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">dlict</span><span class="p">.</span><span class="n">empty</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">c</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span> <span class="k">return</span> <span class="n">c</span>
            <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">empty</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">c</span> <span class="o">=</span> <span class="nf">cmp</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="nb">list</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">dlict</span><span class="p">.</span><span class="n">empty</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="c1"># This comparison looks incorrect, comparing value to empty flag
</span>                <span class="k">if</span> <span class="n">c</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span> <span class="k">return</span> <span class="n">c</span>
        <span class="k">return</span> <span class="nf">cmp</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="nb">dict</span><span class="p">,</span> <span class="n">dlict</span><span class="p">.</span><span class="nb">dict</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">clear</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="nb">dict</span><span class="p">.</span><span class="nf">clear</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">names</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">empty</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">self</span><span class="p">.</span><span class="n">empty</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="n">self</span><span class="p">.</span><span class="nb">list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">pass</span> <span class="c1"># Not implemented in the example
</span>
    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">dlict-special method to support indexed access</span><span class="sh">"""</span>
        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">empty</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="nb">list</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nb">KeyError</span><span class="p">,</span> <span class="n">index</span>

    <span class="k">def</span> <span class="nf">store</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">dlict-special method to support indexed access</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="n">empty</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="n">self</span><span class="p">.</span><span class="nb">list</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>

    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">dlict-special method to support indexed access</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="n">empty</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">self</span><span class="p">.</span><span class="nb">list</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
</code></pre></div></div>

<h2 id="컴파일러-문제-compiler-issues">컴파일러 문제 (Compiler issues)</h2>

<p>컴파일러는 현재 모듈의 모든 전역 변수 이름을 수집합니다. 이들은 모듈 레벨에서 바인딩되거나, <code class="language-plaintext highlighter-rouge">global</code>로 선언된 클래스 또는 함수 본문 내에서 바인딩된 이름들입니다.</p>

<p>컴파일러는 각 전역 이름에 대해 인덱스를 할당하고, 전역 변수들의 이름과 인덱스를 모듈의 코드 객체(code object)에 추가할 것입니다. 그러면 각 코드 객체는 자신이 정의된 모듈에 취소할 수 없게 바인딩될 것입니다. (이것이 미묘한 문제를 일으킬지는 확실하지 않습니다.)</p>

<p>임포트된 모듈의 속성에 대해서는 모듈이 간접(indirection) 레코드를 저장할 것입니다. 내부적으로 모듈은 정의하는 모듈에 대한 포인터와 정의하는 모듈의 전역 변수 배열 내 속성의 오프셋(offset)을 저장합니다. 오프셋은 이름이 처음 조회될 때 초기화됩니다.</p>

<h2 id="런타임-모델-runtime-model">런타임 모델 (Runtime model)</h2>

<p>Python VM은 모듈 레벨 배열을 통해 전역 변수와 모듈 속성에 접근하기 위한 새로운 Opcode (옵코드)로 확장될 것입니다.</p>

<p>함수 객체는 모듈 레벨의 전역 배열에 대한 접근을 제공하기 위해 자신을 정의한 모듈을 가리켜야 할 것입니다.</p>

<p><code class="language-plaintext highlighter-rouge">dlict</code>에 저장된 모듈 속성(이를 정적 속성(static attributes)이라고 부름)의 경우, <code class="language-plaintext highlighter-rouge">get/delattr</code> 구현은 기존의 이름 기반 인터페이스를 사용하여 이러한 속성에 대한 접근을 추적해야 합니다. 만약 정적 속성이 동적으로 업데이트되면 (예: <code class="language-plaintext highlighter-rouge">mod.__dict__["foo"] = 2</code>), 구현은 백업 딕셔너리 대신 배열 슬롯을 업데이트해야 합니다.</p>

<h2 id="하위-호환성-backwards-compatibility">하위 호환성 (Backwards compatibility)</h2>

<p><code class="language-plaintext highlighter-rouge">dlict</code>는 슬롯이 현재 사용 중인지 여부에 대한 메타 정보(meta-information)를 유지해야 할 것입니다. 또한 내장 네임스페이스에 대한 포인터도 유지해야 합니다. 이름이 현재 전역 네임스페이스에서 사용되지 않는 경우, 조회는 내장 네임스페이스로 실패하여 넘어갈 것입니다.</p>

<p>반대의 경우, 각 모듈은 내장 이름을 가리는 전역 이름이 동적으로 추가되었는지 확인하는 내장 네임스페이스를 위한 특별한 접근자(accessor) 함수가 필요할 수 있습니다. 이 검사는 모듈의 <code class="language-plaintext highlighter-rouge">dlict</code>에 동적 변경이 있었을 때, 즉 컴파일 시점에 발견되지 않은 이름이 바인딩되었을 때만 발생합니다.</p>

<p>이러한 메커니즘은 모듈의 전역 네임스페이스가 런타임에 특이한 방식으로 수정되지 않는 일반적인 경우에는 거의 또는 전혀 비용이 들지 않을 것입니다. 전역 이름을 가지고 특이한 작업을 하는 모듈에 대해서는 오버헤드를 추가하겠지만, 이는 흔치 않은 관행이며 장려할 가치가 없는 행위일 가능성이 높습니다.</p>

<p>향후 Python 버전에서는 전역 네임스페이스에 대한 동적 추가를 비활성화하는 것이 바람직할 수도 있습니다. 그렇게 된다면, 새로운 구현은 경고를 제공할 수 있습니다.</p>

<h2 id="관련-pep-related-peps">관련 PEP (Related PEPs)</h2>

<ul>
  <li>
    <p><strong>PEP 266, Optimizing Global Variable/Attribute Access:</strong> 전역 변수 및 객체 속성에 대한 접근을 최적화하기 위한 다른 메커니즘을 제안합니다. 이 메커니즘은 <code class="language-plaintext highlighter-rouge">TRACK_OBJECT</code> 및 <code class="language-plaintext highlighter-rouge">UNTRACK_OBJECT</code>라는 두 개의 새로운 Opcode를 사용하여 전역 또는 객체 속성을 별칭(aliases)하는 로컬 변수 배열에 슬롯을 생성합니다. 별칭된 객체가 재바인딩(rebound)되면, 재바인딩 연산은 별칭을 업데이트해야 합니다.</p>

    <p>객체 추적(object tracking) 접근 방식은 모듈뿐만 아니라 더 넓은 범위의 객체에 적용됩니다. 또한 런타임 비용이 더 높을 수 있습니다. 왜냐하면 전역 변수나 객체 속성을 사용하는 각 함수는 객체에 대한 관심을 등록하고 종료 시 등록을 해제하기 위해 추가 Opcode를 실행해야 하기 때문입니다. 등록 비용은 명확하지 않지만, 콜백 목록을 유지하기 위한 동적으로 크기 조정 가능한 데이터 구조를 포함할 것으로 예상됩니다.</p>

    <p>여기서 제안하는 구현은 별칭을 생성하지 않으므로 등록의 필요성을 피합니다. 대신 전역 변수나 모듈 속성을 참조하는 함수가 원래 바인딩이 저장된 위치에 대한 포인터를 유지하도록 허용합니다. 두 번째 장점은 초기 조회가 함수 호출당 한 번이 아니라 모듈당 한 번 수행된다는 것입니다.</p>
  </li>
</ul>

<h2 id="저작권-copyright">저작권 (Copyright)</h2>

<p>이 문서는 공개 도메인(public domain)에 배포되었습니다.</p>

<blockquote>
  <p>⚠️ <strong>알림:</strong> 이 문서는 AI를 활용하여 번역되었으며, 기술적 정확성을 보장하지 않습니다. 정확한 내용은 반드시 원문을 확인하시기 바랍니다.</p>
</blockquote>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#pep" class="page__taxonomy-item" rel="tag">PEP</a><span class="sep">, </span>
    
      <a href="/tags/#python" class="page__taxonomy-item" rel="tag">Python</a><span class="sep">, </span>
    
      <a href="/tags/#translation" class="page__taxonomy-item" rel="tag">Translation</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#pep" class="page__taxonomy-item" rel="tag">PEP</a><span class="sep">, </span>
    
      <a href="/categories/#python" class="page__taxonomy-item" rel="tag">Python</a>
    
    </span>
  </p>


        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2025-09-26">September 26, 2025</time></p>


      </footer>

      

      
  <nav class="pagination">
    
      <a href="/python/pep/266/" class="pagination--pager" title="[Withdrawn] PEP 266 - Optimizing Global Variable/Attribute Access
">Previous</a>
    
    
      <a href="/python/pep/268/" class="pagination--pager" title="[Rejected] PEP 268 - Extended HTTP functionality and WebDAV
">Next</a>
    
  </nav>


    </div>

    
  </article>

</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 secrett2633. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    <script>
  'use strict';

  (function() {
    var commentContainer = document.querySelector('#utterances-comments');

    if (!commentContainer) {
      return;
    }

    var script = document.createElement('script');
    script.setAttribute('src', 'https://utteranc.es/client.js');
    script.setAttribute('repo', 'secrett2633/secrett2633.github.io');
    script.setAttribute('issue-term', 'pathname');
    script.setAttribute('theme', 'github-light');
    script.setAttribute('crossorigin', 'anonymous');

    commentContainer.appendChild(script);
  })();
</script>

  





  </body>
</html>
