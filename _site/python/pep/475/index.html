<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.22.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="ko" class="no-js">
  <head>
    <style> 
      ::-webkit-scrollbar{ 
        width: 10px;
        height: 10px;
      }

      ::-webkit-scrollbar-track {
        width: 0px;
        background-color: #626262;
        /* border-radius: 5px; */
      }

      ::-webkit-scrollbar-thumb {
        width: 0px;
        background-color: #E2E2E2;
        border-radius: 5px;
      }

      ::-webkit-scrollbar-thumb:hover {
        width: 10px;
        height: 20px;
        /* background-color: rgba(190, 190, 190, 0.2); */
        background-color: #A2A2A2;
        border-radius: 5px;
      }

      ::-webkit-scrollbar-track:hover {
        width: 10px;
        /* background-color: rgba(150, 150, 150, 0.1); */
        background-color: #626262;
        border-radius: 5px;
        /* background: transparent; */
        /* border-radius: 10px; */
      }

      ::-webkit-scrollbar-button:start:decrement,::-webkit-scrollbar-button:end:increment {
          width:0px;
          height: 0px;
          /* background-color: rgb(14, 221, 24); */
          /* border-radius: 50%; */
      }
    </style>
    
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>[Final] PEP 475 - Retry system calls failing with EINTR | secrett2633</title>
<meta name="description" content="Python Enhancement Proposal 475: ‘Retry system calls failing with EINTR’에 대한 한국어 번역입니다.">


  <meta name="author" content="secrett2633">
  
  <meta property="article:author" content="secrett2633">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="ko_KR">
<meta property="og:site_name" content="secrett2633's blog">
<meta property="og:title" content="[Final] PEP 475 - Retry system calls failing with EINTR">
<meta property="og:url" content="http://localhost:4000/python/pep/475/">


  <meta property="og:description" content="Python Enhancement Proposal 475: ‘Retry system calls failing with EINTR’에 대한 한국어 번역입니다.">







  <meta property="article:published_time" content="2025-09-26T22:21:40+09:00">



  <meta property="article:modified_time" content="2025-09-26T22:21:40+09:00">



  

  


<link rel="canonical" href="http://localhost:4000/python/pep/475/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "secrett2633",
      "url": "http://localhost:4000/"
    
  }
</script>






<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="secrett2633's blog Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->


    <link rel="icon" type="image/png" sizes="32x32" href="https://secrett2633.github.io/assets/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://secrett2633.github.io/assets/images/favicon/favicon-16x16.png">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          secrett2633's blog
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="https://github.com/secrett2633">GitHub</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  

  <!-- 2022.02.17 author content hidden -->
  <!-- <div class="author__content">
    
      <h3 class="author__name" itemprop="name">secrett2633</h3>
    
    
  </div> -->

  <div class="author__urls-wrapper">
    <!-- <button class="btn btn--inverse">Follow</button> -->
    <ul class="author__urls social-icons">
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
    
      
      
      
      
    
    
      <nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    <!-- Backend -->
    <li>
      <span class="nav__sub-title">Backend</span>
      <hr>
      <ul>
        <li><a href="/backend/django/">Django</a></li>
        <li><a href="/backend/logging/">Logging</a></li>
      </ul>
    </li>

    <!-- Python -->
    <li>
      <span class="nav__sub-title">Python</span>
      <hr>
      <ul>
        <li><a href="/python/pep/">PEP</a></li>
      </ul>
    </li>

    <!-- AI/ML -->
    <li>
      <span class="nav__sub-title">AI/ML</span>
      <hr>
      <ul>
        <li><a href="/ai/llm/">LLM</a></li>
        <li><a href="/ai/review/">Review</a></li>
      </ul>
    </li>

    <!-- DevOps -->
    <li>
      <span class="nav__sub-title">DevOps</span>
      <hr>
      <ul>
        <li><a href="/devops/nginx/">Nginx</a></li>
        <li><a href="/devops/docker/">Docker</a></li>
        <li><a href="/devops/safeline/">SafeLine</a></li>
        <li><a href="/devops/jenkins/">Jenkins</a></li>
        <li><a href="/devops/github-actions/">GitHub Actions</a></li>
        <li><a href="/devops/aws/">AWS</a></li>
      </ul>
    </li>

    <!-- etc -->
    <li>
      <span class="nav__sub-title">etc</span>
      <hr>
      <ul>
        <li><a href="/etc/me/">Me</a></li>
        <li><a href="/etc/chrome-extension/">Chrome Extension</a></li>
      </ul>
    </li>
  </ul>
</nav>
    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="[Final] PEP 475 - Retry system calls failing with EINTR">
    <meta itemprop="description" content="Python Enhancement Proposal 475: ‘Retry system calls failing with EINTR’에 대한 한국어 번역입니다.">
    <meta itemprop="datePublished" content="2025-09-26T22:21:40+09:00">
    <meta itemprop="dateModified" content="2025-09-26T22:21:40+09:00">

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">[Final] PEP 475 - Retry system calls failing with EINTR
</h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        <time datetime="2025-09-26T22:21:40+09:00">September 26, 2025</time>
      </span>
    

    

    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#pep-475--eintr-오류로-실패하는-시스템-호출-재시도">PEP 475 – EINTR 오류로 실패하는 시스템 호출 재시도</a><ul><li><a href="#초록-abstract">초록 (Abstract)</a></li><li><a href="#배경-rationale">배경 (Rationale)</a><ul><li><a href="#중단된-시스템-호출-interrupted-system-calls">중단된 시스템 호출 (Interrupted system calls)</a></li><li><a href="#python-34의-현황-status-in-python-34">Python 3.4의 현황 (Status in Python 3.4)</a></li><li><a href="#사용-사례-1-시그널에-신경-쓰지-않기-use-case-1-dont-bother-with-signals">사용 사례 1: 시그널에 신경 쓰지 않기 (Use Case 1: Don’t Bother With Signals)</a></li><li><a href="#사용-사례-2-가능한-한-빨리-시그널-알림-받기-use-case-2-be-notified-of-signals-as-soon-as-possible">사용 사례 2: 가능한 한 빨리 시그널 알림 받기 (Use Case 2: Be notified of signals as soon as possible)</a></li></ul></li><li><a href="#제안-proposal">제안 (Proposal)</a><ul><li><a href="#수정된-함수-modified-functions">수정된 함수 (Modified functions)</a></li><li><a href="#interruptederror-처리-interruptederror-handling">InterruptedError 처리 (InterruptedError handling)</a></li><li><a href="#하위-호환성-backward-compatibility">하위 호환성 (Backward compatibility)</a></li></ul></li><li><a href="#부록-appendix">부록 (Appendix)</a><ul><li><a href="#wakeup-파일-디스크립터-wakeup-file-descriptor">Wakeup 파일 디스크립터 (Wakeup file descriptor)</a></li><li><a href="#다중-스레딩-multithreading">다중 스레딩 (Multithreading)</a></li><li><a href="#windows에서의-시그널-signals-on-windows">Windows에서의 시그널 (Signals on Windows)</a><ul><li><a href="#제어-이벤트-control-events">제어 이벤트 (Control events)</a></li><li><a href="#시그널-signals">시그널 (Signals)</a></li><li><a href="#sigint">SIGINT</a></li></ul></li></ul></li><li><a href="#구현-implementation">구현 (Implementation)</a></li></ul></li></ul>

            </nav>
          </aside>
        
        <blockquote>
  <p><strong>원문 링크:</strong> <a href="https://peps.python.org/pep-0475/">PEP 475 - Retry system calls failing with EINTR</a></p>

  <table>
    <tbody>
      <tr>
        <td><strong>상태:</strong> Final</td>
        <td><strong>유형:</strong> Standards Track</td>
        <td><strong>작성일:</strong> 29-Jul-2014</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<h2 id="pep-475--eintr-오류로-실패하는-시스템-호출-재시도">PEP 475 – <code class="language-plaintext highlighter-rouge">EINTR</code> 오류로 실패하는 시스템 호출 재시도</h2>

<h3 id="초록-abstract">초록 (Abstract)</h3>

<p>표준 라이브러리에서 제공하는 시스템 호출 래퍼(wrapper)는 <code class="language-plaintext highlighter-rouge">EINTR</code> 오류로 실패할 경우 자동으로 재시도해야 합니다. 이는 애플리케이션 코드에서 이러한 재시도 로직을 직접 처리해야 하는 부담을 덜어주기 위함입니다. 여기서 “시스템 호출”이란 I/O 또는 기타 시스템 자원 처리에 관련된 표준 C 라이브러리 함수들을 의미합니다.</p>

<h3 id="배경-rationale">배경 (Rationale)</h3>

<h4 id="중단된-시스템-호출-interrupted-system-calls">중단된 시스템 호출 (Interrupted system calls)</h4>

<p>POSIX 시스템에서 시그널(signal)은 흔하게 발생하며, 시스템 호출을 호출하는 코드는 이러한 시그널을 처리할 준비가 되어 있어야 합니다. 일반적인 시그널의 예시는 다음과 같습니다.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">SIGINT</code>: Ctrl+C를 눌렀을 때 발생하는 가장 흔한 시그널입니다. Python은 기본적으로 이 시그널을 받으면 <code class="language-plaintext highlighter-rouge">KeyboardInterrupt</code> 예외를 발생시킵니다.</li>
  <li><code class="language-plaintext highlighter-rouge">SIGCHLD</code>: 자식 프로세스가 종료될 때 서브프로세스(subprocesses)에서 발생합니다.</li>
  <li><code class="language-plaintext highlighter-rouge">SIGWINCH</code>: 터미널 크기를 조절할 때 터미널에서 실행 중인 애플리케이션에 전송됩니다.</li>
  <li><code class="language-plaintext highlighter-rouge">SIGCONT</code>: 애플리케이션을 백그라운드로 전환할 때(예: Ctrl+Z를 누른 후 <code class="language-plaintext highlighter-rouge">bg</code> 명령어를 입력) 전송됩니다.</li>
</ul>

<p>C 시그널 핸들러를 작성하는 것은 어렵습니다. “비동기-시그널-안전(async-signal-safe)” 함수만 호출할 수 있고(<code class="language-plaintext highlighter-rouge">printf()</code>와 <code class="language-plaintext highlighter-rouge">malloc()</code>은 async-signal-safe가 아님), 재진입(reentrancy) 문제가 있기 때문입니다. 따라서 시스템 호출 실행 중에 프로세스가 시그널을 받으면, 프로그램이 시그널-안전 함수에 대한 제약 없이 시그널을 처리할 기회를 주기 위해 시스템 호출이 <code class="language-plaintext highlighter-rouge">EINTR</code> 오류와 함께 실패할 수 있습니다.</p>

<p>이러한 동작은 시스템에 따라 다릅니다. 특정 시스템에서는 <code class="language-plaintext highlighter-rouge">SA_RESTART</code> 플래그를 사용하여 일부 시스템 호출이 <code class="language-plaintext highlighter-rouge">EINTR</code>로 실패하는 대신 자동으로 재시도됩니다. 그러나 Python의 <code class="language-plaintext highlighter-rouge">signal.signal()</code> 함수는 시그널 핸들러를 설정할 때 <code class="language-plaintext highlighter-rouge">SA_RESTART</code> 플래그를 지웁니다. 이로 인해 Python에서는 모든 시스템 호출이 <code class="language-plaintext highlighter-rouge">EINTR</code>로 실패할 가능성이 높습니다.</p>

<p>시그널 수신은 예외적인 상황이 아니므로, 견고한 POSIX 코드는 <code class="language-plaintext highlighter-rouge">EINTR</code>를 처리할 준비가 되어 있어야 합니다 (대부분의 경우, 이는 호출이 결국 성공하기를 바라면서 루프에서 재시도하는 것을 의미합니다). Python의 특별한 지원 없이는 애플리케이션 코드가 필요 이상으로 장황해질 수 있습니다.</p>

<h4 id="python-34의-현황-status-in-python-34">Python 3.4의 현황 (Status in Python 3.4)</h4>

<p>Python 3.4에서는 <code class="language-plaintext highlighter-rouge">InterruptedError</code> 예외(<code class="language-plaintext highlighter-rouge">EINTR</code> 전용 예외 클래스) 처리가 모든 호출 지점(call site)에서 개별적으로 중복되어 있었습니다. 실제로 이 예외를 처리하는 Python 모듈은 몇 개에 불과했으며, 수정 사항이 전체 모듈에 적용되기까지는 보통 몇 년이 걸렸습니다.</p>

<p><code class="language-plaintext highlighter-rouge">InterruptedError</code> 발생 시 <code class="language-plaintext highlighter-rouge">file.read()</code>를 재시도하는 코드 예시는 다음과 같습니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nb">file</span><span class="p">.</span><span class="nf">read</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
        <span class="k">break</span>
    <span class="k">except</span> <span class="nb">InterruptedError</span><span class="p">:</span>
        <span class="k">continue</span>
</code></pre></div></div>

<p>표준 라이브러리에서 <code class="language-plaintext highlighter-rouge">InterruptedError</code>를 처리하는 Python 모듈 목록은 다음과 같습니다.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">asyncio</code></li>
  <li><code class="language-plaintext highlighter-rouge">asyncore</code></li>
  <li><code class="language-plaintext highlighter-rouge">io</code>, <code class="language-plaintext highlighter-rouge">_pyio</code></li>
  <li><code class="language-plaintext highlighter-rouge">multiprocessing</code></li>
  <li><code class="language-plaintext highlighter-rouge">selectors</code></li>
  <li><code class="language-plaintext highlighter-rouge">socket</code></li>
  <li><code class="language-plaintext highlighter-rouge">socketserver</code></li>
  <li><code class="language-plaintext highlighter-rouge">subprocess</code></li>
</ul>

<p>Perl, Java, Go와 같은 다른 프로그래밍 언어들은 <code class="language-plaintext highlighter-rouge">EINTR</code>로 실패하는 시스템 호출을 더 낮은 수준에서 재시도하므로, 라이브러리와 애플리케이션이 이에 대해 신경 쓸 필요가 없습니다.</p>

<h4 id="사용-사례-1-시그널에-신경-쓰지-않기-use-case-1-dont-bother-with-signals">사용 사례 1: 시그널에 신경 쓰지 않기 (Use Case 1: Don’t Bother With Signals)</h4>

<p>대부분의 경우, 사용자는 시그널에 의해 중단되는 것을 원치 않으며 <code class="language-plaintext highlighter-rouge">InterruptedError</code> 예외를 예상하지 않습니다. 예를 들어, “Hello World” 예제를 위해 다음처럼 복잡한 코드를 작성하고 싶지는 않을 것입니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Hello World</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">break</span>
    <span class="k">except</span> <span class="nb">InterruptedError</span><span class="p">:</span>
        <span class="k">continue</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">InterruptedError</code>는 예상치 못한 곳에서 발생할 수 있습니다. 예를 들어, <code class="language-plaintext highlighter-rouge">os.close()</code> 및 <code class="language-plaintext highlighter-rouge">FileIO.close()</code>도 <code class="language-plaintext highlighter-rouge">InterruptedError</code>를 발생시킬 수 있습니다.</p>

<p>이 사용 사례에서의 기대는 Python이 <code class="language-plaintext highlighter-rouge">InterruptedError</code>를 숨기고 시스템 호출을 자동으로 재시도하는 것입니다.</p>

<h4 id="사용-사례-2-가능한-한-빨리-시그널-알림-받기-use-case-2-be-notified-of-signals-as-soon-as-possible">사용 사례 2: 가능한 한 빨리 시그널 알림 받기 (Use Case 2: Be notified of signals as soon as possible)</h4>

<p>때로는 특정 시그널을 예상하고 가능한 한 빨리 처리하기를 원할 수도 있습니다. 예를 들어, Ctrl+C 단축키를 사용하여 프로그램을 즉시 종료하고 싶을 수 있습니다.</p>

<p>또한, 일부 시그널은 애플리케이션을 방해해서는 안 됩니다. 특정 시그널에만 애플리케이션을 중단시키는 두 가지 옵션이 있습니다.</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">SIGINT</code>에 대해 <code class="language-plaintext highlighter-rouge">KeyboardInterrupt</code>와 같은 예외를 발생시키는 사용자 정의 시그널 핸들러를 설정합니다.</li>
  <li><code class="language-plaintext highlighter-rouge">select()</code>와 같은 I/O 멀티플렉싱 함수를 Python의 시그널 wakeup 파일 디스크립터와 함께 사용합니다 (<code class="language-plaintext highlighter-rouge">signal.set_wakeup_fd()</code> 함수 참고).</li>
</ol>

<p>이 사용 사례에서의 기대는 Python 시그널 핸들러가 제때 실행되고, 핸들러가 예외를 발생시키면 시스템 호출이 실패하고, 그렇지 않으면 재시작하는 것입니다.</p>

<h3 id="제안-proposal">제안 (Proposal)</h3>

<p>이 PEP는 <code class="language-plaintext highlighter-rouge">EINTR</code>를 처리하고 재시도를 가장 낮은 수준, 즉 표준 라이브러리(stdlib)에서 제공하는 래퍼에서 처리할 것을 제안합니다 (상위 수준 라이브러리나 애플리케이션이 아닌).</p>

<p>구체적으로, 시스템 호출이 <code class="language-plaintext highlighter-rouge">EINTR</code>로 실패하면 해당 Python 래퍼는 주어진 시그널 핸들러를 호출해야 합니다 (<code class="language-plaintext highlighter-rouge">PyErr_CheckSignals()</code> 사용). 시그널 핸들러가 예외를 발생시키면 Python 래퍼는 중단되고 해당 예외와 함께 실패합니다.</p>

<p>시그널 핸들러가 성공적으로 반환되면 Python 래퍼는 시스템 호출을 자동으로 재시도합니다. 시스템 호출에 타임아웃(timeout) 매개변수가 포함된 경우, 타임아웃은 다시 계산됩니다.</p>

<h4 id="수정된-함수-modified-functions">수정된 함수 (Modified functions)</h4>

<p>이 PEP를 준수하기 위해 수정되어야 할 표준 라이브러리 함수의 예시는 다음과 같습니다.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">open()</code>, <code class="language-plaintext highlighter-rouge">os.open()</code>, <code class="language-plaintext highlighter-rouge">io.open()</code></li>
  <li><code class="language-plaintext highlighter-rouge">faulthandler</code> 모듈의 함수</li>
  <li><code class="language-plaintext highlighter-rouge">os</code> 함수:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">os.fchdir()</code></li>
      <li><code class="language-plaintext highlighter-rouge">os.fchmod()</code></li>
      <li><code class="language-plaintext highlighter-rouge">os.fchown()</code></li>
      <li><code class="language-plaintext highlighter-rouge">os.fdatasync()</code></li>
      <li><code class="language-plaintext highlighter-rouge">os.fstat()</code></li>
      <li><code class="language-plaintext highlighter-rouge">os.fstatvfs()</code></li>
      <li><code class="language-plaintext highlighter-rouge">os.fsync()</code></li>
      <li><code class="language-plaintext highlighter-rouge">os.ftruncate()</code></li>
      <li><code class="language-plaintext highlighter-rouge">os.mkfifo()</code></li>
      <li><code class="language-plaintext highlighter-rouge">os.mknod()</code></li>
      <li><code class="language-plaintext highlighter-rouge">os.posix_fadvise()</code></li>
      <li><code class="language-plaintext highlighter-rouge">os.posix_fallocate()</code></li>
      <li><code class="language-plaintext highlighter-rouge">os.pread()</code></li>
      <li><code class="language-plaintext highlighter-rouge">os.pwrite()</code></li>
      <li><code class="language-plaintext highlighter-rouge">os.read()</code></li>
      <li><code class="language-plaintext highlighter-rouge">os.readv()</code></li>
      <li><code class="language-plaintext highlighter-rouge">os.sendfile()</code></li>
      <li><code class="language-plaintext highlighter-rouge">os.wait3()</code></li>
      <li><code class="language-plaintext highlighter-rouge">os.wait4()</code></li>
      <li><code class="language-plaintext highlighter-rouge">os.wait()</code></li>
      <li><code class="language-plaintext highlighter-rouge">os.waitid()</code></li>
      <li><code class="language-plaintext highlighter-rouge">os.waitpid()</code></li>
      <li><code class="language-plaintext highlighter-rouge">os.write()</code></li>
      <li><code class="language-plaintext highlighter-rouge">os.writev()</code></li>
      <li>특수 사례: <code class="language-plaintext highlighter-rouge">os.close()</code> 및 <code class="language-plaintext highlighter-rouge">os.dup2()</code>는 이제 <code class="language-plaintext highlighter-rouge">EINTR</code> 오류를 무시하며, 시스템 호출은 재시도되지 않습니다.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">select.select()</code>, <code class="language-plaintext highlighter-rouge">select.poll.poll()</code>, <code class="language-plaintext highlighter-rouge">select.epoll.poll()</code>, <code class="language-plaintext highlighter-rouge">select.kqueue.control()</code>, <code class="language-plaintext highlighter-rouge">select.devpoll.poll()</code></li>
  <li><code class="language-plaintext highlighter-rouge">socket.socket()</code> 메서드:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">accept()</code></li>
      <li><code class="language-plaintext highlighter-rouge">connect()</code> (논블로킹(non-blocking) 소켓 제외)</li>
      <li><code class="language-plaintext highlighter-rouge">recv()</code></li>
      <li><code class="language-plaintext highlighter-rouge">recvfrom()</code></li>
      <li><code class="language-plaintext highlighter-rouge">recvmsg()</code></li>
      <li><code class="language-plaintext highlighter-rouge">send()</code></li>
      <li><code class="language-plaintext highlighter-rouge">sendall()</code></li>
      <li><code class="language-plaintext highlighter-rouge">sendmsg()</code></li>
      <li><code class="language-plaintext highlighter-rouge">sendto()</code></li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">signal.sigtimedwait()</code>, <code class="language-plaintext highlighter-rouge">signal.sigwaitinfo()</code></li>
  <li><code class="language-plaintext highlighter-rouge">time.sleep()</code></li>
</ul>

<p><code class="language-plaintext highlighter-rouge">os.close</code>, <code class="language-plaintext highlighter-rouge">close()</code> 메서드 및 <code class="language-plaintext highlighter-rouge">os.dup2()</code>는 특수 사례로, 재시도하는 대신 <code class="language-plaintext highlighter-rouge">EINTR</code>를 무시합니다. 이는 복잡한 이유 때문이며, Linux에서의 동작과 파일 디스크립터가 <code class="language-plaintext highlighter-rouge">EINTR</code>가 반환되더라도 실제로 닫힐 수 있다는 사실과 관련이 있습니다.</p>

<p><code class="language-plaintext highlighter-rouge">socket.socket.connect()</code> 메서드는 시그널에 의해 중단될 경우(EINTR로 실패할 경우) 논블로킹 소켓에 대해 <code class="language-plaintext highlighter-rouge">connect()</code>를 재시도하지 않습니다. 연결은 백그라운드에서 비동기적으로 실행됩니다. 호출자는 소켓이 쓰기 가능해질 때까지 기다린 다음(<code class="language-plaintext highlighter-rouge">select.select()</code> 사용 등) <code class="language-plaintext highlighter-rouge">socket.socket.getsockopt(socket.SOL_SOCKET, socket.SO_ERROR)</code>를 호출하여 연결 성공 여부를 확인해야 합니다.</p>

<h4 id="interruptederror-처리-interruptederror-handling"><code class="language-plaintext highlighter-rouge">InterruptedError</code> 처리 (InterruptedError handling)</h4>

<p>중단된 시스템 호출이 자동으로 재시도되므로, 해당 시스템 호출을 호출할 때 <code class="language-plaintext highlighter-rouge">InterruptedError</code> 예외가 더 이상 발생하지 않아야 합니다. 따라서 “Python 3.4의 현황”에서 설명된 <code class="language-plaintext highlighter-rouge">InterruptedError</code>의 수동 처리는 제거될 수 있으며, 이는 표준 라이브러리 코드를 단순화할 것입니다.</p>

<h4 id="하위-호환성-backward-compatibility">하위 호환성 (Backward compatibility)</h4>

<p>시스템 호출이 <code class="language-plaintext highlighter-rouge">InterruptedError</code>로 중단된다는 사실에 의존하는 애플리케이션은 중단(hang)될 것입니다. 이 PEP의 저자들은 그러한 애플리케이션이 존재한다고 생각하지 않습니다. 왜냐하면 그런 애플리케이션들은 경쟁 조건(race condition)과 같은 다른 문제에 노출될 것이기 때문입니다 (시스템 호출 전에 시그널이 오면 데드락(deadlock) 가능성이 있습니다). 게다가, 그러한 코드는 이식성이 없습니다.</p>

<p>어떤 경우든, 그러한 애플리케이션은 모든 플랫폼과 모든 Python 버전에서 신뢰할 수 있는 동작을 위해 시그널을 다르게 처리하도록 수정되어야 합니다. 가능한 전략은 잘 정의된 예외를 발생시키는 시그널 핸들러를 설정하거나, wakeup 파일 디스크립터를 사용하는 것입니다.</p>

<p>이벤트 루프(event loop)를 사용하는 애플리케이션의 경우, 시그널 처리를 위해 <code class="language-plaintext highlighter-rouge">signal.set_wakeup_fd()</code>가 권장되는 옵션입니다. Python의 저수준 시그널 핸들러는 시그널 번호를 파일 디스크립터에 기록하고 이벤트 루프는 이를 읽기 위해 깨어날 것입니다. 이벤트 루프는 시그널 핸들러의 제약 없이 이러한 시그널을 처리할 수 있습니다 (예: 루프는 메인 스레드뿐만 아니라 모든 스레드에서 깨어날 수 있습니다).</p>

<h3 id="부록-appendix">부록 (Appendix)</h3>

<h4 id="wakeup-파일-디스크립터-wakeup-file-descriptor">Wakeup 파일 디스크립터 (Wakeup file descriptor)</h4>

<p>Python 3.3부터 <code class="language-plaintext highlighter-rouge">signal.set_wakeup_fd()</code>는 시그널 번호를 파일 디스크립터에 기록하며, 이전에는 널 바이트만 기록했습니다. 이를 통해 wakeup 파일 디스크립터를 사용하여 시그널을 구별할 수 있게 되었습니다.</p>

<p>Linux에는 각 시그널에 대한 더 많은 정보를 제공하는 <code class="language-plaintext highlighter-rouge">signalfd()</code> 시스템 호출이 있습니다. 예를 들어, 시그널을 보낸 프로세스의 PID와 UID를 알 수 있습니다. 이 함수는 아직 Python에 노출되지 않았습니다.</p>

<p>Unix에서 <code class="language-plaintext highlighter-rouge">asyncio</code> 모듈은 wakeup 파일 디스크립터를 사용하여 이벤트 루프를 깨웁니다.</p>

<h4 id="다중-스레딩-multithreading">다중 스레딩 (Multithreading)</h4>

<p>C 시그널 핸들러는 어떤 스레드에서든 호출될 수 있지만, Python 시그널 핸들러는 항상 메인 Python 스레드에서 호출됩니다.</p>

<p>Python의 C API는 메인 Python 스레드를 중단시키기 위해 <code class="language-plaintext highlighter-rouge">SIGINT</code> 시그널 핸들러를 호출하는 <code class="language-plaintext highlighter-rouge">PyErr_SetInterrupt()</code> 함수를 제공합니다.</p>

<h4 id="windows에서의-시그널-signals-on-windows">Windows에서의 시그널 (Signals on Windows)</h4>

<h5 id="제어-이벤트-control-events">제어 이벤트 (Control events)</h5>

<p>Windows는 “제어 이벤트(control events)”를 사용합니다.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">CTRL_BREAK_EVENT</code>: Break (<code class="language-plaintext highlighter-rouge">SIGBREAK</code>)</li>
  <li><code class="language-plaintext highlighter-rouge">CTRL_CLOSE_EVENT</code>: Close event</li>
  <li><code class="language-plaintext highlighter-rouge">CTRL_C_EVENT</code>: CTRL+C (<code class="language-plaintext highlighter-rouge">SIGINT</code>)</li>
  <li><code class="language-plaintext highlighter-rouge">CTRL_LOGOFF_EVENT</code>: Logoff</li>
  <li><code class="language-plaintext highlighter-rouge">CTRL_SHUTDOWN_EVENT</code>: Shutdown</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">SetConsoleCtrlHandler()</code> 함수를 사용하여 제어 핸들러를 설치할 수 있습니다.</p>

<p><code class="language-plaintext highlighter-rouge">CTRL_C_EVENT</code> 및 <code class="language-plaintext highlighter-rouge">CTRL_BREAK_EVENT</code> 이벤트는 <code class="language-plaintext highlighter-rouge">GenerateConsoleCtrlEvent()</code> 함수를 사용하여 프로세스에 전송될 수 있습니다. 이 함수는 Python에서 <code class="language-plaintext highlighter-rouge">os.kill()</code>로 노출됩니다.</p>

<h5 id="시그널-signals">시그널 (Signals)</h5>

<p>Windows에서 지원되는 시그널은 다음과 같습니다.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">SIGABRT</code></li>
  <li><code class="language-plaintext highlighter-rouge">SIGBREAK</code> (<code class="language-plaintext highlighter-rouge">CTRL_BREAK_EVENT</code>): Windows에서만 사용 가능한 시그널</li>
  <li><code class="language-plaintext highlighter-rouge">SIGFPE</code></li>
  <li><code class="language-plaintext highlighter-rouge">SIGILL</code></li>
  <li><code class="language-plaintext highlighter-rouge">SIGINT</code> (<code class="language-plaintext highlighter-rouge">CTRL_C_EVENT</code>)</li>
  <li><code class="language-plaintext highlighter-rouge">SIGSEGV</code></li>
  <li><code class="language-plaintext highlighter-rouge">SIGTERM</code></li>
</ul>

<h5 id="sigint">SIGINT</h5>

<p><code class="language-plaintext highlighter-rouge">SIGINT</code>에 대한 기본 Python 시그널 핸들러는 Windows 이벤트 객체인 <code class="language-plaintext highlighter-rouge">sigint_event</code>를 설정합니다.</p>

<p><code class="language-plaintext highlighter-rouge">time.sleep()</code>은 <code class="language-plaintext highlighter-rouge">WaitForSingleObjectEx()</code>로 구현되며, <code class="language-plaintext highlighter-rouge">time.sleep()</code> 매개변수를 타임아웃으로 사용하여 <code class="language-plaintext highlighter-rouge">sigint_event</code> 객체를 기다립니다. 따라서 sleep은 <code class="language-plaintext highlighter-rouge">SIGINT</code>에 의해 중단될 수 있습니다.</p>

<p><code class="language-plaintext highlighter-rouge">_winapi.WaitForMultipleObjects()</code>는 <code class="language-plaintext highlighter-rouge">sigint_event</code>를 감시하는 핸들 목록에 자동으로 추가하므로, 이 또한 중단될 수 있습니다.</p>

<p><code class="language-plaintext highlighter-rouge">PyOS_StdioReadline()</code>도 <code class="language-plaintext highlighter-rouge">fgets()</code>가 실패했을 때 <code class="language-plaintext highlighter-rouge">Ctrl-C</code> 또는 <code class="language-plaintext highlighter-rouge">Ctrl-Z</code>가 눌렸는지 확인하기 위해 <code class="language-plaintext highlighter-rouge">sigint_event</code>를 사용했습니다.</p>

<h3 id="구현-implementation">구현 (Implementation)</h3>

<p>이 PEP의 구현은 이슈 23285에서 추적되었습니다. 2015년 2월 7일에 커밋되었습니다.</p>

<blockquote>
  <p>⚠️ <strong>알림:</strong> 이 문서는 AI를 활용하여 번역되었으며, 기술적 정확성을 보장하지 않습니다. 정확한 내용은 반드시 원문을 확인하시기 바랍니다.</p>
</blockquote>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#pep" class="page__taxonomy-item" rel="tag">PEP</a><span class="sep">, </span>
    
      <a href="/tags/#python" class="page__taxonomy-item" rel="tag">Python</a><span class="sep">, </span>
    
      <a href="/tags/#translation" class="page__taxonomy-item" rel="tag">Translation</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#pep" class="page__taxonomy-item" rel="tag">PEP</a><span class="sep">, </span>
    
      <a href="/categories/#python" class="page__taxonomy-item" rel="tag">Python</a>
    
    </span>
  </p>


        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2025-09-26">September 26, 2025</time></p>


      </footer>

      

      
  <nav class="pagination">
    
      <a href="/python/pep/474/" class="pagination--pager" title="[Withdrawn] PEP 474 - Creating forge.python.org
">Previous</a>
    
    
      <a href="/python/pep/476/" class="pagination--pager" title="[Final] PEP 476 - Enabling certificate verification by default for stdlib http clients
">Next</a>
    
  </nav>


    </div>

    
  </article>

</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 secrett2633. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    <script>
  'use strict';

  (function() {
    var commentContainer = document.querySelector('#utterances-comments');

    if (!commentContainer) {
      return;
    }

    var script = document.createElement('script');
    script.setAttribute('src', 'https://utteranc.es/client.js');
    script.setAttribute('repo', 'secrett2633/secrett2633.github.io');
    script.setAttribute('issue-term', 'pathname');
    script.setAttribute('theme', 'github-light');
    script.setAttribute('crossorigin', 'anonymous');

    commentContainer.appendChild(script);
  })();
</script>

  





  </body>
</html>
