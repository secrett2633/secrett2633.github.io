<!DOCTYPE html><html lang="ko" class="no-js"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/e975486d410ad4e9.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-15a70ff5b484f3df.js"/><script src="/_next/static/chunks/fd9d1056-4e1a26e2d413ba3c.js" async=""></script><script src="/_next/static/chunks/23-e8ded9e1e67d56dc.js" async=""></script><script src="/_next/static/chunks/main-app-6087bc228fd56b83.js" async=""></script><script src="/_next/static/chunks/231-c27e618569e042bc.js" async=""></script><script src="/_next/static/chunks/157-d79d6340e7770dba.js" async=""></script><script src="/_next/static/chunks/app/layout-b06e577e11976c7d.js" async=""></script><script src="/_next/static/chunks/app/%5B...slug%5D/page-9d772c571b4668c1.js" async=""></script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-NE2W3CFPNY"></script><title>secrett2633&#x27;s blog</title><meta name="description" content="기술 블로그 - Django, Python, DevOps, AI/ML 관련 포스트"/><meta name="author" content="secrett2633"/><meta name="keywords" content="Django, Python, DevOps, AI, ML, 블로그, 기술"/><meta name="creator" content="secrett2633"/><meta name="publisher" content="secrett2633"/><meta name="robots" content="index, follow"/><meta name="googlebot" content="index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"/><link rel="canonical" href="https://secrett2633.github.io/"/><meta name="format-detection" content="telephone=no, address=no, email=no"/><meta property="og:title" content="secrett2633&#x27;s blog"/><meta property="og:description" content="기술 블로그 - Django, Python, DevOps, AI/ML 관련 포스트"/><meta property="og:url" content="https://secrett2633.github.io/"/><meta property="og:site_name" content="secrett2633&#x27;s blog"/><meta property="og:locale" content="ko_KR"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="secrett2633&#x27;s blog"/><meta name="twitter:description" content="기술 블로그 - Django, Python, DevOps, AI/ML 관련 포스트"/><link rel="icon" href="/icon.ico?6d9f34d4948640b8" type="image/x-icon" sizes="16x16"/><meta name="next-size-adjust"/><meta name="msapplication-TileColor" content="#ffc40d"/><meta name="theme-color" content="#ffffff"/><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments);}
              gtag('js', new Date());
              gtag('config', 'G-NE2W3CFPNY');
            </script><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_f367f3 layout--default"><div class="min-h-screen bg-gray-50"><div class="masthead"><div class="masthead__inner-wrap"><div class="masthead__menu"><nav id="site-nav" class="greedy-nav"><a class="site-title" href="/">secrett2633&#x27;s blog</a><div class="flex items-center space-x-4"><ul class="visible-links"><li class="masthead__menu-item"><a href="https://github.com/secrett2633" target="_blank" rel="noopener noreferrer">GitHub</a></li></ul><button class="search__toggle" type="button"><svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16"><path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path></svg></button></div></nav></div></div></div><main class="initial-content"><!--$--><div class="flex flex-col lg:flex-row gap-8"><aside class="lg:w-64 xl:w-72 order-1 lg:order-none"><div class="sidebar sticky"><nav class="space-y-4"><div><h4 class="font-medium text-gray-900 mb-2">Backend</h4><ul class="space-y-1 ml-4"><li><a href="/backend/django/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Django<!-- --> (<!-- -->6<!-- -->)</a></li><li><a href="/backend/logging/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Logging<!-- --> (<!-- -->1<!-- -->)</a></li></ul></div><div><h4 class="font-medium text-gray-900 mb-2">Python</h4><ul class="space-y-1 ml-4"><li><a href="/python/pep/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">PEP<!-- --> (<!-- -->650<!-- -->)</a></li></ul></div><div><h4 class="font-medium text-gray-900 mb-2">AI/ML</h4><ul class="space-y-1 ml-4"><li><a href="/ai/llm/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">LLM<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/ai/review/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Review<!-- --> (<!-- -->1025<!-- -->)</a></li></ul></div><div><h4 class="font-medium text-gray-900 mb-2">DevOps</h4><ul class="space-y-1 ml-4"><li><a href="/devops/nginx/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Nginx<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/devops/docker/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Docker<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/devops/safeline/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">SafeLine<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/devops/jenkins/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Jenkins<!-- --> (<!-- -->3<!-- -->)</a></li><li><a href="/devops/github-actions/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">GitHub Actions<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/devops/aws/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">AWS<!-- --> (<!-- -->1<!-- -->)</a></li></ul></div><div><h4 class="font-medium text-gray-900 mb-2">etc</h4><ul class="space-y-1 ml-4"><li><a href="/etc/me/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Me<!-- --> (<!-- -->3<!-- -->)</a></li><li><a href="/etc/chrome-extension/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Chrome Extension<!-- --> (<!-- -->1<!-- -->)</a></li></ul></div></nav></div></aside><main class="flex-1"><article class="page"><header class="mb-8"><h1 class="page__title">[Draft] PEP 780 - ABI features as environment markers</h1><div class="page__meta"><time dateTime="2025-09-27 13:57:13+0900">2025년 9월 27일</time><span class="ml-4">수정: <!-- -->2025년 9월 27일</span></div></header><div class="page__content"><div><blockquote>
<p><strong>원문 링크:</strong> <a href="https://peps.python.org/pep-0780/">PEP 780 - ABI features as environment markers</a></p>
<p><strong>상태:</strong> Draft | <strong>유형:</strong> Standards Track | <strong>작성일:</strong> 21-Mar-2025</p>
</blockquote>
<p>PEP 780 – 환경 마커로서의 ABI 기능</p>
<h2>개요 (Abstract)</h2>
<p>이 PEP는 새로운 <code>sys_abi_features</code> 환경 마커를 통해 프로젝트 종속성에 ABI(Application Binary Interface) 기능을 환경 마커로 사용하는 방법을 정의합니다. PEP 508(이후 Dependency specifiers로 이동)은 종속성을 사용해야 하는 시기를 설명하는 규칙에 따라 종속성을 지정하기 위해 환경 마커를 도입했습니다. 이 PEP는 Python 인터프리터의 특정 ABI 기능에 따라 종속성을 지정할 수 있도록 환경 마커를 확장합니다. 이를 위해 일련의 ABI 기능을 정의하고, 새로운 마커 변수인 <code>sys_abi_features</code>로서 환경 마커에서 이러한 기능을 사용할 수 있도록 지정합니다.</p>
<h2>동기 (Motivation)</h2>
<p>2015년에 PEP 508은 환경 조건에 따라 종속성을 지정하기 위한 환경 마커를 확립했습니다. CPython의 Free-threaded(자유 스레드) 개발은 인터프리터가 빌드된 다양한 ABI 기능을 구별하기 위한 환경 마커의 필요성을 강조했습니다. 예를 들어, 현재 환경 마커를 사용하여 GIL(Global Interpreter Lock)이 활성화된 CPython 인터프리터와 Free-threaded CPython 인터프리터를 구별할 수 있는 방법이 없습니다. 이는 Free-threading의 채택 및 점진적인 배포에 실제적인 문제를 야기합니다.</p>
<p>Python 패키지가 Free-threaded CPython과 호환되도록 만들 때, 모든 빌드 및 런타임 종속성도 호환되어야 합니다. 현재 메타데이터에 호환되는 종속성의 첫 번째 버전을 정확하게 캡처하는 것은 불가능하며, GIL이 활성화된 빌드의 종속성 최소 버전을 높이는 것은 패키지 간의 불필요한 호환성 제한을 야기하므로 일반적으로 바람직하지 않습니다.</p>
<p>이러한 문제에 대한 몇 가지 구체적인 예시는 "Environment marker for free-threading" Discourse 스레드에서 논의되었습니다.</p>
<ul>
<li><strong>Cython:</strong> Free-threading에 대한 (실험적) 지원은 master 브랜치에만 있으며, 이미 <code>cp313t</code> 휠을 게시하는 많은 프로젝트에서 사용됩니다. 잘못된 Cython 버전을 선택하면 많은 모호한 빌드 실패 및 런타임 충돌이 발생합니다. 메타데이터가 이를 표현할 수 있다면 도움이 될 것입니다 (예: Free-threaded Python을 위한 Cython Pre-release 요구 사항 참조).</li>
<li><strong>CFFI:</strong> 아직 Free-threading을 지원하지 않으며, 유지보수자 중 한 명인 Armin Rigo는 <code>cffi</code>를 포크(fork)하고 Free-threading 지원을 구현한 다음, 기능이 "합리적으로 잘 테스트된 (테스트를 통해 또는, 이 경우 더 나은 방법은 다양한 다른 프로젝트에서 사용됨을 통해)" 후에 단일 대규모 PR로 CFFI 프로젝트로 돌아오는 것이 좋은 아이디어일 수 있다고 언급했습니다. <code>cffi</code>에 의존하는 많은 프로젝트가 있습니다. 이들은 Free-threading에 대해서만 포크에 의존하는 것은 괜찮겠지만, <code>>=3.13</code> 또는 모든 Python 버전에 대해 포크에 의존하는 것은 훨씬 더 큰 요구 사항이며, 배포 패키지 관리자에게 더 큰 혼란을 줄 수 있습니다.</li>
</ul>
<p>이러한 구체적인 예시는 올해 후반에 Cython과 CFFI가 호환 가능한 릴리스를 통해 해결될 수 있지만, 동일한 문제는 스택의 더 높은 곳에서 반복될 것입니다. Free-threading의 배포는 수년이 걸릴 것으로 예상되며, Free-threading을 위한 환경 마커는 이러한 배포를 훨씬 쉽게 만들 것입니다.</p>
<p>환경 마커로 아직 다루지 않는 또 다른 중요한 ABI 기능은 인터프리터의 비트(bitness)입니다. 대부분의 경우 <code>sys_platform</code> 또는 <code>platform_system</code> 마커로 충분합니다. 플랫폼당 단일 비트만 사용되기 때문입니다. 그러나 Windows에서는 그렇지 않습니다. x86-64 Windows에서는 32비트 및 64비트 Python 인터프리터가 모두 널리 사용됩니다. 둘을 구별할 수 없는 것은 컴파일된 확장 기능을 제공하는 패키지와 관련이 있을 수 있습니다. 예를 들어, SciPy는 <code>win32</code> 휠을 제공하지 않습니다 (Fortran 지원이 있는 적합한 32비트 컴파일러 툴체인이 없기 때문에 불가능합니다). 이러한 휠이 없는 것은 특히 SciPy가 선택적 종속성일 뿐인 프로젝트에서 불편할 수 있습니다. 이 경우, SciPy가 Windows의 32비트 인터프리터가 아닌 경우에만 필요하다고 지정할 수 있다면 유용할 것입니다 (예: 32비트 win32가 아닌 경우 SciPy 요구 사항 참조). 이는 휠 누락으로 인한 소스에서 설치 실패를 방지할 수 있습니다.</p>
<h2>근거 (Rationale)</h2>
<p>이 PEP의 목표는 기존 생태계에 최소한의 영향을 미치면서 핵심 기능을 도입하는 것입니다. PEP 508에서 제안된 기존 문법은 새로운 환경 마커를 포함하도록 간단하게 확장될 수 있습니다.</p>
<h3>Free-threaded Python에 대한 미래 지향적 관점 (A Forward Looking View on Free-Threaded Python)</h3>
<p>Free-threading에 대한 수락된 제안인 PEP 703은 Free-threaded Python의 배포가 점진적이어야 한다고 명시하고 있으며, 이는 Python Steering Council에 의해 PEP 703 수락 게시물에서 여러 릴리스에 걸친 3단계 프로세스를 의미한다고 명확히 했습니다. 따라서 이 PEP의 메커니즘이 Free-threading 또는 Non-free-threading이 기본 또는 유일한 옵션일 수 있는 Python 인터프리터에 유용하도록 보장하는 것이 중요합니다.</p>
<p>이 문서를 작성하는 시점에 Free-threaded Python은 Phase I: 실험 단계에 있습니다. 이 단계에서는 패키지 작성자가 점진적으로 지원을 추가함에 따라 Free-threaded Python으로의 전환을 돕기 위해 제안된 환경 마커가 절실히 필요합니다.</p>
<p>지원하는 패키지 수가 증가하고 특히 Phase II: 지원되지만 기본값은 아님 단계에서는 전환을 돕기 위한 환경 마커에 대한 강한 필요성이 여전히 예상됩니다.</p>
<p>Free-threaded Python이 Phase III: 기본 단계에 진입하면 환경 마커의 필요성은 감소할 것이지만, 이 시점에서는 GIL이 활성화된 Python이 완전히 단계적으로 폐지될지는 명확하지 않습니다 (비표준 빌드 옵션으로 계속 사용할 수 있습니다). 만약 계속 유지된다면, ABI 기능 감지에 대한 역방향 필요성이 발생할 수 있습니다.</p>
<p>실제로 세 단계 모두에서 패키지 작성자는 ABI 기능에 따라 종속성의 특정 버전을 선택해야 할 수 있으며, 시간이 지남에 따라 기본값이 GIL 활성화에서 Free-threading으로 변경됩니다.</p>
<p>ABI 기능은 변화하는 Python 생태계에서 예측 가능한 미래에 유용성과 단순성을 보장하기 위해 이를 염두에 두고 설계되었습니다.</p>
<h3>다른 PEP와의 관계 (Relation to Other PEPs)</h3>
<p>이 PEP는 ABI 기능에 대한 집합 의미론(set semantics)으로 환경 마커를 확장합니다. PEP 751은 록 파일(lock file) 특정 환경 마커에 대한 유사한 확장을 포함합니다. 비록 두 PEP가 독립적으로 개발되었지만, 새로운 집합 의미론 측면에서 겹치는 부분에서 호환됩니다.</p>
<h2>사양 (Specification)</h2>
<p>이 문서에서 "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", "OPTIONAL" 키워드는 RFC 2119에 설명된 대로 해석됩니다.</p>
<h3>ABI 기능 (ABI Features)</h3>
<p>ABI 기능은 Python 인터프리터의 본질적인 속성으로, 간단하고 이해하기 쉬운 문자열로 표현됩니다. 그러나 모든 기능이 모든 Python 인터프리터 또는 Python 버전에 동등하게 적용되는 것은 아닙니다. 예를 들어, Free-threaded 인터프리터와 GIL 활성화 인터프리터의 구별은 CPython 3.13부터만 관련이 있지만, 인터프리터의 비트는 모든 인터프리터에 관련이 있습니다.</p>
<p>모든 인터프리터는 명시된 대로 다음 ABI 기능을 처리해야 합니다. 특정 인터프리터로 제한되는 ABI 기능은 다른 인터프리터에서 제공되어서는 안 됩니다. 기능은 그룹으로 세분화되며, 각 그룹에는 정확히 하나의 기능이 있어야 합니다. 단, 그룹이 선택 사항으로 표시된 경우에는 최대 하나의 기능만 있어야 합니다.</p>
<ul>
<li><code>free-threading</code> 또는 <code>gil-enabled</code> (CPython만 해당)
<ul>
<li>Python 인터프리터가 Free-threaded이면 <code>free-threading</code> 기능이 있어야 하고 <code>gil-enabled</code> 기능은 없어야 합니다.</li>
<li>그렇지 않으면 <code>gil-enabled</code> 기능이 있어야 하고 <code>free-threading</code> 기능은 없어야 합니다.</li>
</ul>
</li>
<li><code>debug</code> (CPython만 해당, 선택 사항)
<ul>
<li>이 ABI 기능은 <code>--with-pydebug</code> CPython 빌드를 위해 예약되어 있습니다.</li>
<li>인터프리터가 <code>Py_DEBUG</code> 기능을 가진 CPython 인터프리터인 경우 <code>debug</code> 기능이 있어야 합니다. POSIX 시스템에서는 이는 <code>sys.abiflags</code>의 Python 표현 "d"에 해당합니다.</li>
</ul>
</li>
<li><code>32-bit</code> 또는 <code>64-bit</code> (선택 사항)
<ul>
<li>인터프리터의 비트, 즉 32비트 또는 64비트 빌드인지 여부입니다.</li>
<li>비트를 알 수 없거나 32비트도 64비트도 아닌 경우 이 기능은 없어야 합니다.</li>
</ul>
</li>
</ul>
<h3><code>sys_abi_features</code> 환경 마커 (The sys_abi_features Environment Marker)</h3>
<p>종속성 사양에서 ABI 기능을 사용할 수 있도록 하기 위해 새로운 환경 마커 변수 <code>sys_abi_features</code>가 종속성 지정자 형식에 추가됩니다.</p>
<p>이를 위해 PEP 508에 명시되고 Dependency specifiers에서 유지되는 문법을 확장하고 가능한 값을 문서화해야 합니다.</p>
<p>문법은 <code>env_var</code>의 정의를 다음과 같이 보강하여 <code>sys_abi_features</code> 마커 변수를 포함하도록 확장됩니다.</p>
<pre><code>env_var = ('python_version' | 'python_full_version' | 'os_name' | 'sys_platform' | 'platform_release' | 'platform_system' | 'platform_version' | 'platform_machine' | 'platform_python_implementation' | 'implementation_name' | 'implementation_version' | 'sys_abi_features' | 'extra' # ONLY when defined by a containing layer )
</code></pre>
<p>문법과 마찬가지로 Dependency specifiers의 환경 마커 개요 테이블도 다음 행을 추가하여 보강됩니다.</p>
<p>| Marker             | Python equivalent            | Sample values                 |
| :----------------- | :--------------------------- | :---------------------------- |
| <code>sys_abi_features</code> | no direct equivalent available | <code>{'free-threading', '64-bit'}</code> , <code>{'gil-enabled', 'debug', '32-bit'}</code> |</p>
<p>이러한 추가 사항을 통해 ABI 기능은 <code>in</code> 연산자를 사용하여 기능의 존재를 테스트하거나 <code>not in</code> 연산자를 사용하여 기능의 부재를 테스트하여 종속성 사양에서 사용할 수 있습니다.</p>
<h2>예시 (Examples)</h2>
<h3>Free-threaded Python을 위한 Cython Pre-release 요구 (Require Cython Pre-release for Free-Threaded Python)</h3>
<p>Free-threaded Python 인터프리터에 대해서만 Cython의 pre-release 버전을 요구하려면 다음 종속성 사양을 사용할 수 있습니다.</p>
<pre><code>cython >3.1.0a1; "free-threading" in sys_abi_features
cython ==3.0.*; "free-threading" not in sys_abi_features
</code></pre>
<h3>32비트 Windows가 아닌 경우 SciPy 요구 (Require SciPy Unless on 32-bit win32)</h3>
<p>Windows의 32비트 인터프리터가 아닌 경우 SciPy를 요구하려면 다음 종속성 사양을 사용할 수 있습니다.</p>
<pre><code>scipy; platform_system != "Windows" or "32-bit" not in sys_abi_features
</code></pre>
<h3>디버깅 기능이 있는 Free-threaded 인터프리터를 위한 NumPy 요구 (Require NumPy for a Free-Threaded Interpreter With Debugging Capabilities)</h3>
<p>디버깅 기능이 있는 Free-threaded 인터프리터에 대해서만 NumPy를 요구하려면 다음 종속성을 사용할 수 있습니다.</p>
<pre><code>numpy; "free-threading" in sys_abi_features and "debug" in sys_abi_features
</code></pre>
<h2>하위 호환성 (Backwards Compatibility)</h2>
<p>이것은 기존 환경 마커에 대한 순수한 확장이며 기존 환경 마커 또는 종속성 사양에 영향을 미치지 않으므로 직접적인 하위 호환성 문제는 없습니다.</p>
<p>그러나 이 기능의 도입은 특히 <code>pyproject.toml</code> 및 <code>requirements.txt</code>의 데이터를 검사하려는 많은 생태계 도구에 영향을 미칩니다.</p>
<h3>감사 및 업데이트 도구 (Audit and Update Tools)</h3>
<p><code>requirements.txt</code> 파일에 표현된 Python 종속성 데이터를 이해하는 광범위한 도구(예: Dependabot, Tidelift 등)가 있습니다.</p>
<p>이러한 도구는 종속성 데이터를 검사하고, 경우에 따라 도구 지원 또는 완전 자동 업데이트를 제공합니다. 처음에 이러한 도구가 새로운 환경 마커를 지원하지 않을 것이며, 광범위한 생태계 지원이 제공되기까지 수개월 또는 심지어 수년이 걸릴 수 있다고 예상됩니다.</p>
<p>결과적으로 새로운 환경 마커를 사용하는 사용자는 사용을 시작하는 시점에 워크플로우 및 도구 지원의 저하를 경험할 수 있습니다. 이는 종속성 데이터가 인코딩되는 위치 및 방법에 대한 모든 새로운 표준에 해당합니다.</p>
<h2>보안 영향 (Security Implications)</h2>
<p>이 PEP는 프로젝트에서 종속성 정보를 지정하기 위한 새로운 구문을 도입합니다. 그러나 종속성을 처리하거나 해결하기 위한 새로 지정된 메커니즘을 도입하지는 않습니다.</p>
<p>따라서 종속성을 설치하는 데 이미 사용될 수 있는 모든 도구에 내재된 것 외에는 보안 문제가 없습니다. 즉, 악성 종속성이 <code>requirements.txt</code> 파일에 지정될 수 있는 것과 마찬가지로 여기에 지정될 수 있습니다.</p>
<h2>교육 방법 (How to Teach This)</h2>
<p>환경 마커의 사용은 Dependency specifiers에서 잘 확립되고 주로 전달됩니다. 새로운 환경 마커는 동일한 문서에 소개될 수 있습니다. 또한 패키지 작성자와 사용자 모두를 위해 Python free-threading 가이드에서 Free-threading 관련 지침을 제공할 수 있습니다.</p>
<h2>참조 구현 (Reference Implementation)</h2>
<p>환경 마커에 대한 참조 구현은 <code>packaging</code> 라이브러리의 포크인 Environment markers for ABI features에서 사용할 수 있습니다.</p>
<p>데모 패키지도 사용할 수 있습니다.</p>
<p><code>pip</code>은 내부적으로 <code>packaging</code>의 벤더링된 복사본을 사용하므로, 위에서 링크된 참조 구현으로 벤더링된 <code>packaging</code>을 대체하는 패치된 <code>pip</code> 버전도 제공됩니다.</p>
<h2>거부된 아이디어 (Rejected Ideas)</h2>
<h3>확장 메커니즘 (Extension Mechanism)</h3>
<p>주제에 대한 초기 논의(<code>Environment marker for free-threading</code>)에서 환경 마커에 대한 일반적인 확장 메커니즘 아이디어가 제기되었습니다. 미래에 새로운 환경 마커가 필요할 경우 전체 PEP 프로세스를 생략하는 것이 매력적이지만, 두 가지 주요 과제가 있습니다.</p>
<p>첫째, 완전히 동적인 메커니즘은 종속성 사양의 정적 분석에 의존하는 도구에 어려움을 줄 것입니다. 이는 동적인 메커니즘이 채택되더라도 새로운 환경 마커는 여전히 PEP에서 명시되어야 할 가능성이 높다는 것을 의미합니다.</p>
<p>둘째, 동적인 메커니즘의 도입은 <code>packaging</code> 라이브러리에서 더 복잡한 구현을 요구할 것이며, 이는 현재 접근 방식에서 크게 벗어나는 것입니다.</p>
<h2>미해결 문제 (Open Issues)</h2>
<h3>기타 환경 마커 (Other Environment Markers)</h3>
<p>지금 당장 다른 환경 마커가 필요한 경우 이 PEP를 확장하여 포함할 수 있습니다.</p>
<h3>기타 도구 (Other Tooling)</h3>
<p>참조 구현은 <code>packaging</code> 라이브러리 및 <code>pip</code>을 기반으로 합니다. 이를 통해 여러 빌드 백엔드로 패키지를 빌드하고 설치할 수 있음을 확인했습니다. 참조 구현에 다른 도구를 추가해야 할 수도 있습니다.</p>
<blockquote>
<p>⚠️ <strong>알림:</strong> 이 문서는 AI를 활용하여 번역되었으며, 기술적 정확성을 보장하지 않습니다. 정확한 내용은 반드시 원문을 확인하시기 바랍니다.</p>
</blockquote>
</div></div><footer class="page__meta mt-8"><div class="page__taxonomy"><h4 class="text-sm font-medium text-gray-900 mb-2">태그</h4><span class="page__taxonomy-item">#<!-- -->Python</span><span class="page__taxonomy-item">#<!-- -->PEP</span><span class="page__taxonomy-item">#<!-- -->Translation</span></div></footer></article></main></div><!--/$--></main><div id="footer" class="page__footer"><footer class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><div class="text-center text-gray-500 text-sm"><p>© 2025 secrett2633. All rights reserved.</p></div></footer></div></div><script src="/_next/static/chunks/webpack-15a70ff5b484f3df.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/e975486d410ad4e9.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"3:I[5751,[],\"\"]\n6:I[9275,[],\"\"]\n8:I[1343,[],\"\"]\n9:I[9157,[\"231\",\"static/chunks/231-c27e618569e042bc.js\",\"157\",\"static/chunks/157-d79d6340e7770dba.js\",\"185\",\"static/chunks/app/layout-b06e577e11976c7d.js\"],\"default\"]\na:I[231,[\"231\",\"static/chunks/231-c27e618569e042bc.js\",\"877\",\"static/chunks/app/%5B...slug%5D/page-9d772c571b4668c1.js\"],\"\"]\nc:I[6130,[],\"\"]\n7:[\"slug\",\"python/pep/780\",\"c\"]\nd:[]\n"])</script><script>self.__next_f.push([1,"0:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/e975486d410ad4e9.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$L3\",null,{\"buildId\":\"qNOrJYeuqip9qCFPpDVpu\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/python/pep/780/\",\"initialTree\":[\"\",{\"children\":[[\"slug\",\"python/pep/780\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"python\\\",\\\"pep\\\",\\\"780\\\"]}\",{}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[[\"slug\",\"python/pep/780\",\"c\"],{\"children\":[\"__PAGE__\",{},[[\"$L4\",\"$L5\"],null],null]},[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$7\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[[\"$\",\"html\",null,{\"lang\":\"ko\",\"className\":\"no-js\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"meta\",null,{\"name\":\"msapplication-TileColor\",\"content\":\"#ffc40d\"}],[\"$\",\"meta\",null,{\"name\":\"theme-color\",\"content\":\"#ffffff\"}],[\"$\",\"script\",null,{\"async\":true,\"src\":\"https://www.googletagmanager.com/gtag/js?id=G-NE2W3CFPNY\"}],[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\\n              window.dataLayer = window.dataLayer || [];\\n              function gtag(){dataLayer.push(arguments);}\\n              gtag('js', new Date());\\n              gtag('config', 'G-NE2W3CFPNY');\\n            \"}}]]}],[\"$\",\"body\",null,{\"className\":\"__className_f367f3 layout--default\",\"children\":[\"$\",\"div\",null,{\"className\":\"min-h-screen bg-gray-50\",\"children\":[[\"$\",\"$L9\",null,{}],[\"$\",\"main\",null,{\"className\":\"initial-content\",\"children\":[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"div\",null,{\"className\":\"min-h-screen flex items-center justify-center bg-gray-50\",\"children\":[\"$\",\"div\",null,{\"className\":\"max-w-md w-full bg-white rounded-lg shadow-md p-8 text-center\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-6xl font-bold text-primary-600 mb-4\",\"children\":\"404\"}],[\"$\",\"h2\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-4\",\"children\":\"페이지를 찾을 수 없습니다\"}],[\"$\",\"p\",null,{\"className\":\"text-gray-600 mb-8\",\"children\":\"요청하신 페이지가 존재하지 않거나 이동되었을 수 있습니다.\"}],[\"$\",\"$La\",null,{\"href\":\"/\",\"className\":\"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors\",\"children\":\"홈으로 돌아가기\"}]]}]}],\"notFoundStyles\":[],\"styles\":null}]}],[\"$\",\"div\",null,{\"id\":\"footer\",\"className\":\"page__footer\",\"children\":[\"$\",\"footer\",null,{\"className\":\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"text-center text-gray-500 text-sm\",\"children\":[\"$\",\"p\",null,{\"children\":\"© 2025 secrett2633. All rights reserved.\"}]}]}]}]]}]}]]}],null],[[\"$\",\"div\",null,{\"className\":\"flex items-center justify-center min-h-screen\",\"children\":[\"$\",\"div\",null,{\"className\":\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"}]}],[],[]]],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$Lb\"],\"globalErrorComponent\":\"$c\",\"missingSlots\":\"$Wd\"}]]\n"])</script><script>self.__next_f.push([1,"e:T4538,"])</script><script>self.__next_f.push([1,"\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003e원문 링크:\u003c/strong\u003e \u003ca href=\"https://peps.python.org/pep-0780/\"\u003ePEP 780 - ABI features as environment markers\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e상태:\u003c/strong\u003e Draft | \u003cstrong\u003e유형:\u003c/strong\u003e Standards Track | \u003cstrong\u003e작성일:\u003c/strong\u003e 21-Mar-2025\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003ePEP 780 – 환경 마커로서의 ABI 기능\u003c/p\u003e\n\u003ch2\u003e개요 (Abstract)\u003c/h2\u003e\n\u003cp\u003e이 PEP는 새로운 \u003ccode\u003esys_abi_features\u003c/code\u003e 환경 마커를 통해 프로젝트 종속성에 ABI(Application Binary Interface) 기능을 환경 마커로 사용하는 방법을 정의합니다. PEP 508(이후 Dependency specifiers로 이동)은 종속성을 사용해야 하는 시기를 설명하는 규칙에 따라 종속성을 지정하기 위해 환경 마커를 도입했습니다. 이 PEP는 Python 인터프리터의 특정 ABI 기능에 따라 종속성을 지정할 수 있도록 환경 마커를 확장합니다. 이를 위해 일련의 ABI 기능을 정의하고, 새로운 마커 변수인 \u003ccode\u003esys_abi_features\u003c/code\u003e로서 환경 마커에서 이러한 기능을 사용할 수 있도록 지정합니다.\u003c/p\u003e\n\u003ch2\u003e동기 (Motivation)\u003c/h2\u003e\n\u003cp\u003e2015년에 PEP 508은 환경 조건에 따라 종속성을 지정하기 위한 환경 마커를 확립했습니다. CPython의 Free-threaded(자유 스레드) 개발은 인터프리터가 빌드된 다양한 ABI 기능을 구별하기 위한 환경 마커의 필요성을 강조했습니다. 예를 들어, 현재 환경 마커를 사용하여 GIL(Global Interpreter Lock)이 활성화된 CPython 인터프리터와 Free-threaded CPython 인터프리터를 구별할 수 있는 방법이 없습니다. 이는 Free-threading의 채택 및 점진적인 배포에 실제적인 문제를 야기합니다.\u003c/p\u003e\n\u003cp\u003ePython 패키지가 Free-threaded CPython과 호환되도록 만들 때, 모든 빌드 및 런타임 종속성도 호환되어야 합니다. 현재 메타데이터에 호환되는 종속성의 첫 번째 버전을 정확하게 캡처하는 것은 불가능하며, GIL이 활성화된 빌드의 종속성 최소 버전을 높이는 것은 패키지 간의 불필요한 호환성 제한을 야기하므로 일반적으로 바람직하지 않습니다.\u003c/p\u003e\n\u003cp\u003e이러한 문제에 대한 몇 가지 구체적인 예시는 \"Environment marker for free-threading\" Discourse 스레드에서 논의되었습니다.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eCython:\u003c/strong\u003e Free-threading에 대한 (실험적) 지원은 master 브랜치에만 있으며, 이미 \u003ccode\u003ecp313t\u003c/code\u003e 휠을 게시하는 많은 프로젝트에서 사용됩니다. 잘못된 Cython 버전을 선택하면 많은 모호한 빌드 실패 및 런타임 충돌이 발생합니다. 메타데이터가 이를 표현할 수 있다면 도움이 될 것입니다 (예: Free-threaded Python을 위한 Cython Pre-release 요구 사항 참조).\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eCFFI:\u003c/strong\u003e 아직 Free-threading을 지원하지 않으며, 유지보수자 중 한 명인 Armin Rigo는 \u003ccode\u003ecffi\u003c/code\u003e를 포크(fork)하고 Free-threading 지원을 구현한 다음, 기능이 \"합리적으로 잘 테스트된 (테스트를 통해 또는, 이 경우 더 나은 방법은 다양한 다른 프로젝트에서 사용됨을 통해)\" 후에 단일 대규모 PR로 CFFI 프로젝트로 돌아오는 것이 좋은 아이디어일 수 있다고 언급했습니다. \u003ccode\u003ecffi\u003c/code\u003e에 의존하는 많은 프로젝트가 있습니다. 이들은 Free-threading에 대해서만 포크에 의존하는 것은 괜찮겠지만, \u003ccode\u003e\u003e=3.13\u003c/code\u003e 또는 모든 Python 버전에 대해 포크에 의존하는 것은 훨씬 더 큰 요구 사항이며, 배포 패키지 관리자에게 더 큰 혼란을 줄 수 있습니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e이러한 구체적인 예시는 올해 후반에 Cython과 CFFI가 호환 가능한 릴리스를 통해 해결될 수 있지만, 동일한 문제는 스택의 더 높은 곳에서 반복될 것입니다. Free-threading의 배포는 수년이 걸릴 것으로 예상되며, Free-threading을 위한 환경 마커는 이러한 배포를 훨씬 쉽게 만들 것입니다.\u003c/p\u003e\n\u003cp\u003e환경 마커로 아직 다루지 않는 또 다른 중요한 ABI 기능은 인터프리터의 비트(bitness)입니다. 대부분의 경우 \u003ccode\u003esys_platform\u003c/code\u003e 또는 \u003ccode\u003eplatform_system\u003c/code\u003e 마커로 충분합니다. 플랫폼당 단일 비트만 사용되기 때문입니다. 그러나 Windows에서는 그렇지 않습니다. x86-64 Windows에서는 32비트 및 64비트 Python 인터프리터가 모두 널리 사용됩니다. 둘을 구별할 수 없는 것은 컴파일된 확장 기능을 제공하는 패키지와 관련이 있을 수 있습니다. 예를 들어, SciPy는 \u003ccode\u003ewin32\u003c/code\u003e 휠을 제공하지 않습니다 (Fortran 지원이 있는 적합한 32비트 컴파일러 툴체인이 없기 때문에 불가능합니다). 이러한 휠이 없는 것은 특히 SciPy가 선택적 종속성일 뿐인 프로젝트에서 불편할 수 있습니다. 이 경우, SciPy가 Windows의 32비트 인터프리터가 아닌 경우에만 필요하다고 지정할 수 있다면 유용할 것입니다 (예: 32비트 win32가 아닌 경우 SciPy 요구 사항 참조). 이는 휠 누락으로 인한 소스에서 설치 실패를 방지할 수 있습니다.\u003c/p\u003e\n\u003ch2\u003e근거 (Rationale)\u003c/h2\u003e\n\u003cp\u003e이 PEP의 목표는 기존 생태계에 최소한의 영향을 미치면서 핵심 기능을 도입하는 것입니다. PEP 508에서 제안된 기존 문법은 새로운 환경 마커를 포함하도록 간단하게 확장될 수 있습니다.\u003c/p\u003e\n\u003ch3\u003eFree-threaded Python에 대한 미래 지향적 관점 (A Forward Looking View on Free-Threaded Python)\u003c/h3\u003e\n\u003cp\u003eFree-threading에 대한 수락된 제안인 PEP 703은 Free-threaded Python의 배포가 점진적이어야 한다고 명시하고 있으며, 이는 Python Steering Council에 의해 PEP 703 수락 게시물에서 여러 릴리스에 걸친 3단계 프로세스를 의미한다고 명확히 했습니다. 따라서 이 PEP의 메커니즘이 Free-threading 또는 Non-free-threading이 기본 또는 유일한 옵션일 수 있는 Python 인터프리터에 유용하도록 보장하는 것이 중요합니다.\u003c/p\u003e\n\u003cp\u003e이 문서를 작성하는 시점에 Free-threaded Python은 Phase I: 실험 단계에 있습니다. 이 단계에서는 패키지 작성자가 점진적으로 지원을 추가함에 따라 Free-threaded Python으로의 전환을 돕기 위해 제안된 환경 마커가 절실히 필요합니다.\u003c/p\u003e\n\u003cp\u003e지원하는 패키지 수가 증가하고 특히 Phase II: 지원되지만 기본값은 아님 단계에서는 전환을 돕기 위한 환경 마커에 대한 강한 필요성이 여전히 예상됩니다.\u003c/p\u003e\n\u003cp\u003eFree-threaded Python이 Phase III: 기본 단계에 진입하면 환경 마커의 필요성은 감소할 것이지만, 이 시점에서는 GIL이 활성화된 Python이 완전히 단계적으로 폐지될지는 명확하지 않습니다 (비표준 빌드 옵션으로 계속 사용할 수 있습니다). 만약 계속 유지된다면, ABI 기능 감지에 대한 역방향 필요성이 발생할 수 있습니다.\u003c/p\u003e\n\u003cp\u003e실제로 세 단계 모두에서 패키지 작성자는 ABI 기능에 따라 종속성의 특정 버전을 선택해야 할 수 있으며, 시간이 지남에 따라 기본값이 GIL 활성화에서 Free-threading으로 변경됩니다.\u003c/p\u003e\n\u003cp\u003eABI 기능은 변화하는 Python 생태계에서 예측 가능한 미래에 유용성과 단순성을 보장하기 위해 이를 염두에 두고 설계되었습니다.\u003c/p\u003e\n\u003ch3\u003e다른 PEP와의 관계 (Relation to Other PEPs)\u003c/h3\u003e\n\u003cp\u003e이 PEP는 ABI 기능에 대한 집합 의미론(set semantics)으로 환경 마커를 확장합니다. PEP 751은 록 파일(lock file) 특정 환경 마커에 대한 유사한 확장을 포함합니다. 비록 두 PEP가 독립적으로 개발되었지만, 새로운 집합 의미론 측면에서 겹치는 부분에서 호환됩니다.\u003c/p\u003e\n\u003ch2\u003e사양 (Specification)\u003c/h2\u003e\n\u003cp\u003e이 문서에서 \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", \"OPTIONAL\" 키워드는 RFC 2119에 설명된 대로 해석됩니다.\u003c/p\u003e\n\u003ch3\u003eABI 기능 (ABI Features)\u003c/h3\u003e\n\u003cp\u003eABI 기능은 Python 인터프리터의 본질적인 속성으로, 간단하고 이해하기 쉬운 문자열로 표현됩니다. 그러나 모든 기능이 모든 Python 인터프리터 또는 Python 버전에 동등하게 적용되는 것은 아닙니다. 예를 들어, Free-threaded 인터프리터와 GIL 활성화 인터프리터의 구별은 CPython 3.13부터만 관련이 있지만, 인터프리터의 비트는 모든 인터프리터에 관련이 있습니다.\u003c/p\u003e\n\u003cp\u003e모든 인터프리터는 명시된 대로 다음 ABI 기능을 처리해야 합니다. 특정 인터프리터로 제한되는 ABI 기능은 다른 인터프리터에서 제공되어서는 안 됩니다. 기능은 그룹으로 세분화되며, 각 그룹에는 정확히 하나의 기능이 있어야 합니다. 단, 그룹이 선택 사항으로 표시된 경우에는 최대 하나의 기능만 있어야 합니다.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003efree-threading\u003c/code\u003e 또는 \u003ccode\u003egil-enabled\u003c/code\u003e (CPython만 해당)\n\u003cul\u003e\n\u003cli\u003ePython 인터프리터가 Free-threaded이면 \u003ccode\u003efree-threading\u003c/code\u003e 기능이 있어야 하고 \u003ccode\u003egil-enabled\u003c/code\u003e 기능은 없어야 합니다.\u003c/li\u003e\n\u003cli\u003e그렇지 않으면 \u003ccode\u003egil-enabled\u003c/code\u003e 기능이 있어야 하고 \u003ccode\u003efree-threading\u003c/code\u003e 기능은 없어야 합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edebug\u003c/code\u003e (CPython만 해당, 선택 사항)\n\u003cul\u003e\n\u003cli\u003e이 ABI 기능은 \u003ccode\u003e--with-pydebug\u003c/code\u003e CPython 빌드를 위해 예약되어 있습니다.\u003c/li\u003e\n\u003cli\u003e인터프리터가 \u003ccode\u003ePy_DEBUG\u003c/code\u003e 기능을 가진 CPython 인터프리터인 경우 \u003ccode\u003edebug\u003c/code\u003e 기능이 있어야 합니다. POSIX 시스템에서는 이는 \u003ccode\u003esys.abiflags\u003c/code\u003e의 Python 표현 \"d\"에 해당합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e32-bit\u003c/code\u003e 또는 \u003ccode\u003e64-bit\u003c/code\u003e (선택 사항)\n\u003cul\u003e\n\u003cli\u003e인터프리터의 비트, 즉 32비트 또는 64비트 빌드인지 여부입니다.\u003c/li\u003e\n\u003cli\u003e비트를 알 수 없거나 32비트도 64비트도 아닌 경우 이 기능은 없어야 합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e\u003ccode\u003esys_abi_features\u003c/code\u003e 환경 마커 (The sys_abi_features Environment Marker)\u003c/h3\u003e\n\u003cp\u003e종속성 사양에서 ABI 기능을 사용할 수 있도록 하기 위해 새로운 환경 마커 변수 \u003ccode\u003esys_abi_features\u003c/code\u003e가 종속성 지정자 형식에 추가됩니다.\u003c/p\u003e\n\u003cp\u003e이를 위해 PEP 508에 명시되고 Dependency specifiers에서 유지되는 문법을 확장하고 가능한 값을 문서화해야 합니다.\u003c/p\u003e\n\u003cp\u003e문법은 \u003ccode\u003eenv_var\u003c/code\u003e의 정의를 다음과 같이 보강하여 \u003ccode\u003esys_abi_features\u003c/code\u003e 마커 변수를 포함하도록 확장됩니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eenv_var = ('python_version' | 'python_full_version' | 'os_name' | 'sys_platform' | 'platform_release' | 'platform_system' | 'platform_version' | 'platform_machine' | 'platform_python_implementation' | 'implementation_name' | 'implementation_version' | 'sys_abi_features' | 'extra' # ONLY when defined by a containing layer )\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e문법과 마찬가지로 Dependency specifiers의 환경 마커 개요 테이블도 다음 행을 추가하여 보강됩니다.\u003c/p\u003e\n\u003cp\u003e| Marker             | Python equivalent            | Sample values                 |\n| :----------------- | :--------------------------- | :---------------------------- |\n| \u003ccode\u003esys_abi_features\u003c/code\u003e | no direct equivalent available | \u003ccode\u003e{'free-threading', '64-bit'}\u003c/code\u003e , \u003ccode\u003e{'gil-enabled', 'debug', '32-bit'}\u003c/code\u003e |\u003c/p\u003e\n\u003cp\u003e이러한 추가 사항을 통해 ABI 기능은 \u003ccode\u003ein\u003c/code\u003e 연산자를 사용하여 기능의 존재를 테스트하거나 \u003ccode\u003enot in\u003c/code\u003e 연산자를 사용하여 기능의 부재를 테스트하여 종속성 사양에서 사용할 수 있습니다.\u003c/p\u003e\n\u003ch2\u003e예시 (Examples)\u003c/h2\u003e\n\u003ch3\u003eFree-threaded Python을 위한 Cython Pre-release 요구 (Require Cython Pre-release for Free-Threaded Python)\u003c/h3\u003e\n\u003cp\u003eFree-threaded Python 인터프리터에 대해서만 Cython의 pre-release 버전을 요구하려면 다음 종속성 사양을 사용할 수 있습니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ecython \u003e3.1.0a1; \"free-threading\" in sys_abi_features\ncython ==3.0.*; \"free-threading\" not in sys_abi_features\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003e32비트 Windows가 아닌 경우 SciPy 요구 (Require SciPy Unless on 32-bit win32)\u003c/h3\u003e\n\u003cp\u003eWindows의 32비트 인터프리터가 아닌 경우 SciPy를 요구하려면 다음 종속성 사양을 사용할 수 있습니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003escipy; platform_system != \"Windows\" or \"32-bit\" not in sys_abi_features\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003e디버깅 기능이 있는 Free-threaded 인터프리터를 위한 NumPy 요구 (Require NumPy for a Free-Threaded Interpreter With Debugging Capabilities)\u003c/h3\u003e\n\u003cp\u003e디버깅 기능이 있는 Free-threaded 인터프리터에 대해서만 NumPy를 요구하려면 다음 종속성을 사용할 수 있습니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003enumpy; \"free-threading\" in sys_abi_features and \"debug\" in sys_abi_features\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003e하위 호환성 (Backwards Compatibility)\u003c/h2\u003e\n\u003cp\u003e이것은 기존 환경 마커에 대한 순수한 확장이며 기존 환경 마커 또는 종속성 사양에 영향을 미치지 않으므로 직접적인 하위 호환성 문제는 없습니다.\u003c/p\u003e\n\u003cp\u003e그러나 이 기능의 도입은 특히 \u003ccode\u003epyproject.toml\u003c/code\u003e 및 \u003ccode\u003erequirements.txt\u003c/code\u003e의 데이터를 검사하려는 많은 생태계 도구에 영향을 미칩니다.\u003c/p\u003e\n\u003ch3\u003e감사 및 업데이트 도구 (Audit and Update Tools)\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003erequirements.txt\u003c/code\u003e 파일에 표현된 Python 종속성 데이터를 이해하는 광범위한 도구(예: Dependabot, Tidelift 등)가 있습니다.\u003c/p\u003e\n\u003cp\u003e이러한 도구는 종속성 데이터를 검사하고, 경우에 따라 도구 지원 또는 완전 자동 업데이트를 제공합니다. 처음에 이러한 도구가 새로운 환경 마커를 지원하지 않을 것이며, 광범위한 생태계 지원이 제공되기까지 수개월 또는 심지어 수년이 걸릴 수 있다고 예상됩니다.\u003c/p\u003e\n\u003cp\u003e결과적으로 새로운 환경 마커를 사용하는 사용자는 사용을 시작하는 시점에 워크플로우 및 도구 지원의 저하를 경험할 수 있습니다. 이는 종속성 데이터가 인코딩되는 위치 및 방법에 대한 모든 새로운 표준에 해당합니다.\u003c/p\u003e\n\u003ch2\u003e보안 영향 (Security Implications)\u003c/h2\u003e\n\u003cp\u003e이 PEP는 프로젝트에서 종속성 정보를 지정하기 위한 새로운 구문을 도입합니다. 그러나 종속성을 처리하거나 해결하기 위한 새로 지정된 메커니즘을 도입하지는 않습니다.\u003c/p\u003e\n\u003cp\u003e따라서 종속성을 설치하는 데 이미 사용될 수 있는 모든 도구에 내재된 것 외에는 보안 문제가 없습니다. 즉, 악성 종속성이 \u003ccode\u003erequirements.txt\u003c/code\u003e 파일에 지정될 수 있는 것과 마찬가지로 여기에 지정될 수 있습니다.\u003c/p\u003e\n\u003ch2\u003e교육 방법 (How to Teach This)\u003c/h2\u003e\n\u003cp\u003e환경 마커의 사용은 Dependency specifiers에서 잘 확립되고 주로 전달됩니다. 새로운 환경 마커는 동일한 문서에 소개될 수 있습니다. 또한 패키지 작성자와 사용자 모두를 위해 Python free-threading 가이드에서 Free-threading 관련 지침을 제공할 수 있습니다.\u003c/p\u003e\n\u003ch2\u003e참조 구현 (Reference Implementation)\u003c/h2\u003e\n\u003cp\u003e환경 마커에 대한 참조 구현은 \u003ccode\u003epackaging\u003c/code\u003e 라이브러리의 포크인 Environment markers for ABI features에서 사용할 수 있습니다.\u003c/p\u003e\n\u003cp\u003e데모 패키지도 사용할 수 있습니다.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003epip\u003c/code\u003e은 내부적으로 \u003ccode\u003epackaging\u003c/code\u003e의 벤더링된 복사본을 사용하므로, 위에서 링크된 참조 구현으로 벤더링된 \u003ccode\u003epackaging\u003c/code\u003e을 대체하는 패치된 \u003ccode\u003epip\u003c/code\u003e 버전도 제공됩니다.\u003c/p\u003e\n\u003ch2\u003e거부된 아이디어 (Rejected Ideas)\u003c/h2\u003e\n\u003ch3\u003e확장 메커니즘 (Extension Mechanism)\u003c/h3\u003e\n\u003cp\u003e주제에 대한 초기 논의(\u003ccode\u003eEnvironment marker for free-threading\u003c/code\u003e)에서 환경 마커에 대한 일반적인 확장 메커니즘 아이디어가 제기되었습니다. 미래에 새로운 환경 마커가 필요할 경우 전체 PEP 프로세스를 생략하는 것이 매력적이지만, 두 가지 주요 과제가 있습니다.\u003c/p\u003e\n\u003cp\u003e첫째, 완전히 동적인 메커니즘은 종속성 사양의 정적 분석에 의존하는 도구에 어려움을 줄 것입니다. 이는 동적인 메커니즘이 채택되더라도 새로운 환경 마커는 여전히 PEP에서 명시되어야 할 가능성이 높다는 것을 의미합니다.\u003c/p\u003e\n\u003cp\u003e둘째, 동적인 메커니즘의 도입은 \u003ccode\u003epackaging\u003c/code\u003e 라이브러리에서 더 복잡한 구현을 요구할 것이며, 이는 현재 접근 방식에서 크게 벗어나는 것입니다.\u003c/p\u003e\n\u003ch2\u003e미해결 문제 (Open Issues)\u003c/h2\u003e\n\u003ch3\u003e기타 환경 마커 (Other Environment Markers)\u003c/h3\u003e\n\u003cp\u003e지금 당장 다른 환경 마커가 필요한 경우 이 PEP를 확장하여 포함할 수 있습니다.\u003c/p\u003e\n\u003ch3\u003e기타 도구 (Other Tooling)\u003c/h3\u003e\n\u003cp\u003e참조 구현은 \u003ccode\u003epackaging\u003c/code\u003e 라이브러리 및 \u003ccode\u003epip\u003c/code\u003e을 기반으로 합니다. 이를 통해 여러 빌드 백엔드로 패키지를 빌드하고 설치할 수 있음을 확인했습니다. 참조 구현에 다른 도구를 추가해야 할 수도 있습니다.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e⚠️ \u003cstrong\u003e알림:\u003c/strong\u003e 이 문서는 AI를 활용하여 번역되었으며, 기술적 정확성을 보장하지 않습니다. 정확한 내용은 반드시 원문을 확인하시기 바랍니다.\u003c/p\u003e\n\u003c/blockquote\u003e\n"])</script><script>self.__next_f.push([1,"5:[\"$\",\"div\",null,{\"className\":\"flex flex-col lg:flex-row gap-8\",\"children\":[[\"$\",\"aside\",null,{\"className\":\"lg:w-64 xl:w-72 order-1 lg:order-none\",\"children\":[\"$\",\"div\",null,{\"className\":\"sidebar sticky\",\"children\":[\"$\",\"nav\",null,{\"className\":\"space-y-4\",\"children\":[[\"$\",\"div\",\"Backend\",{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-medium text-gray-900 mb-2\",\"children\":\"Backend\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1 ml-4\",\"children\":[[\"$\",\"li\",\"Django\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/backend/django/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Django\",\" (\",6,\")\"]}]}],[\"$\",\"li\",\"Logging\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/backend/logging/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Logging\",\" (\",1,\")\"]}]}]]}]]}],[\"$\",\"div\",\"Python\",{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-medium text-gray-900 mb-2\",\"children\":\"Python\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1 ml-4\",\"children\":[[\"$\",\"li\",\"PEP\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/python/pep/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"PEP\",\" (\",650,\")\"]}]}]]}]]}],[\"$\",\"div\",\"AI/ML\",{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-medium text-gray-900 mb-2\",\"children\":\"AI/ML\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1 ml-4\",\"children\":[[\"$\",\"li\",\"LLM\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/ai/llm/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"LLM\",\" (\",1,\")\"]}]}],[\"$\",\"li\",\"Review\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/ai/review/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Review\",\" (\",1025,\")\"]}]}]]}]]}],[\"$\",\"div\",\"DevOps\",{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-medium text-gray-900 mb-2\",\"children\":\"DevOps\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1 ml-4\",\"children\":[[\"$\",\"li\",\"Nginx\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/devops/nginx/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Nginx\",\" (\",1,\")\"]}]}],[\"$\",\"li\",\"Docker\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/devops/docker/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Docker\",\" (\",1,\")\"]}]}],[\"$\",\"li\",\"SafeLine\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/devops/safeline/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"SafeLine\",\" (\",1,\")\"]}]}],[\"$\",\"li\",\"Jenkins\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/devops/jenkins/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Jenkins\",\" (\",3,\")\"]}]}],[\"$\",\"li\",\"GitHub Actions\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/devops/github-actions/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"GitHub Actions\",\" (\",1,\")\"]}]}],[\"$\",\"li\",\"AWS\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/devops/aws/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"AWS\",\" (\",1,\")\"]}]}]]}]]}],[\"$\",\"div\",\"etc\",{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-medium text-gray-900 mb-2\",\"children\":\"etc\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1 ml-4\",\"children\":[[\"$\",\"li\",\"Me\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/etc/me/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Me\",\" (\",3,\")\"]}]}],[\"$\",\"li\",\"Chrome Extension\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/etc/chrome-extension/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Chrome Extension\",\" (\",1,\")\"]}]}]]}]]}]]}]}]}],[\"$\",\"main\",null,{\"className\":\"flex-1\",\"children\":[\"$\",\"article\",null,{\"className\":\"page\",\"children\":[[\"$\",\"header\",null,{\"className\":\"mb-8\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"page__title\",\"children\":\"[Draft] PEP 780 - ABI features as environment markers\"}],[\"$\",\"div\",null,{\"className\":\"page__meta\",\"children\":[[\"$\",\"time\",null,{\"dateTime\":\"2025-09-27 13:57:13+0900\",\"children\":\"2025년 9월 27일\"}],[\"$\",\"span\",null,{\"className\":\"ml-4\",\"children\":[\"수정: \",\"2025년 9월 27일\"]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"page__content\",\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$e\"}}]}],[\"$\",\"footer\",null,{\"className\":\"page__meta mt-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"page__taxonomy\",\"children\":[[\"$\",\"h4\",null,{\"className\":\"text-sm font-medium text-gray-900 mb-2\",\"children\":\"태그\"}],[[\"$\",\"span\",\"Python\",{\"className\":\"page__taxonomy-item\",\"children\":[\"#\",\"Python\"]}],[\"$\",\"span\",\"PEP\",{\"className\":\"page__taxonomy-item\",\"children\":[\"#\",\"PEP\"]}],[\"$\",\"span\",\"Translation\",{\"className\":\"page__taxonomy-item\",\"children\":[\"#\",\"Translation\"]}]]]}]}]]}]}]]}]\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"secrett2633's blog\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"기술 블로그 - Django, Python, DevOps, AI/ML 관련 포스트\"}],[\"$\",\"meta\",\"4\",{\"name\":\"author\",\"content\":\"secrett2633\"}],[\"$\",\"meta\",\"5\",{\"name\":\"keywords\",\"content\":\"Django, Python, DevOps, AI, ML, 블로그, 기술\"}],[\"$\",\"meta\",\"6\",{\"name\":\"creator\",\"content\":\"secrett2633\"}],[\"$\",\"meta\",\"7\",{\"name\":\"publisher\",\"content\":\"secrett2633\"}],[\"$\",\"meta\",\"8\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"9\",{\"name\":\"googlebot\",\"content\":\"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1\"}],[\"$\",\"link\",\"10\",{\"rel\":\"canonical\",\"href\":\"https://secrett2633.github.io/\"}],[\"$\",\"meta\",\"11\",{\"name\":\"format-detection\",\"content\":\"telephone=no, address=no, email=no\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:title\",\"content\":\"secrett2633's blog\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:description\",\"content\":\"기술 블로그 - Django, Python, DevOps, AI/ML 관련 포스트\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:url\",\"content\":\"https://secrett2633.github.io/\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:site_name\",\"content\":\"secrett2633's blog\"}],[\"$\",\"meta\",\"16\",{\"property\":\"og:locale\",\"content\":\"ko_KR\"}],[\"$\",\"meta\",\"17\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:title\",\"content\":\"secrett2633's blog\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:description\",\"content\":\"기술 블로그 - Django, Python, DevOps, AI/ML 관련 포스트\"}],[\"$\",\"link\",\"21\",{\"rel\":\"icon\",\"href\":\"/icon.ico?6d9f34d4948640b8\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"meta\",\"22\",{\"name\":\"next-size-adjust\"}]]\n4:null\n"])</script></body></html>