<!DOCTYPE html><html lang="ko" class="no-js"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/edf391eeca43d999.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-15a70ff5b484f3df.js"/><script src="/_next/static/chunks/fd9d1056-4e1a26e2d413ba3c.js" async=""></script><script src="/_next/static/chunks/23-e8ded9e1e67d56dc.js" async=""></script><script src="/_next/static/chunks/main-app-6087bc228fd56b83.js" async=""></script><script src="/_next/static/chunks/231-c27e618569e042bc.js" async=""></script><script src="/_next/static/chunks/157-add0e5976b965783.js" async=""></script><script src="/_next/static/chunks/app/layout-b06e577e11976c7d.js" async=""></script><script src="/_next/static/chunks/app/%5B...slug%5D/page-9d772c571b4668c1.js" async=""></script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-NE2W3CFPNY"></script><title>secrett2633&#x27;s blog</title><meta name="description" content="기술 블로그 - Django, Python, DevOps, AI/ML 관련 포스트"/><meta name="author" content="secrett2633"/><meta name="keywords" content="Django, Python, DevOps, AI, ML, 블로그, 기술"/><meta name="creator" content="secrett2633"/><meta name="publisher" content="secrett2633"/><meta name="robots" content="index, follow"/><meta name="googlebot" content="index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"/><link rel="canonical" href="https://blog.secrett2633.site/"/><meta name="format-detection" content="telephone=no, address=no, email=no"/><meta property="og:title" content="secrett2633&#x27;s blog"/><meta property="og:description" content="기술 블로그 - Django, Python, DevOps, AI/ML 관련 포스트"/><meta property="og:url" content="https://blog.secrett2633.site/"/><meta property="og:site_name" content="secrett2633&#x27;s blog"/><meta property="og:locale" content="ko_KR"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="secrett2633&#x27;s blog"/><meta name="twitter:description" content="기술 블로그 - Django, Python, DevOps, AI/ML 관련 포스트"/><link rel="icon" href="/icon.ico?6d9f34d4948640b8" type="image/x-icon" sizes="16x16"/><meta name="next-size-adjust"/><meta name="msapplication-TileColor" content="#ffc40d"/><meta name="theme-color" content="#ffffff"/><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments);}
              gtag('js', new Date());
              gtag('config', 'G-NE2W3CFPNY');
            </script><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_f367f3 layout--default"><div class="min-h-screen bg-gray-50"><div class="masthead"><div class="masthead__inner-wrap"><div class="masthead__menu"><nav id="site-nav" class="greedy-nav"><a class="site-title" href="/">secrett2633&#x27;s blog</a><div class="flex items-center space-x-4"><ul class="visible-links"><li class="masthead__menu-item"><a href="https://github.com/secrett2633" target="_blank" rel="noopener noreferrer">GitHub</a></li></ul><button class="search__toggle" type="button"><svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16"><path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path></svg></button></div></nav></div></div></div><main class="initial-content"><!--$--><div class="flex flex-col lg:flex-row gap-8"><aside class="lg:w-64 xl:w-72 order-1 lg:order-none"><div class="sidebar sticky"><nav class="space-y-4"><div><h4 class="font-medium text-gray-900 mb-2">Backend</h4><ul class="space-y-1 ml-4"><li><a href="/backend/django/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Django<!-- --> (<!-- -->6<!-- -->)</a></li><li><a href="/backend/logging/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Logging<!-- --> (<!-- -->1<!-- -->)</a></li></ul></div><div><h4 class="font-medium text-gray-900 mb-2">Python</h4><ul class="space-y-1 ml-4"><li><a href="/python/pep/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">PEP<!-- --> (<!-- -->650<!-- -->)</a></li></ul></div><div><h4 class="font-medium text-gray-900 mb-2">AI/ML</h4><ul class="space-y-1 ml-4"><li><a href="/ai/llm/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">LLM<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/ai/review/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Review<!-- --> (<!-- -->1847<!-- -->)</a></li></ul></div><div><h4 class="font-medium text-gray-900 mb-2">DevOps</h4><ul class="space-y-1 ml-4"><li><a href="/devops/nginx/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Nginx<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/devops/docker/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Docker<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/devops/safeline/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">SafeLine<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/devops/jenkins/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Jenkins<!-- --> (<!-- -->3<!-- -->)</a></li><li><a href="/devops/github-actions/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">GitHub Actions<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/devops/aws/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">AWS<!-- --> (<!-- -->1<!-- -->)</a></li></ul></div><div><h4 class="font-medium text-gray-900 mb-2">etc</h4><ul class="space-y-1 ml-4"><li><a href="/etc/me/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Me<!-- --> (<!-- -->3<!-- -->)</a></li><li><a href="/etc/chrome-extension/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Chrome Extension<!-- --> (<!-- -->1<!-- -->)</a></li></ul></div></nav></div></aside><main class="flex-1"><article class="page"><header class="mb-8"><h1 class="page__title">[Accepted] PEP 668 - Marking Python base environments as “externally managed”</h1><div class="page__meta"><time dateTime="2025-09-27 10:04:11+0900">2025년 9월 27일</time><span class="ml-4">수정: <!-- -->2025년 9월 27일</span></div></header><div class="page__content"><div><blockquote>
<p><strong>원문 링크:</strong> <a href="https://peps.python.org/pep-0668/">PEP 668 - Marking Python base environments as “externally managed”</a></p>
<p><strong>상태:</strong> Accepted | <strong>유형:</strong> Standards Track | <strong>작성일:</strong> 18-May-2021</p>
</blockquote>
<h2>PEP 668 – Python 기본 환경을 "외부 관리"로 표시</h2>
<h3>개요 (Abstract)</h3>
<p>이 PEP는 OS 패키지 관리자와 <code>pip</code>와 같은 Python 전용 패키지 관리 도구 간의 오랜 충돌 문제를 해결하기 위한 메커니즘을 제안합니다. 역사적으로 Python 전용 패키지 관리 도구는 암묵적인 전역 컨텍스트에 패키지를 설치하는 것이 기본 동작이었지만, 가상 환경(virtual environment)의 표준화와 보급으로 인해 대부분의 경우 (전부는 아니지만) 가상 환경 내에서 Python 전용 패키지 관리 도구를 사용하는 것이 더 나은 해결책이 되었습니다.</p>
<p>이 제안은 Python 설치가 <code>pip</code>와 같은 도구에 자신의 전역 패키지 설치 컨텍스트가 OS 패키지 관리자와 같은 외부 수단에 의해 관리되고 있음을 알리는 방법을 제공합니다. 기본적으로 Python 전용 패키지 관리 도구는 인터프리터의 전역 컨텍스트에 패키지를 설치하거나 제거하지 않아야 하며, 대신 최종 사용자에게 가상 환경 사용을 유도해야 한다고 명시하고 있습니다.</p>
<p>또한, <code>sysconfig</code> 스키마에 대한 해석을 표준화하여, Python 전용 패키지 관리자가 인터프리터 전체 컨텍스트에 패키지를 설치하려는 경우, 외부 패키지 관리자와의 충돌을 피하고 외부 패키지 관리자가 제공하는 소프트웨어를 손상시킬 위험을 줄이는 방식으로 수행할 수 있도록 합니다.</p>
<h3>용어 (Terminology)</h3>
<p>이 PEP에서 사용되는 몇 가지 핵심 용어는 명확성을 위해 특정 방식으로 정의됩니다.</p>
<ul>
<li><strong>distro (배포판):</strong> Debian, Fedora, FreeBSD와 같은 운영 체제 또는 Homebrew, MacPorts와 같은 오버레이 배포판을 의미합니다. Python 인터프리터, Python으로 작성된 소프트웨어, 기타 언어로 작성된 소프트웨어 등 다양한 종류의 소프트웨어 모음을 지칭합니다.</li>
<li><strong>package (패키지):</strong> Python 내에서 설치 및 사용될 수 있는 소프트웨어 단위를 의미합니다. 이는 Python Package Index (PyPI)에서 사용되는 "배포 패키지(distribution package)" 또는 단순히 "패키지"를 지칭합니다.</li>
<li><strong>Python-specific package manager (Python 전용 패키지 관리자):</strong> Python 패키징 표준(PEP 376, PEP 427 등)에 따라 Python 패키지를 설치, 업그레이드 및/또는 제거하는 도구입니다. 가장 널리 사용되는 예는 <code>pip</code>입니다.</li>
<li><strong>distro package manager (배포판 패키지 관리자):</strong> <code>apt</code>, <code>dpkg</code>, <code>dnf</code>, <code>rpm</code>, <code>pacman</code>, <code>brew</code>와 같이 배포판의 패키지를 설치, 업그레이드 및/또는 제거하는 도구입니다. Python 패키지뿐만 아니라 비-Python 패키지도 설치할 수 있으며, 일반적으로 PEP 376과 무관한 자체 설치 소프트웨어 데이터베이스를 가집니다. 이 문서에서는 "external package manager" 또는 "system's package manager"라는 용어도 사용합니다.</li>
<li><strong>shadow (쉐도잉):</strong> 설치된 Python 패키지에서 파일을 제거하지 않고 다른 패키지가 임포트(import) 시 우선적으로 선택되도록 하는 것을 의미합니다.</li>
</ul>
<h3>동기 (Motivation)</h3>
<p>Python의 인기로 인해 소프트웨어 배포판(distro)은 두 가지 목적으로 Python을 제공합니다. 첫째, 최종 사용자가 자체적으로 사용할 수 있는 소프트웨어 패키지로, 둘째, 배포판 내 다른 소프트웨어의 언어 종속성(language dependency)으로 사용됩니다.</p>
<p>문제는 최종 사용자가 가상 환경 외부에서 <code>pip</code>와 같은 도구를 사용하여 Python 패키지를 설치할 경우, 새로 설치된 패키지가 배포판에 포함된 Python 소프트웨어에 가시적(visible)이라는 점입니다. 만약 새로 설치된 패키지(또는 그 종속성)가 배포판을 통해 설치된 패키지보다 새로운 버전이거나 하위 호환성(backwards-incompatible)이 없는 버전일 경우, 배포판에 포함된 소프트웨어가 손상될 수 있습니다.</p>
<p>이는 배포판의 무결성(integrity)에 심각한 문제를 야기할 수 있습니다. 예를 들어, Fedora의 <code>dnf</code> 명령어를 <code>pip install</code> 명령어로 의도치 않게 손상시켜 복구가 어려워지는 경우가 발생할 수 있습니다. <code>sudo pip install</code>과 <code>pip install --user</code> 모두 이 문제에 해당합니다.</p>
<p>더 큰 문제는 <code>sudo pip uninstall</code>을 통해 복구하려 할 때 발생합니다. 시스템 패키지 관리자가 제공한 패키지까지 제거될 수 있으며, 심지어 패키지를 업그레이드할 때도 <code>pip</code>가 OS가 제공한 이전 버전을 제거하려 시도할 수 있습니다. 이 시점에서 시스템을 일관된 상태로 복구하는 것이 불가능해질 수 있습니다.</p>
<p>이러한 문제를 해결하기 위해, Python 라이브러리나 애플리케이션을 설치하는 가장 좋은 방법은 (배포판 패키지를 사용하지 않을 경우) 가상 환경을 사용하는 것이라는 합의가 이루어졌습니다. <code>venv</code> 모듈을 통한 가상 환경 사용은 시스템 소프트웨어를 손상시키는 것을 방지합니다.</p>
<p>그러나 특정 경우(예: Sphinx나 Ansible과 같은 확장 기능을 설치할 때)에는 배포판 외부에 있는 Python 패키지를 의도적으로 설치하여 배포판 제공 명령어의 동작에 영향을 미치게 하는 것이 유용합니다. 이러한 경우, <code>pip</code>와 같은 도구는 시스템 패키지 관리자가 소유한 파일을 삭제하지 않고도 <code>sys.path</code>의 특정 디렉토리에 패키지를 설치할 수 있어야 합니다.</p>
<p>따라서 이 PEP는 다음 두 가지를 제안합니다.</p>
<ol>
<li>Python 인터프리터의 배포자가 해당 인터프리터의 패키지가 Python 외부 수단에 의해 관리됨을 표시하는 방법을 제공합니다. 이를 통해 <code>pip</code>와 같은 Python 전용 도구는 특별히 재정의하지 않는 한, 인터프리터의 전역 <code>sys.path</code>에 설치된 패키지를 변경(추가, 업그레이드/다운그레이드, 제거)하지 않아야 합니다. 이 메커니즘은 옵트인(opt-in) 방식입니다.</li>
<li>인터프리터의 전역 컨텍스트에 패키지를 설치할 때 (표시되지 않은 인터프리터이거나 표시를 재정의하는 경우), Python 전용 패키지 관리자는 파일을 생성할 <code>sysconfig</code> 스키마의 디렉토리 내에서만 파일을 수정하거나 삭제해야 한다는 규칙을 설정합니다. 이를 통해 배포자는 관리 패키지용과 사용자 설치 패키지용으로 두 개의 디렉토리를 설정하고, 사용자 패키지 설치가 외부 패키지 관리자가 소유한 파일을 삭제하거나 덮어쓰지 않도록 할 수 있습니다.</li>
</ol>
<h3>근거 (Rationale)</h3>
<p>첫 번째 동작 변경은 <code>EXTERNALLY-MANAGED</code>라는 마커 파일(marker file)을 생성하는 것을 포함합니다. 이 파일의 존재는 가상 환경이 아닌 패키지 설치가 OS 패키지 관리자와 같은 Python 외부 수단에 의해 관리됨을 나타냅니다. 이 파일은 기본 <code>sysconfig</code> 스키마의 <code>stdlib</code> 디렉토리에 위치하도록 지정되어, <code>sys.path</code>의 특정 위치가 아닌 전체 인터프리터/설치를 표시합니다. 이는 시스템 전체에 호환되지 않는 새 버전의 패키지를 설치하거나 (<code>sudo pip install</code> 등), 사용자 계정에만 설치하더라도 표준 Python 명령어의 <code>sys.path</code>에 위치하여 문제를 일으킬 수 있는 두 가지 관련 문제를 해결하기 위함입니다.</p>
<p>두 번째 동작 변경은 이미 이러한 종류의 문제를 겪었던 배포판의 기존 <code>sysconfig</code> 설정을 활용하며, 특히 Python 전용 패키지 관리자가 외부 패키지 관리자가 소유한 파일을 삭제하거나 덮어쓰는 문제를 해결합니다.</p>
<h3>사용 사례 (Use cases)</h3>
<p>이 PEP의 변경된 동작은 가능한 많은 사용 사례에 대해 "올바른 작동"을 의도합니다. 이 섹션에서는 PEP가 구현된 후 <code>pip install</code>과 같은 Python 전용 설치 도구가 기본적으로 설치를 허용하는지, 그리고 외부 패키지 관리자가 제공한 패키지를 삭제하는 것이 허용되는지 여부를 중점적으로 다룹니다.</p>
<p>다음은 주요 사용 사례를 요약한 표입니다.</p>
<p>| 경우 설명                    | <code>pip install</code> 허용 여부 | 외부 설치 패키지 삭제 허용 여부 |
| :--------------------------- | :--------------------- | :----------------------------- |
| 1. 패치되지 않은 CPython     | 현재 허용; 계속 허용   | 현재 허용; 계속 허용           |
| 2. 배포판 <code>/usr/bin/python3</code> | 현재 허용; <code>EXTERNALLY-MANAGED</code> 파일 추가 시 허용 안 됨 | 현재 허용(Debian 제외); <code>EXTERNALLY-MANAGED</code> 파일 추가 시 허용 안 됨 |
| 3. 가상 환경 내 배포판 Python | 현재 허용; 계속 허용   | 외부 설치 패키지 없음          |
| 4. <code>--system-site-packages</code>를 사용한 가상 환경 내 배포판 Python | 현재 허용; 계속 허용   | 현재 허용 안 됨; 계속 허용 안 됨 |
| 5. Docker 컨테이너 내 배포판 Python | 현재 허용; <code>EXTERNALLY-MANAGED</code> 파일 추가 시 허용 안 됨 | 현재 허용; <code>EXTERNALLY-MANAGED</code> 파일 추가 시 허용 안 됨 |
| 6. Conda 환경               | 현재 허용; 계속 허용   | 현재 허용; 계속 허용           |
| 7. 개발자 중심 배포판        | 현재 허용; <code>EXTERNALLY-MANAGED</code> 파일 추가 시 허용 안 됨 | 현재 종종 허용; <code>sysconfig</code> 구성 시 허용 안 됨 |
| 8. 배포판 패키지 빌드        | 현재 허용; 계속 허용 가능 | 현재 허용; 허용 안 됨          |
| 9. 배포판 Python stdlib를 복사한 <code>PYTHONHOME</code> | 현재 허용; 허용 안 됨          | 현재 허용; 허용 안 됨          |
| 10. 상위 Python stdlib를 복사한 <code>PYTHONHOME</code> | 현재 허용; 계속 허용   | 현재 허용; 계속 허용           |</p>
<p>주요 변경사항은 배포판의 <code>/usr/bin/python3</code> 환경에서 <code>EXTERNALLY-MANAGED</code> 파일을 추가하여 <code>pip install</code>을 기본적으로 비활성화하고, 시스템 관리 패키지를 삭제하지 않도록 하는 것입니다. 컨테이너 이미지의 경우, 기본적으로 마커 파일이 존재하더라도 사용자가 패키지를 설치할 수 있도록 해당 파일을 제거하지 않거나 재정의할 수 있습니다.</p>
<h3>사양 (Specification)</h3>
<h4>인터프리터를 외부 관리로 표시 (Marking an interpreter as using an external package manager)</h4>
<p>Python 전용 패키지 설치 프로그램(<code>pip</code> 등)이 특정 Python 컨텍스트에 패키지를 설치하기 전에, 기본적으로 다음 검사를 수행해야 합니다.</p>
<ol>
<li>가상 환경 외부에서 실행 중인가? (<code>sys.prefix == sys.base_prefix</code> 여부로 판단)</li>
<li><code>sysconfig.get_path("stdlib", sysconfig.get_default_scheme())</code>로 식별된 디렉토리에 <code>EXTERNALLY-MANAGED</code> 파일이 존재하는가?</li>
</ol>
<p>두 조건이 모두 참이면, 설치 프로그램은 "가상 환경 외부에서는 이 Python 인터프리터 디렉토리에 패키지 설치가 비활성화되어 있다"는 오류 메시지와 함께 종료해야 합니다.</p>
<p>설치 프로그램은 <code>--break-system-packages</code>와 같은 명령줄 플래그를 통해 사용자가 이러한 규칙을 재정의할 수 있는 방법을 제공해야 합니다. 이 옵션은 기본적으로 활성화되지 않아야 하며, 사용 시 위험하다는 의미를 내포해야 합니다.</p>
<p><code>EXTERNALLY-MANAGED</code> 파일은 표준 라이브러리 <code>configparser</code> 모듈로 파싱할 수 있는 INI 스타일의 메타데이터 파일입니다. 파일에 <code>[externally-managed]</code> 섹션이 포함되어 있다면, 설치 프로그램은 파일에 지정된 오류 메시지를 찾아 출력해야 합니다. 오류 메시지는 언어 코드(<code>Error-de_DE</code> 등)에 따라 지역화될 수 있으며, 적절한 키가 없으면 기본 <code>Error</code> 키를 사용합니다. 파일에서 오류 메시지를 찾을 수 없거나 파싱할 수 없는 경우, 설치 프로그램은 자체적으로 정의된 오류 메시지를 사용하여 사용자에게 가상 환경 생성을 제안해야 합니다.</p>
<p>Python 패키지 배포판을 관리하는 소프트웨어 배포자는 일반적으로 <code>EXTERNALLY-MANAGED</code> 파일을 <code>stdlib</code> 디렉토리에 포함해야 합니다. 예를 들어, Debian은 다음과 같은 내용을 포함할 수 있습니다.</p>
<pre><code class="language-ini">[externally-managed]
Error=To install Python packages system-wide, try apt install python3-xyz, where xyz is the package you are trying to install. If you wish to install a non-Debian-packaged Python package, create a virtual environment using python3 -m venv path/to/venv. Then use path/to/venv/bin/python and path/to/venv/bin/pip. Make sure you have python3-full installed. If you wish to install a non-Debian packaged Python application, it may be easiest to use pipx install xyz, which will manage a virtual environment for you. Make sure you have pipx installed. See /usr/share/doc/python3.9/README.venv for more information.
</code></pre>
<p>특정 컨텍스트(예: 단일 애플리케이션 컨테이너 이미지)에서는 배포자가 <code>EXTERNALLY-MANAGED</code> 파일을 포함하지 않기로 선택할 수 있습니다.</p>
<h4>대상 <code>sysconfig</code> 스키마에만 쓰기 (Writing to only the target sysconfig scheme)</h4>
<p>설치 프로그램이 <code>sysconfig</code> 스키마에 설치할 때, 이 PEP는 설치 프로그램이 해당 스키마 외부의 파일을 수정하거나 삭제해서는 안 된다고 명시합니다. 예를 들어, 패키지를 업그레이드하고 해당 패키지가 이미 다른 스키마의 디렉토리에 설치되어 있다면, 기존 파일은 그대로 두어야 합니다.
업그레이드 중에 기존 설치를 쉐도잉하게 된다면, 설치 프로그램은 실행 마지막에 경고를 출력하는 것이 권장됩니다.</p>
<h3>배포판을 위한 권장 사항 (Recommendations for distros)</h3>
<p>이 섹션은 비규범적(non-normative)이며, 배포판이 특별한 이유가 없는 한 따라야 할 모범 사례를 제공합니다.</p>
<ul>
<li><strong>설치를 외부 관리로 표시 (Mark the installation as externally managed):</strong> 배포판은 <code>stdlib</code> 디렉토리에 <code>EXTERNALLY-MANAGED</code> 파일을 생성해야 합니다.</li>
<li><strong>사용자를 가상 환경으로 안내 (Guide users towards virtual environments):</strong> 이 파일은 배포판의 패키지 관리자를 통해 시스템 전체 패키지를 설치하는 방법과 가상 환경을 설정하는 방법을 모두 알려주는 유용하고 배포판 관련 오류 메시지를 포함해야 합니다. <code>pipx</code>와 같은 도구를 패키징하고 오류 메시지에서 제안하는 것을 고려해야 합니다. <code>pipx</code>는 애플리케이션만을 위한 가상 환경을 자동으로 생성하여, Python 사용자가 아닌 최종 사용자가 Python 기반 소프트웨어를 설치할 때 더 나은 기본값을 제공합니다.</li>
<li><strong>컨테이너 이미지에 마커 파일 유지 (Keep the marker file in container images):</strong> 단일 애플리케이션 컨테이너 이미지(예: Docker 컨테이너 이미지)용 공식 이미지를 생성하는 배포판은 <code>EXTERNALLY-MANAGED</code> 파일을 유지해야 합니다.</li>
<li><strong>별도의 배포판 및 로컬 디렉토리 생성 (Create separate distro and local directories):</strong> 배포판은 시스템 인터프리터의 <code>sys.path</code>에 두 개의 별도 경로를 두어야 합니다. 하나는 배포판 설치 패키지용이고, 다른 하나는 로컬 시스템 관리자가 설치한 패키지용입니다. 그리고 <code>sysconfig.get_default_scheme()</code>가 후자 경로를 가리키도록 구성해야 합니다. 이는 <code>pip</code>와 같은 도구가 배포판 설치 패키지를 수정하지 않도록 보장합니다. 로컬 시스템 관리자용 경로는 <code>sys.path</code>에서 배포판 경로보다 먼저 와서 로컬 설치가 배포판 패키지보다 우선하도록 해야 합니다. 예를 들어, Fedora와 Debian은 <code>/usr/local</code>을 로컬 설치 패키지용으로, <code>/usr</code>를 배포판 설치 패키지용으로 사용하여 이 분할을 구현합니다.</li>
</ul>
<h3>하위 호환성 (Backwards Compatibility)</h3>
<p>이러한 모든 메커니즘은 새로운 배포판 릴리스와 <code>pip</code>와 같은 도구의 새 버전에만 제안됩니다.</p>
<p>주요 버전 개념이 있는 배포판은 새로운 주요 버전에서만 마커 파일을 추가하거나 <code>sysconfig</code> 스키마를 변경하는 것을 강력히 권장합니다. 그렇지 않으면 기존 시스템에서 Python 전용 패키지 관리자를 통해 설치된 소프트웨어가 관리 불가능해질 위험이 있습니다.</p>
<p>패키지 설치 도구의 특정 하위 호환성 문제점은 이전 버전의 <code>virtualenv</code>가 생성한 환경을 관리하는 것일 수 있습니다. <code>sys.base_prefix != sys.prefix</code>를 사용하는 <code>pyvenv.cfg</code> 메커니즘을 통해 가상 환경을 감지할 수 있지만, 이전 버전의 <code>virtualenv</code>는 <code>sys.real_prefix</code> 속성을 설정하는 방식을 사용했으므로, 가상 환경을 견고하게 감지하기 위한 로직은 <code>sys.base_prefix != sys.prefix or hasattr(sys, "real_prefix")</code>와 같이 되어야 합니다.</p>
<h3>보안 영향 (Security Implications)</h3>
<p>이 기능의 목적은 보안 경계를 구현하는 것이 아닙니다. 의도치 않은 변경이 사용자의 환경을 예기치 않게 손상시키는 것을 방지하기 위함입니다. 즉, 가상 환경 외부에서 <code>pip install</code>을 제한하는 이유는 보안 위험 때문이 아니라, "하나의 명확한 방법이 있어야 한다"는 원칙을 따르기 위함이며, 그 방법은 가상 환경을 사용하는 것입니다.</p>
<p>마커 파일이 존재할 때 설치 시도는 보안 사고가 아니며, 이에 대한 감사 이벤트(auditing event)를 발생시킬 필요가 없습니다. 마커 파일 자체는 표준 라이브러리 디렉토리에 위치하며, 이는 신뢰할 수 있는 위치입니다.</p>
<h3>대안 (Alternatives)</h3>
<p>이 PEP는 여러 유사한 제안을 고려했지만, 주로 "근거(Rationale)" 섹션의 경우별 분석에서 동작을 보존하기 위해 기각하거나 연기했습니다.</p>
<ul>
<li><strong>마커 파일 위치:</strong> <code>sys.path</code>에 마커 파일을 두어 특정 디렉토리를 쓰지 못하도록 표시하는 것은 호환되지 않는 설치 문제를 해결하지 못합니다. 또한, <code>sysconfig</code> 스키마의 새 속성으로 만드는 것은 재정의하기 어렵습니다. <code>/etc</code>에 두는 것은 특정 Python 설치와 관련이 없어 부적절합니다. <code>pip.conf</code>나 <code>distutils.cfg</code>에 두는 것은 이 메커니즘이 특정 도구에 국한되지 않기 때문에 적절하지 않습니다.</li>
<li><strong>파일 형식:</strong> TOML 형식이 고려되었으나, 표준 라이브러리에 구현이 없고 현재 <code>configparser</code>가 이미 다른 패키징 메타데이터에 사용되고 만족스러우므로 INI 형식이 선택되었습니다.</li>
<li><strong>쉐도잉 방지:</strong> 외부 패키지 관리자가 설치한 패키지를 쉐도잉하는 것을 기본적으로 허용하지 않는 방안도 고려되었으나, 이는 추가적인 사용자 경험 복잡성을 야기하고 합법적인 쉐도잉 사용 사례가 존재하기 때문에 기각되었습니다. 대신 쉐도잉 시 경고를 출력하는 것이 권장됩니다.</li>
<li><strong><code>INSTALLER</code> 파일 사용:</strong> PEP 376의 <code>INSTALLER</code> 파일은 특정 패키지에 국한되며, 전체 환경에 대한 정보를 제공하지 않으므로 사용되지 않습니다.</li>
<li><strong>가상 환경 내 설치 비활성화:</strong> 가상 환경 내에서 패키지 설치를 비활성화할 특별한 강력한 사용 사례가 없다고 판단되어 포함되지 않았습니다.</li>
</ul>
<h4>시스템 Python (System Python)</h4>
<p>배포판 소프트웨어가 <code>sys.path</code>에 배포판 <code>site-packages</code> 디렉토리만 포함하고 로컬 관리자나 사용자별 <code>site-packages</code>를 무시하는 "시스템 Python" 또는 "플랫폼 Python" 개념이 논의되었지만, 이는 하위 호환성 문제가 있고 구현이 훨씬 복잡하여 이 PEP의 범위를 벗어납니다. 이 PEP는 "시스템 Python"과 같은 제안과 독립적이며, 더 대상 지향적이고 최소한의 변경을 통해 시스템 소프트웨어 손상 위험을 줄이는 것을 목표로 합니다.</p>
<h3>구현 노트 (Implementation Notes)</h3>
<p>이 섹션은 비규범적이며 사양 및 잠재적 구현에 관련된 참고 사항을 포함합니다.</p>
<p>현재 <code>pip</code>는 대상 <code>sysconfig</code> 스키마를 직접 선택하는 방법을 노출하지 않지만, 설치 시 스키마를 찾는 세 가지 방식이 있습니다.</p>
<ul>
<li><code>pip install</code>: <code>sysconfig.get_default_scheme()</code>를 호출합니다.</li>
<li><code>pip install --prefix=/some/path</code>: <code>sysconfig.get_preferred_scheme('prefix')</code>를 호출합니다.</li>
<li><code>pip install --user</code>: <code>sysconfig.get_preferred_scheme('user')</code>를 호출합니다.</li>
<li><code>pip install --target=/some/path</code>: 어떤 스키마도 찾지 않고 <code>/some/path</code>에 직접 씁니다.</li>
</ul>
<p><code>is_virtual_environment</code>의 구현 및 <code>EXTERNALLY-MANAGED</code> 파일을 로드하고 오류 메시지를 찾는 로직은 구현을 중앙 집중화하기 위해 표준 라이브러리(<code>sys</code> 및 <code>sysconfig</code>)에 추가될 수 있습니다.</p>
<h3>참고 자료 (References)</h3>
<p>이 문제들과 이전 해결 시도에 대한 추가 배경 정보는 Debian 버그 771794 (2014년), Fedora의 2018년 기사 "Making sudo pip safe", pip 이슈 5605, 5722 (2018년), 그리고 PyCon US 2019 이후 논의 스레드 "Playing nice with external package managers"를 참조하십시오.</p>
<ul>
<li><a href="https://pip.pypa.io/en/stable/">pip 공식 문서</a></li>
<li><a href="https://setuptools.readthedocs.io/en/latest/deprecated/easy_install.html">setuptools easy_install 문서</a></li>
<li><a href="https://conda.io">Conda 공식 웹사이트</a></li>
</ul>
<h3>저작권 (Copyright)</h3>
<p>이 문서는 퍼블릭 도메인 또는 CC0-1.0-Universal 라이선스 중 더 관대한 조건에 따라 배포됩니다.</p>
<blockquote>
<p>⚠️ <strong>알림:</strong> 이 문서는 AI를 활용하여 번역되었으며, 기술적 정확성을 보장하지 않습니다. 정확한 내용은 반드시 원문을 확인하시기 바랍니다.</p>
</blockquote>
</div></div><footer class="page__meta mt-8"><div class="page__taxonomy"><h4 class="text-sm font-medium text-gray-900 mb-2">태그</h4><span class="page__taxonomy-item">#<!-- -->Python</span><span class="page__taxonomy-item">#<!-- -->PEP</span><span class="page__taxonomy-item">#<!-- -->Translation</span></div></footer><section class="mt-12 border-t border-gray-200 pt-8"><h3 class="text-base font-semibold text-gray-900 mb-4">Python<!-- --> 의 다른글</h3><ul class="space-y-2 text-sm"><li class="text-gray-500">이전글<!-- --> <a class="text-gray-500 hover:text-gray-700 underline decoration-dotted underline-offset-4" href="/python/pep/667/">[Final] PEP 667 - Consistent views of namespaces</a></li><li class="text-gray-900 font-semibold">현재글 : <!-- -->[Accepted] PEP 668 - Marking Python base environments as “externally managed”</li><li class="text-gray-500">다음글<!-- --> <a class="text-gray-500 hover:text-gray-700 underline decoration-dotted underline-offset-4" href="/python/pep/669/">[Final] PEP 669 - Low Impact Monitoring for CPython</a></li></ul></section></article></main></div><!--/$--></main><div id="footer" class="page__footer"><footer class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><div class="text-center text-gray-500 text-sm"><p>© 2025 secrett2633. All rights reserved.</p></div></footer></div></div><script src="/_next/static/chunks/webpack-15a70ff5b484f3df.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/edf391eeca43d999.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"3:I[5751,[],\"\"]\n6:I[9275,[],\"\"]\n8:I[1343,[],\"\"]\n9:I[9157,[\"231\",\"static/chunks/231-c27e618569e042bc.js\",\"157\",\"static/chunks/157-add0e5976b965783.js\",\"185\",\"static/chunks/app/layout-b06e577e11976c7d.js\"],\"default\"]\na:I[231,[\"231\",\"static/chunks/231-c27e618569e042bc.js\",\"877\",\"static/chunks/app/%5B...slug%5D/page-9d772c571b4668c1.js\"],\"\"]\nc:I[6130,[],\"\"]\n7:[\"slug\",\"python/pep/668\",\"c\"]\nd:[]\n"])</script><script>self.__next_f.push([1,"0:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/edf391eeca43d999.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$L3\",null,{\"buildId\":\"aOFrxA-GgCmLq_YHxEu_b\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/python/pep/668/\",\"initialTree\":[\"\",{\"children\":[[\"slug\",\"python/pep/668\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"python\\\",\\\"pep\\\",\\\"668\\\"]}\",{}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[[\"slug\",\"python/pep/668\",\"c\"],{\"children\":[\"__PAGE__\",{},[[\"$L4\",\"$L5\"],null],null]},[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$7\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[[\"$\",\"html\",null,{\"lang\":\"ko\",\"className\":\"no-js\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"meta\",null,{\"name\":\"msapplication-TileColor\",\"content\":\"#ffc40d\"}],[\"$\",\"meta\",null,{\"name\":\"theme-color\",\"content\":\"#ffffff\"}],[\"$\",\"script\",null,{\"async\":true,\"src\":\"https://www.googletagmanager.com/gtag/js?id=G-NE2W3CFPNY\"}],[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\\n              window.dataLayer = window.dataLayer || [];\\n              function gtag(){dataLayer.push(arguments);}\\n              gtag('js', new Date());\\n              gtag('config', 'G-NE2W3CFPNY');\\n            \"}}]]}],[\"$\",\"body\",null,{\"className\":\"__className_f367f3 layout--default\",\"children\":[\"$\",\"div\",null,{\"className\":\"min-h-screen bg-gray-50\",\"children\":[[\"$\",\"$L9\",null,{}],[\"$\",\"main\",null,{\"className\":\"initial-content\",\"children\":[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"div\",null,{\"className\":\"min-h-screen flex items-center justify-center bg-gray-50\",\"children\":[\"$\",\"div\",null,{\"className\":\"max-w-md w-full bg-white rounded-lg shadow-md p-8 text-center\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-6xl font-bold text-primary-600 mb-4\",\"children\":\"404\"}],[\"$\",\"h2\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-4\",\"children\":\"페이지를 찾을 수 없습니다\"}],[\"$\",\"p\",null,{\"className\":\"text-gray-600 mb-8\",\"children\":\"요청하신 페이지가 존재하지 않거나 이동되었을 수 있습니다.\"}],[\"$\",\"$La\",null,{\"href\":\"/\",\"className\":\"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors\",\"children\":\"홈으로 돌아가기\"}]]}]}],\"notFoundStyles\":[],\"styles\":null}]}],[\"$\",\"div\",null,{\"id\":\"footer\",\"className\":\"page__footer\",\"children\":[\"$\",\"footer\",null,{\"className\":\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"text-center text-gray-500 text-sm\",\"children\":[\"$\",\"p\",null,{\"children\":\"© 2025 secrett2633. All rights reserved.\"}]}]}]}]]}]}]]}],null],[[\"$\",\"div\",null,{\"className\":\"flex items-center justify-center min-h-screen\",\"children\":[\"$\",\"div\",null,{\"className\":\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"}]}],[],[]]],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$Lb\"],\"globalErrorComponent\":\"$c\",\"missingSlots\":\"$Wd\"}]]\n"])</script><script>self.__next_f.push([1,"e:T5f90,"])</script><script>self.__next_f.push([1,"\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003e원문 링크:\u003c/strong\u003e \u003ca href=\"https://peps.python.org/pep-0668/\"\u003ePEP 668 - Marking Python base environments as “externally managed”\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e상태:\u003c/strong\u003e Accepted | \u003cstrong\u003e유형:\u003c/strong\u003e Standards Track | \u003cstrong\u003e작성일:\u003c/strong\u003e 18-May-2021\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2\u003ePEP 668 – Python 기본 환경을 \"외부 관리\"로 표시\u003c/h2\u003e\n\u003ch3\u003e개요 (Abstract)\u003c/h3\u003e\n\u003cp\u003e이 PEP는 OS 패키지 관리자와 \u003ccode\u003epip\u003c/code\u003e와 같은 Python 전용 패키지 관리 도구 간의 오랜 충돌 문제를 해결하기 위한 메커니즘을 제안합니다. 역사적으로 Python 전용 패키지 관리 도구는 암묵적인 전역 컨텍스트에 패키지를 설치하는 것이 기본 동작이었지만, 가상 환경(virtual environment)의 표준화와 보급으로 인해 대부분의 경우 (전부는 아니지만) 가상 환경 내에서 Python 전용 패키지 관리 도구를 사용하는 것이 더 나은 해결책이 되었습니다.\u003c/p\u003e\n\u003cp\u003e이 제안은 Python 설치가 \u003ccode\u003epip\u003c/code\u003e와 같은 도구에 자신의 전역 패키지 설치 컨텍스트가 OS 패키지 관리자와 같은 외부 수단에 의해 관리되고 있음을 알리는 방법을 제공합니다. 기본적으로 Python 전용 패키지 관리 도구는 인터프리터의 전역 컨텍스트에 패키지를 설치하거나 제거하지 않아야 하며, 대신 최종 사용자에게 가상 환경 사용을 유도해야 한다고 명시하고 있습니다.\u003c/p\u003e\n\u003cp\u003e또한, \u003ccode\u003esysconfig\u003c/code\u003e 스키마에 대한 해석을 표준화하여, Python 전용 패키지 관리자가 인터프리터 전체 컨텍스트에 패키지를 설치하려는 경우, 외부 패키지 관리자와의 충돌을 피하고 외부 패키지 관리자가 제공하는 소프트웨어를 손상시킬 위험을 줄이는 방식으로 수행할 수 있도록 합니다.\u003c/p\u003e\n\u003ch3\u003e용어 (Terminology)\u003c/h3\u003e\n\u003cp\u003e이 PEP에서 사용되는 몇 가지 핵심 용어는 명확성을 위해 특정 방식으로 정의됩니다.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003edistro (배포판):\u003c/strong\u003e Debian, Fedora, FreeBSD와 같은 운영 체제 또는 Homebrew, MacPorts와 같은 오버레이 배포판을 의미합니다. Python 인터프리터, Python으로 작성된 소프트웨어, 기타 언어로 작성된 소프트웨어 등 다양한 종류의 소프트웨어 모음을 지칭합니다.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003epackage (패키지):\u003c/strong\u003e Python 내에서 설치 및 사용될 수 있는 소프트웨어 단위를 의미합니다. 이는 Python Package Index (PyPI)에서 사용되는 \"배포 패키지(distribution package)\" 또는 단순히 \"패키지\"를 지칭합니다.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ePython-specific package manager (Python 전용 패키지 관리자):\u003c/strong\u003e Python 패키징 표준(PEP 376, PEP 427 등)에 따라 Python 패키지를 설치, 업그레이드 및/또는 제거하는 도구입니다. 가장 널리 사용되는 예는 \u003ccode\u003epip\u003c/code\u003e입니다.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003edistro package manager (배포판 패키지 관리자):\u003c/strong\u003e \u003ccode\u003eapt\u003c/code\u003e, \u003ccode\u003edpkg\u003c/code\u003e, \u003ccode\u003ednf\u003c/code\u003e, \u003ccode\u003erpm\u003c/code\u003e, \u003ccode\u003epacman\u003c/code\u003e, \u003ccode\u003ebrew\u003c/code\u003e와 같이 배포판의 패키지를 설치, 업그레이드 및/또는 제거하는 도구입니다. Python 패키지뿐만 아니라 비-Python 패키지도 설치할 수 있으며, 일반적으로 PEP 376과 무관한 자체 설치 소프트웨어 데이터베이스를 가집니다. 이 문서에서는 \"external package manager\" 또는 \"system's package manager\"라는 용어도 사용합니다.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eshadow (쉐도잉):\u003c/strong\u003e 설치된 Python 패키지에서 파일을 제거하지 않고 다른 패키지가 임포트(import) 시 우선적으로 선택되도록 하는 것을 의미합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e동기 (Motivation)\u003c/h3\u003e\n\u003cp\u003ePython의 인기로 인해 소프트웨어 배포판(distro)은 두 가지 목적으로 Python을 제공합니다. 첫째, 최종 사용자가 자체적으로 사용할 수 있는 소프트웨어 패키지로, 둘째, 배포판 내 다른 소프트웨어의 언어 종속성(language dependency)으로 사용됩니다.\u003c/p\u003e\n\u003cp\u003e문제는 최종 사용자가 가상 환경 외부에서 \u003ccode\u003epip\u003c/code\u003e와 같은 도구를 사용하여 Python 패키지를 설치할 경우, 새로 설치된 패키지가 배포판에 포함된 Python 소프트웨어에 가시적(visible)이라는 점입니다. 만약 새로 설치된 패키지(또는 그 종속성)가 배포판을 통해 설치된 패키지보다 새로운 버전이거나 하위 호환성(backwards-incompatible)이 없는 버전일 경우, 배포판에 포함된 소프트웨어가 손상될 수 있습니다.\u003c/p\u003e\n\u003cp\u003e이는 배포판의 무결성(integrity)에 심각한 문제를 야기할 수 있습니다. 예를 들어, Fedora의 \u003ccode\u003ednf\u003c/code\u003e 명령어를 \u003ccode\u003epip install\u003c/code\u003e 명령어로 의도치 않게 손상시켜 복구가 어려워지는 경우가 발생할 수 있습니다. \u003ccode\u003esudo pip install\u003c/code\u003e과 \u003ccode\u003epip install --user\u003c/code\u003e 모두 이 문제에 해당합니다.\u003c/p\u003e\n\u003cp\u003e더 큰 문제는 \u003ccode\u003esudo pip uninstall\u003c/code\u003e을 통해 복구하려 할 때 발생합니다. 시스템 패키지 관리자가 제공한 패키지까지 제거될 수 있으며, 심지어 패키지를 업그레이드할 때도 \u003ccode\u003epip\u003c/code\u003e가 OS가 제공한 이전 버전을 제거하려 시도할 수 있습니다. 이 시점에서 시스템을 일관된 상태로 복구하는 것이 불가능해질 수 있습니다.\u003c/p\u003e\n\u003cp\u003e이러한 문제를 해결하기 위해, Python 라이브러리나 애플리케이션을 설치하는 가장 좋은 방법은 (배포판 패키지를 사용하지 않을 경우) 가상 환경을 사용하는 것이라는 합의가 이루어졌습니다. \u003ccode\u003evenv\u003c/code\u003e 모듈을 통한 가상 환경 사용은 시스템 소프트웨어를 손상시키는 것을 방지합니다.\u003c/p\u003e\n\u003cp\u003e그러나 특정 경우(예: Sphinx나 Ansible과 같은 확장 기능을 설치할 때)에는 배포판 외부에 있는 Python 패키지를 의도적으로 설치하여 배포판 제공 명령어의 동작에 영향을 미치게 하는 것이 유용합니다. 이러한 경우, \u003ccode\u003epip\u003c/code\u003e와 같은 도구는 시스템 패키지 관리자가 소유한 파일을 삭제하지 않고도 \u003ccode\u003esys.path\u003c/code\u003e의 특정 디렉토리에 패키지를 설치할 수 있어야 합니다.\u003c/p\u003e\n\u003cp\u003e따라서 이 PEP는 다음 두 가지를 제안합니다.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003ePython 인터프리터의 배포자가 해당 인터프리터의 패키지가 Python 외부 수단에 의해 관리됨을 표시하는 방법을 제공합니다. 이를 통해 \u003ccode\u003epip\u003c/code\u003e와 같은 Python 전용 도구는 특별히 재정의하지 않는 한, 인터프리터의 전역 \u003ccode\u003esys.path\u003c/code\u003e에 설치된 패키지를 변경(추가, 업그레이드/다운그레이드, 제거)하지 않아야 합니다. 이 메커니즘은 옵트인(opt-in) 방식입니다.\u003c/li\u003e\n\u003cli\u003e인터프리터의 전역 컨텍스트에 패키지를 설치할 때 (표시되지 않은 인터프리터이거나 표시를 재정의하는 경우), Python 전용 패키지 관리자는 파일을 생성할 \u003ccode\u003esysconfig\u003c/code\u003e 스키마의 디렉토리 내에서만 파일을 수정하거나 삭제해야 한다는 규칙을 설정합니다. 이를 통해 배포자는 관리 패키지용과 사용자 설치 패키지용으로 두 개의 디렉토리를 설정하고, 사용자 패키지 설치가 외부 패키지 관리자가 소유한 파일을 삭제하거나 덮어쓰지 않도록 할 수 있습니다.\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3\u003e근거 (Rationale)\u003c/h3\u003e\n\u003cp\u003e첫 번째 동작 변경은 \u003ccode\u003eEXTERNALLY-MANAGED\u003c/code\u003e라는 마커 파일(marker file)을 생성하는 것을 포함합니다. 이 파일의 존재는 가상 환경이 아닌 패키지 설치가 OS 패키지 관리자와 같은 Python 외부 수단에 의해 관리됨을 나타냅니다. 이 파일은 기본 \u003ccode\u003esysconfig\u003c/code\u003e 스키마의 \u003ccode\u003estdlib\u003c/code\u003e 디렉토리에 위치하도록 지정되어, \u003ccode\u003esys.path\u003c/code\u003e의 특정 위치가 아닌 전체 인터프리터/설치를 표시합니다. 이는 시스템 전체에 호환되지 않는 새 버전의 패키지를 설치하거나 (\u003ccode\u003esudo pip install\u003c/code\u003e 등), 사용자 계정에만 설치하더라도 표준 Python 명령어의 \u003ccode\u003esys.path\u003c/code\u003e에 위치하여 문제를 일으킬 수 있는 두 가지 관련 문제를 해결하기 위함입니다.\u003c/p\u003e\n\u003cp\u003e두 번째 동작 변경은 이미 이러한 종류의 문제를 겪었던 배포판의 기존 \u003ccode\u003esysconfig\u003c/code\u003e 설정을 활용하며, 특히 Python 전용 패키지 관리자가 외부 패키지 관리자가 소유한 파일을 삭제하거나 덮어쓰는 문제를 해결합니다.\u003c/p\u003e\n\u003ch3\u003e사용 사례 (Use cases)\u003c/h3\u003e\n\u003cp\u003e이 PEP의 변경된 동작은 가능한 많은 사용 사례에 대해 \"올바른 작동\"을 의도합니다. 이 섹션에서는 PEP가 구현된 후 \u003ccode\u003epip install\u003c/code\u003e과 같은 Python 전용 설치 도구가 기본적으로 설치를 허용하는지, 그리고 외부 패키지 관리자가 제공한 패키지를 삭제하는 것이 허용되는지 여부를 중점적으로 다룹니다.\u003c/p\u003e\n\u003cp\u003e다음은 주요 사용 사례를 요약한 표입니다.\u003c/p\u003e\n\u003cp\u003e| 경우 설명                    | \u003ccode\u003epip install\u003c/code\u003e 허용 여부 | 외부 설치 패키지 삭제 허용 여부 |\n| :--------------------------- | :--------------------- | :----------------------------- |\n| 1. 패치되지 않은 CPython     | 현재 허용; 계속 허용   | 현재 허용; 계속 허용           |\n| 2. 배포판 \u003ccode\u003e/usr/bin/python3\u003c/code\u003e | 현재 허용; \u003ccode\u003eEXTERNALLY-MANAGED\u003c/code\u003e 파일 추가 시 허용 안 됨 | 현재 허용(Debian 제외); \u003ccode\u003eEXTERNALLY-MANAGED\u003c/code\u003e 파일 추가 시 허용 안 됨 |\n| 3. 가상 환경 내 배포판 Python | 현재 허용; 계속 허용   | 외부 설치 패키지 없음          |\n| 4. \u003ccode\u003e--system-site-packages\u003c/code\u003e를 사용한 가상 환경 내 배포판 Python | 현재 허용; 계속 허용   | 현재 허용 안 됨; 계속 허용 안 됨 |\n| 5. Docker 컨테이너 내 배포판 Python | 현재 허용; \u003ccode\u003eEXTERNALLY-MANAGED\u003c/code\u003e 파일 추가 시 허용 안 됨 | 현재 허용; \u003ccode\u003eEXTERNALLY-MANAGED\u003c/code\u003e 파일 추가 시 허용 안 됨 |\n| 6. Conda 환경               | 현재 허용; 계속 허용   | 현재 허용; 계속 허용           |\n| 7. 개발자 중심 배포판        | 현재 허용; \u003ccode\u003eEXTERNALLY-MANAGED\u003c/code\u003e 파일 추가 시 허용 안 됨 | 현재 종종 허용; \u003ccode\u003esysconfig\u003c/code\u003e 구성 시 허용 안 됨 |\n| 8. 배포판 패키지 빌드        | 현재 허용; 계속 허용 가능 | 현재 허용; 허용 안 됨          |\n| 9. 배포판 Python stdlib를 복사한 \u003ccode\u003ePYTHONHOME\u003c/code\u003e | 현재 허용; 허용 안 됨          | 현재 허용; 허용 안 됨          |\n| 10. 상위 Python stdlib를 복사한 \u003ccode\u003ePYTHONHOME\u003c/code\u003e | 현재 허용; 계속 허용   | 현재 허용; 계속 허용           |\u003c/p\u003e\n\u003cp\u003e주요 변경사항은 배포판의 \u003ccode\u003e/usr/bin/python3\u003c/code\u003e 환경에서 \u003ccode\u003eEXTERNALLY-MANAGED\u003c/code\u003e 파일을 추가하여 \u003ccode\u003epip install\u003c/code\u003e을 기본적으로 비활성화하고, 시스템 관리 패키지를 삭제하지 않도록 하는 것입니다. 컨테이너 이미지의 경우, 기본적으로 마커 파일이 존재하더라도 사용자가 패키지를 설치할 수 있도록 해당 파일을 제거하지 않거나 재정의할 수 있습니다.\u003c/p\u003e\n\u003ch3\u003e사양 (Specification)\u003c/h3\u003e\n\u003ch4\u003e인터프리터를 외부 관리로 표시 (Marking an interpreter as using an external package manager)\u003c/h4\u003e\n\u003cp\u003ePython 전용 패키지 설치 프로그램(\u003ccode\u003epip\u003c/code\u003e 등)이 특정 Python 컨텍스트에 패키지를 설치하기 전에, 기본적으로 다음 검사를 수행해야 합니다.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e가상 환경 외부에서 실행 중인가? (\u003ccode\u003esys.prefix == sys.base_prefix\u003c/code\u003e 여부로 판단)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003esysconfig.get_path(\"stdlib\", sysconfig.get_default_scheme())\u003c/code\u003e로 식별된 디렉토리에 \u003ccode\u003eEXTERNALLY-MANAGED\u003c/code\u003e 파일이 존재하는가?\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e두 조건이 모두 참이면, 설치 프로그램은 \"가상 환경 외부에서는 이 Python 인터프리터 디렉토리에 패키지 설치가 비활성화되어 있다\"는 오류 메시지와 함께 종료해야 합니다.\u003c/p\u003e\n\u003cp\u003e설치 프로그램은 \u003ccode\u003e--break-system-packages\u003c/code\u003e와 같은 명령줄 플래그를 통해 사용자가 이러한 규칙을 재정의할 수 있는 방법을 제공해야 합니다. 이 옵션은 기본적으로 활성화되지 않아야 하며, 사용 시 위험하다는 의미를 내포해야 합니다.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eEXTERNALLY-MANAGED\u003c/code\u003e 파일은 표준 라이브러리 \u003ccode\u003econfigparser\u003c/code\u003e 모듈로 파싱할 수 있는 INI 스타일의 메타데이터 파일입니다. 파일에 \u003ccode\u003e[externally-managed]\u003c/code\u003e 섹션이 포함되어 있다면, 설치 프로그램은 파일에 지정된 오류 메시지를 찾아 출력해야 합니다. 오류 메시지는 언어 코드(\u003ccode\u003eError-de_DE\u003c/code\u003e 등)에 따라 지역화될 수 있으며, 적절한 키가 없으면 기본 \u003ccode\u003eError\u003c/code\u003e 키를 사용합니다. 파일에서 오류 메시지를 찾을 수 없거나 파싱할 수 없는 경우, 설치 프로그램은 자체적으로 정의된 오류 메시지를 사용하여 사용자에게 가상 환경 생성을 제안해야 합니다.\u003c/p\u003e\n\u003cp\u003ePython 패키지 배포판을 관리하는 소프트웨어 배포자는 일반적으로 \u003ccode\u003eEXTERNALLY-MANAGED\u003c/code\u003e 파일을 \u003ccode\u003estdlib\u003c/code\u003e 디렉토리에 포함해야 합니다. 예를 들어, Debian은 다음과 같은 내용을 포함할 수 있습니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-ini\"\u003e[externally-managed]\nError=To install Python packages system-wide, try apt install python3-xyz, where xyz is the package you are trying to install. If you wish to install a non-Debian-packaged Python package, create a virtual environment using python3 -m venv path/to/venv. Then use path/to/venv/bin/python and path/to/venv/bin/pip. Make sure you have python3-full installed. If you wish to install a non-Debian packaged Python application, it may be easiest to use pipx install xyz, which will manage a virtual environment for you. Make sure you have pipx installed. See /usr/share/doc/python3.9/README.venv for more information.\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e특정 컨텍스트(예: 단일 애플리케이션 컨테이너 이미지)에서는 배포자가 \u003ccode\u003eEXTERNALLY-MANAGED\u003c/code\u003e 파일을 포함하지 않기로 선택할 수 있습니다.\u003c/p\u003e\n\u003ch4\u003e대상 \u003ccode\u003esysconfig\u003c/code\u003e 스키마에만 쓰기 (Writing to only the target sysconfig scheme)\u003c/h4\u003e\n\u003cp\u003e설치 프로그램이 \u003ccode\u003esysconfig\u003c/code\u003e 스키마에 설치할 때, 이 PEP는 설치 프로그램이 해당 스키마 외부의 파일을 수정하거나 삭제해서는 안 된다고 명시합니다. 예를 들어, 패키지를 업그레이드하고 해당 패키지가 이미 다른 스키마의 디렉토리에 설치되어 있다면, 기존 파일은 그대로 두어야 합니다.\n업그레이드 중에 기존 설치를 쉐도잉하게 된다면, 설치 프로그램은 실행 마지막에 경고를 출력하는 것이 권장됩니다.\u003c/p\u003e\n\u003ch3\u003e배포판을 위한 권장 사항 (Recommendations for distros)\u003c/h3\u003e\n\u003cp\u003e이 섹션은 비규범적(non-normative)이며, 배포판이 특별한 이유가 없는 한 따라야 할 모범 사례를 제공합니다.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003e설치를 외부 관리로 표시 (Mark the installation as externally managed):\u003c/strong\u003e 배포판은 \u003ccode\u003estdlib\u003c/code\u003e 디렉토리에 \u003ccode\u003eEXTERNALLY-MANAGED\u003c/code\u003e 파일을 생성해야 합니다.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e사용자를 가상 환경으로 안내 (Guide users towards virtual environments):\u003c/strong\u003e 이 파일은 배포판의 패키지 관리자를 통해 시스템 전체 패키지를 설치하는 방법과 가상 환경을 설정하는 방법을 모두 알려주는 유용하고 배포판 관련 오류 메시지를 포함해야 합니다. \u003ccode\u003epipx\u003c/code\u003e와 같은 도구를 패키징하고 오류 메시지에서 제안하는 것을 고려해야 합니다. \u003ccode\u003epipx\u003c/code\u003e는 애플리케이션만을 위한 가상 환경을 자동으로 생성하여, Python 사용자가 아닌 최종 사용자가 Python 기반 소프트웨어를 설치할 때 더 나은 기본값을 제공합니다.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e컨테이너 이미지에 마커 파일 유지 (Keep the marker file in container images):\u003c/strong\u003e 단일 애플리케이션 컨테이너 이미지(예: Docker 컨테이너 이미지)용 공식 이미지를 생성하는 배포판은 \u003ccode\u003eEXTERNALLY-MANAGED\u003c/code\u003e 파일을 유지해야 합니다.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e별도의 배포판 및 로컬 디렉토리 생성 (Create separate distro and local directories):\u003c/strong\u003e 배포판은 시스템 인터프리터의 \u003ccode\u003esys.path\u003c/code\u003e에 두 개의 별도 경로를 두어야 합니다. 하나는 배포판 설치 패키지용이고, 다른 하나는 로컬 시스템 관리자가 설치한 패키지용입니다. 그리고 \u003ccode\u003esysconfig.get_default_scheme()\u003c/code\u003e가 후자 경로를 가리키도록 구성해야 합니다. 이는 \u003ccode\u003epip\u003c/code\u003e와 같은 도구가 배포판 설치 패키지를 수정하지 않도록 보장합니다. 로컬 시스템 관리자용 경로는 \u003ccode\u003esys.path\u003c/code\u003e에서 배포판 경로보다 먼저 와서 로컬 설치가 배포판 패키지보다 우선하도록 해야 합니다. 예를 들어, Fedora와 Debian은 \u003ccode\u003e/usr/local\u003c/code\u003e을 로컬 설치 패키지용으로, \u003ccode\u003e/usr\u003c/code\u003e를 배포판 설치 패키지용으로 사용하여 이 분할을 구현합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e하위 호환성 (Backwards Compatibility)\u003c/h3\u003e\n\u003cp\u003e이러한 모든 메커니즘은 새로운 배포판 릴리스와 \u003ccode\u003epip\u003c/code\u003e와 같은 도구의 새 버전에만 제안됩니다.\u003c/p\u003e\n\u003cp\u003e주요 버전 개념이 있는 배포판은 새로운 주요 버전에서만 마커 파일을 추가하거나 \u003ccode\u003esysconfig\u003c/code\u003e 스키마를 변경하는 것을 강력히 권장합니다. 그렇지 않으면 기존 시스템에서 Python 전용 패키지 관리자를 통해 설치된 소프트웨어가 관리 불가능해질 위험이 있습니다.\u003c/p\u003e\n\u003cp\u003e패키지 설치 도구의 특정 하위 호환성 문제점은 이전 버전의 \u003ccode\u003evirtualenv\u003c/code\u003e가 생성한 환경을 관리하는 것일 수 있습니다. \u003ccode\u003esys.base_prefix != sys.prefix\u003c/code\u003e를 사용하는 \u003ccode\u003epyvenv.cfg\u003c/code\u003e 메커니즘을 통해 가상 환경을 감지할 수 있지만, 이전 버전의 \u003ccode\u003evirtualenv\u003c/code\u003e는 \u003ccode\u003esys.real_prefix\u003c/code\u003e 속성을 설정하는 방식을 사용했으므로, 가상 환경을 견고하게 감지하기 위한 로직은 \u003ccode\u003esys.base_prefix != sys.prefix or hasattr(sys, \"real_prefix\")\u003c/code\u003e와 같이 되어야 합니다.\u003c/p\u003e\n\u003ch3\u003e보안 영향 (Security Implications)\u003c/h3\u003e\n\u003cp\u003e이 기능의 목적은 보안 경계를 구현하는 것이 아닙니다. 의도치 않은 변경이 사용자의 환경을 예기치 않게 손상시키는 것을 방지하기 위함입니다. 즉, 가상 환경 외부에서 \u003ccode\u003epip install\u003c/code\u003e을 제한하는 이유는 보안 위험 때문이 아니라, \"하나의 명확한 방법이 있어야 한다\"는 원칙을 따르기 위함이며, 그 방법은 가상 환경을 사용하는 것입니다.\u003c/p\u003e\n\u003cp\u003e마커 파일이 존재할 때 설치 시도는 보안 사고가 아니며, 이에 대한 감사 이벤트(auditing event)를 발생시킬 필요가 없습니다. 마커 파일 자체는 표준 라이브러리 디렉토리에 위치하며, 이는 신뢰할 수 있는 위치입니다.\u003c/p\u003e\n\u003ch3\u003e대안 (Alternatives)\u003c/h3\u003e\n\u003cp\u003e이 PEP는 여러 유사한 제안을 고려했지만, 주로 \"근거(Rationale)\" 섹션의 경우별 분석에서 동작을 보존하기 위해 기각하거나 연기했습니다.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003e마커 파일 위치:\u003c/strong\u003e \u003ccode\u003esys.path\u003c/code\u003e에 마커 파일을 두어 특정 디렉토리를 쓰지 못하도록 표시하는 것은 호환되지 않는 설치 문제를 해결하지 못합니다. 또한, \u003ccode\u003esysconfig\u003c/code\u003e 스키마의 새 속성으로 만드는 것은 재정의하기 어렵습니다. \u003ccode\u003e/etc\u003c/code\u003e에 두는 것은 특정 Python 설치와 관련이 없어 부적절합니다. \u003ccode\u003epip.conf\u003c/code\u003e나 \u003ccode\u003edistutils.cfg\u003c/code\u003e에 두는 것은 이 메커니즘이 특정 도구에 국한되지 않기 때문에 적절하지 않습니다.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e파일 형식:\u003c/strong\u003e TOML 형식이 고려되었으나, 표준 라이브러리에 구현이 없고 현재 \u003ccode\u003econfigparser\u003c/code\u003e가 이미 다른 패키징 메타데이터에 사용되고 만족스러우므로 INI 형식이 선택되었습니다.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e쉐도잉 방지:\u003c/strong\u003e 외부 패키지 관리자가 설치한 패키지를 쉐도잉하는 것을 기본적으로 허용하지 않는 방안도 고려되었으나, 이는 추가적인 사용자 경험 복잡성을 야기하고 합법적인 쉐도잉 사용 사례가 존재하기 때문에 기각되었습니다. 대신 쉐도잉 시 경고를 출력하는 것이 권장됩니다.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e\u003ccode\u003eINSTALLER\u003c/code\u003e 파일 사용:\u003c/strong\u003e PEP 376의 \u003ccode\u003eINSTALLER\u003c/code\u003e 파일은 특정 패키지에 국한되며, 전체 환경에 대한 정보를 제공하지 않으므로 사용되지 않습니다.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e가상 환경 내 설치 비활성화:\u003c/strong\u003e 가상 환경 내에서 패키지 설치를 비활성화할 특별한 강력한 사용 사례가 없다고 판단되어 포함되지 않았습니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4\u003e시스템 Python (System Python)\u003c/h4\u003e\n\u003cp\u003e배포판 소프트웨어가 \u003ccode\u003esys.path\u003c/code\u003e에 배포판 \u003ccode\u003esite-packages\u003c/code\u003e 디렉토리만 포함하고 로컬 관리자나 사용자별 \u003ccode\u003esite-packages\u003c/code\u003e를 무시하는 \"시스템 Python\" 또는 \"플랫폼 Python\" 개념이 논의되었지만, 이는 하위 호환성 문제가 있고 구현이 훨씬 복잡하여 이 PEP의 범위를 벗어납니다. 이 PEP는 \"시스템 Python\"과 같은 제안과 독립적이며, 더 대상 지향적이고 최소한의 변경을 통해 시스템 소프트웨어 손상 위험을 줄이는 것을 목표로 합니다.\u003c/p\u003e\n\u003ch3\u003e구현 노트 (Implementation Notes)\u003c/h3\u003e\n\u003cp\u003e이 섹션은 비규범적이며 사양 및 잠재적 구현에 관련된 참고 사항을 포함합니다.\u003c/p\u003e\n\u003cp\u003e현재 \u003ccode\u003epip\u003c/code\u003e는 대상 \u003ccode\u003esysconfig\u003c/code\u003e 스키마를 직접 선택하는 방법을 노출하지 않지만, 설치 시 스키마를 찾는 세 가지 방식이 있습니다.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003epip install\u003c/code\u003e: \u003ccode\u003esysconfig.get_default_scheme()\u003c/code\u003e를 호출합니다.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003epip install --prefix=/some/path\u003c/code\u003e: \u003ccode\u003esysconfig.get_preferred_scheme('prefix')\u003c/code\u003e를 호출합니다.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003epip install --user\u003c/code\u003e: \u003ccode\u003esysconfig.get_preferred_scheme('user')\u003c/code\u003e를 호출합니다.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003epip install --target=/some/path\u003c/code\u003e: 어떤 스키마도 찾지 않고 \u003ccode\u003e/some/path\u003c/code\u003e에 직접 씁니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003eis_virtual_environment\u003c/code\u003e의 구현 및 \u003ccode\u003eEXTERNALLY-MANAGED\u003c/code\u003e 파일을 로드하고 오류 메시지를 찾는 로직은 구현을 중앙 집중화하기 위해 표준 라이브러리(\u003ccode\u003esys\u003c/code\u003e 및 \u003ccode\u003esysconfig\u003c/code\u003e)에 추가될 수 있습니다.\u003c/p\u003e\n\u003ch3\u003e참고 자료 (References)\u003c/h3\u003e\n\u003cp\u003e이 문제들과 이전 해결 시도에 대한 추가 배경 정보는 Debian 버그 771794 (2014년), Fedora의 2018년 기사 \"Making sudo pip safe\", pip 이슈 5605, 5722 (2018년), 그리고 PyCon US 2019 이후 논의 스레드 \"Playing nice with external package managers\"를 참조하십시오.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://pip.pypa.io/en/stable/\"\u003epip 공식 문서\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://setuptools.readthedocs.io/en/latest/deprecated/easy_install.html\"\u003esetuptools easy_install 문서\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://conda.io\"\u003eConda 공식 웹사이트\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e저작권 (Copyright)\u003c/h3\u003e\n\u003cp\u003e이 문서는 퍼블릭 도메인 또는 CC0-1.0-Universal 라이선스 중 더 관대한 조건에 따라 배포됩니다.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e⚠️ \u003cstrong\u003e알림:\u003c/strong\u003e 이 문서는 AI를 활용하여 번역되었으며, 기술적 정확성을 보장하지 않습니다. 정확한 내용은 반드시 원문을 확인하시기 바랍니다.\u003c/p\u003e\n\u003c/blockquote\u003e\n"])</script><script>self.__next_f.push([1,"5:[\"$\",\"div\",null,{\"className\":\"flex flex-col lg:flex-row gap-8\",\"children\":[[\"$\",\"aside\",null,{\"className\":\"lg:w-64 xl:w-72 order-1 lg:order-none\",\"children\":[\"$\",\"div\",null,{\"className\":\"sidebar sticky\",\"children\":[\"$\",\"nav\",null,{\"className\":\"space-y-4\",\"children\":[[\"$\",\"div\",\"Backend\",{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-medium text-gray-900 mb-2\",\"children\":\"Backend\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1 ml-4\",\"children\":[[\"$\",\"li\",\"Django\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/backend/django/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Django\",\" (\",6,\")\"]}]}],[\"$\",\"li\",\"Logging\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/backend/logging/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Logging\",\" (\",1,\")\"]}]}]]}]]}],[\"$\",\"div\",\"Python\",{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-medium text-gray-900 mb-2\",\"children\":\"Python\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1 ml-4\",\"children\":[[\"$\",\"li\",\"PEP\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/python/pep/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"PEP\",\" (\",650,\")\"]}]}]]}]]}],[\"$\",\"div\",\"AI/ML\",{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-medium text-gray-900 mb-2\",\"children\":\"AI/ML\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1 ml-4\",\"children\":[[\"$\",\"li\",\"LLM\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/ai/llm/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"LLM\",\" (\",1,\")\"]}]}],[\"$\",\"li\",\"Review\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/ai/review/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Review\",\" (\",1847,\")\"]}]}]]}]]}],[\"$\",\"div\",\"DevOps\",{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-medium text-gray-900 mb-2\",\"children\":\"DevOps\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1 ml-4\",\"children\":[[\"$\",\"li\",\"Nginx\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/devops/nginx/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Nginx\",\" (\",1,\")\"]}]}],[\"$\",\"li\",\"Docker\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/devops/docker/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Docker\",\" (\",1,\")\"]}]}],[\"$\",\"li\",\"SafeLine\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/devops/safeline/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"SafeLine\",\" (\",1,\")\"]}]}],[\"$\",\"li\",\"Jenkins\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/devops/jenkins/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Jenkins\",\" (\",3,\")\"]}]}],[\"$\",\"li\",\"GitHub Actions\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/devops/github-actions/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"GitHub Actions\",\" (\",1,\")\"]}]}],[\"$\",\"li\",\"AWS\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/devops/aws/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"AWS\",\" (\",1,\")\"]}]}]]}]]}],[\"$\",\"div\",\"etc\",{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-medium text-gray-900 mb-2\",\"children\":\"etc\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1 ml-4\",\"children\":[[\"$\",\"li\",\"Me\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/etc/me/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Me\",\" (\",3,\")\"]}]}],[\"$\",\"li\",\"Chrome Extension\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/etc/chrome-extension/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Chrome Extension\",\" (\",1,\")\"]}]}]]}]]}]]}]}]}],[\"$\",\"main\",null,{\"className\":\"flex-1\",\"children\":[\"$\",\"article\",null,{\"className\":\"page\",\"children\":[[\"$\",\"header\",null,{\"className\":\"mb-8\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"page__title\",\"children\":\"[Accepted] PEP 668 - Marking Python base environments as “externally managed”\"}],[\"$\",\"div\",null,{\"className\":\"page__meta\",\"children\":[[\"$\",\"time\",null,{\"dateTime\":\"2025-09-27 10:04:11+0900\",\"children\":\"2025년 9월 27일\"}],[\"$\",\"span\",null,{\"className\":\"ml-4\",\"children\":[\"수정: \",\"2025년 9월 27일\"]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"page__content\",\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$e\"}}]}],[\"$\",\"footer\",null,{\"className\":\"page__meta mt-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"page__taxonomy\",\"children\":[[\"$\",\"h4\",null,{\"className\":\"text-sm font-medium text-gray-900 mb-2\",\"children\":\"태그\"}],[[\"$\",\"span\",\"Python\",{\"className\":\"page__taxonomy-item\",\"children\":[\"#\",\"Python\"]}],[\"$\",\"span\",\"PEP\",{\"className\":\"page__taxonomy-item\",\"children\":[\"#\",\"PEP\"]}],[\"$\",\"span\",\"Translation\",{\"className\":\"page__taxonomy-item\",\"children\":[\"#\",\"Translation\"]}]]]}]}],[\"$\",\"section\",null,{\"className\":\"mt-12 border-t border-gray-200 pt-8\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-base font-semibold text-gray-900 mb-4\",\"children\":[\"Python\",\" 의 다른글\"]}],[\"$\",\"ul\",null,{\"className\":\"space-y-2 text-sm\",\"children\":[[\"$\",\"li\",null,{\"className\":\"text-gray-500\",\"children\":[\"이전글\",\" \",[\"$\",\"$La\",null,{\"href\":\"/python/pep/667/\",\"className\":\"text-gray-500 hover:text-gray-700 underline decoration-dotted underline-offset-4\",\"children\":\"[Final] PEP 667 - Consistent views of namespaces\"}]]}],[\"$\",\"li\",null,{\"className\":\"text-gray-900 font-semibold\",\"children\":[\"현재글 : \",\"[Accepted] PEP 668 - Marking Python base environments as “externally managed”\"]}],[\"$\",\"li\",null,{\"className\":\"text-gray-500\",\"children\":[\"다음글\",\" \",[\"$\",\"$La\",null,{\"href\":\"/python/pep/669/\",\"className\":\"text-gray-500 hover:text-gray-700 underline decoration-dotted underline-offset-4\",\"children\":\"[Final] PEP 669 - Low Impact Monitoring for CPython\"}]]}]]}]]}]]}]}]]}]\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"secrett2633's blog\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"기술 블로그 - Django, Python, DevOps, AI/ML 관련 포스트\"}],[\"$\",\"meta\",\"4\",{\"name\":\"author\",\"content\":\"secrett2633\"}],[\"$\",\"meta\",\"5\",{\"name\":\"keywords\",\"content\":\"Django, Python, DevOps, AI, ML, 블로그, 기술\"}],[\"$\",\"meta\",\"6\",{\"name\":\"creator\",\"content\":\"secrett2633\"}],[\"$\",\"meta\",\"7\",{\"name\":\"publisher\",\"content\":\"secrett2633\"}],[\"$\",\"meta\",\"8\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"9\",{\"name\":\"googlebot\",\"content\":\"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1\"}],[\"$\",\"link\",\"10\",{\"rel\":\"canonical\",\"href\":\"https://blog.secrett2633.site/\"}],[\"$\",\"meta\",\"11\",{\"name\":\"format-detection\",\"content\":\"telephone=no, address=no, email=no\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:title\",\"content\":\"secrett2633's blog\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:description\",\"content\":\"기술 블로그 - Django, Python, DevOps, AI/ML 관련 포스트\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:url\",\"content\":\"https://blog.secrett2633.site/\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:site_name\",\"content\":\"secrett2633's blog\"}],[\"$\",\"meta\",\"16\",{\"property\":\"og:locale\",\"content\":\"ko_KR\"}],[\"$\",\"meta\",\"17\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:title\",\"content\":\"secrett2633's blog\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:description\",\"content\":\"기술 블로그 - Django, Python, DevOps, AI/ML 관련 포스트\"}],[\"$\",\"link\",\"21\",{\"rel\":\"icon\",\"href\":\"/icon.ico?6d9f34d4948640b8\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"meta\",\"22\",{\"name\":\"next-size-adjust\"}]]\n4:null\n"])</script></body></html>