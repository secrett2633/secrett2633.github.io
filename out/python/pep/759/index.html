<!DOCTYPE html><html lang="ko" class="no-js"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/773b243a13a00265.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-90b03762f46d1ba4.js"/><script src="/_next/static/chunks/fd9d1056-4e1a26e2d413ba3c.js" async=""></script><script src="/_next/static/chunks/23-e8ded9e1e67d56dc.js" async=""></script><script src="/_next/static/chunks/main-app-6087bc228fd56b83.js" async=""></script><script src="/_next/static/chunks/231-c27e618569e042bc.js" async=""></script><script src="/_next/static/chunks/app/layout-29f3b81c3a382114.js" async=""></script><script src="/_next/static/chunks/app/%5B...slug%5D/page-d9dbb0d3ac265797.js" async=""></script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-NE2W3CFPNY"></script><title>secrett2633&#x27;s blog</title><meta name="description" content="기술 블로그 - Django, Python, DevOps, AI/ML 관련 포스트"/><meta name="author" content="secrett2633"/><meta name="keywords" content="Django, Python, DevOps, AI, ML, 블로그, 기술"/><meta name="creator" content="secrett2633"/><meta name="publisher" content="secrett2633"/><meta name="robots" content="index, follow"/><meta name="googlebot" content="index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"/><link rel="canonical" href="https://blog.secrett2633.cloud/"/><meta name="format-detection" content="telephone=no, address=no, email=no"/><meta property="og:title" content="secrett2633&#x27;s blog"/><meta property="og:description" content="기술 블로그 - Django, Python, DevOps, AI/ML 관련 포스트"/><meta property="og:url" content="https://blog.secrett2633.cloud/"/><meta property="og:site_name" content="secrett2633&#x27;s blog"/><meta property="og:locale" content="ko_KR"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="secrett2633&#x27;s blog"/><meta name="twitter:description" content="기술 블로그 - Django, Python, DevOps, AI/ML 관련 포스트"/><link rel="icon" href="/icon.ico?6d9f34d4948640b8" type="image/x-icon" sizes="16x16"/><meta name="next-size-adjust"/><meta name="msapplication-TileColor" content="#ffc40d"/><meta name="theme-color" content="#ffffff"/><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments);}
              gtag('js', new Date());
              gtag('config', 'G-NE2W3CFPNY');
            </script><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_f367f3 layout--default"><div class="min-h-screen bg-gray-50"><div class="masthead"><div class="masthead__inner-wrap"><div class="masthead__menu"><nav id="site-nav" class="greedy-nav"><a class="site-title" href="/">secrett2633&#x27;s blog</a><div class="flex items-center space-x-4"><ul class="visible-links"><li class="masthead__menu-item"><a href="https://github.com/secrett2633" target="_blank" rel="noopener noreferrer">GitHub</a></li></ul><button class="search__toggle" type="button"><svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16"><path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path></svg></button></div></nav></div></div></div><main class="initial-content"><!--$--><div class="flex flex-col lg:flex-row gap-8"><aside class="lg:w-64 xl:w-72 order-1 lg:order-none"><div class="sidebar sticky"><nav class="space-y-4"><div><h4 class="font-medium text-gray-900 mb-2">Backend</h4><ul class="space-y-1 ml-4"><li><a href="/backend/django/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Django<!-- --> (<!-- -->6<!-- -->)</a></li><li><a href="/backend/logging/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Logging<!-- --> (<!-- -->1<!-- -->)</a></li></ul></div><div><h4 class="font-medium text-gray-900 mb-2">Python</h4><ul class="space-y-1 ml-4"><li><a href="/python/pep/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">PEP<!-- --> (<!-- -->650<!-- -->)</a></li></ul></div><div><h4 class="font-medium text-gray-900 mb-2">AI/ML</h4><ul class="space-y-1 ml-4"><li><a href="/ai/llm/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">LLM<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/ai/review/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Review<!-- --> (<!-- -->2279<!-- -->)</a></li></ul></div><div><h4 class="font-medium text-gray-900 mb-2">DevOps</h4><ul class="space-y-1 ml-4"><li><a href="/devops/nginx/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Nginx<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/devops/docker/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Docker<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/devops/safeline/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">SafeLine<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/devops/jenkins/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Jenkins<!-- --> (<!-- -->3<!-- -->)</a></li><li><a href="/devops/github-actions/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">GitHub Actions<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/devops/aws/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">AWS<!-- --> (<!-- -->1<!-- -->)</a></li></ul></div><div><h4 class="font-medium text-gray-900 mb-2">etc</h4><ul class="space-y-1 ml-4"><li><a href="/etc/me/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Me<!-- --> (<!-- -->3<!-- -->)</a></li><li><a href="/etc/chrome-extension/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Chrome Extension<!-- --> (<!-- -->1<!-- -->)</a></li></ul></div></nav></div></aside><main class="flex-1"><article class="page"><header class="mb-8"><h1 class="page__title">[Withdrawn] PEP 759 - External Wheel Hosting</h1><div class="page__meta"><time dateTime="2025-09-27 13:43:53+0900">2025년 9월 27일</time><span class="ml-4">수정: <!-- -->2025년 9월 27일</span></div></header><div class="page__content"><div><blockquote>
<p><strong>원문 링크:</strong> <a href="https://peps.python.org/pep-0759/">PEP 759 - External Wheel Hosting</a></p>
<p><strong>상태:</strong> Withdrawn | <strong>유형:</strong> Standards Track | <strong>작성일:</strong> 01-Oct-2024</p>
</blockquote>
<p>PEP 759 – External Wheel Hosting (외부 휠 호스팅)</p>
<p><strong>작성자:</strong> Barry Warsaw, Emma Harper Smith
<strong>PEP 위임자:</strong> Donald Stufft
<strong>논의:</strong> Discourse 스레드
<strong>상태:</strong> 철회됨 (Withdrawn)
<strong>유형:</strong> 표준 트랙 (Standards Track)
<strong>주제:</strong> 패키징 (Packaging)
<strong>생성일:</strong> 2024년 10월 1일
<strong>해결일:</strong> 2025년 1월 31일</p>
<hr>
<h2>초록 (Abstract)</h2>
<p>이 PEP는 pypi.org에 호스팅된 프로젝트가 PyPI가 아닌 외부 사이트에 휠(wheel) 아티팩트를 안전하게 호스팅할 수 있는 메커니즘을 제안했습니다. 이 PEP는 프로젝트, 패키지 또는 해당 메타데이터의 외부 호스팅을 명시적으로 제안하지 않았습니다. 해당 기능은 독립적인 패키지 인덱스를 외부에서 호스팅함으로써 이미 사용할 수 있습니다. 이 PEP는 프로젝트가 특정 릴리스된 휠 아티팩트의 다운로드 URL을 사용자 정의할 수 있는 메커니즘만을 제공하므로, <code>pip</code> 및 <code>uv</code>와 같은 일반적인 설치 도구에 의해 이미 구현된 의존성 해결은 변경할 필요가 없습니다.</p>
<p>이 PEP는 이 맥락에서 "안전하다"는 것이 무엇을 의미하는지, 그리고 <code>.rim</code> 파일이라고 불리는 새로운 패키지 업로드 파일 형식을 정의합니다. 또한 <code>.rim</code> 파일이 HTML 및 JSON 형식 모두에서 패키지의 Simple Repository API에 대해 반환되는 메타데이터에 어떤 영향을 미치는지, 그리고 기존의 휠을 <code>.rim</code> 파일로 쉽게 변환하는 방법을 정의했습니다.</p>
<hr>
<h2>PEP 철회 (PEP withdrawn)</h2>
<p>이 PEP는 2025년 1월 31일에 작성자들에 의해 철회되었습니다. 논의 스레드에서 나타난 의견에 따르면, 이 PEP가 해결하려던 문제들은 유효하지만, 대부분의 사람들은 다른 접근 방식을 선호했습니다. 특히, 대부분의 사용자들은 여러 인덱스를 지정하는 기능, 이러한 인덱스들이 어떻게 상호 운용되는지, 그리고 인덱스에 대한 우선순위 및 신뢰 주장(trust assertions)에 대해 더 많은 제어권을 선호하는 것으로 파악되었습니다. 예를 들어, PEP 766과 같은 해결책이 더 나은 방향을 제시할 수 있습니다. 현재의 임시방편(예: PyPI 제한 증가 요청 및 "휠 스텁" 접근 방식)은 이상적이지는 않지만, 그동안 충분하다고 판단되었습니다. 작성자들은 건설적인 논의에 기여해주신 모든 분들, 특히 공개적으로나 비공개적으로 이 PEP를 지지해주신 분들께 감사를 표했습니다.</p>
<hr>
<h2>근거 (Rationale)</h2>
<h3>PyPI 제한 문제 해결 (Addressing PyPI limits)</h3>
<p><code>https://pypi.org</code>에 호스팅된 Python Package Index는 업로드 아티팩트 파일 크기(100MiB) 및 총 프로젝트 크기(10GiB)에 기본 제한을 부과합니다. 대부분의 프로젝트는 수년간의 업로드를 통해 이러한 제한 내에서 편안하게 작업할 수 있습니다. 그러나 일부 프로젝트는 이러한 제한에 도달하여 파일 크기 및 프로젝트 크기 예외를 부여받았으며, 소비자가 여전히 사용하고 있을 수 있는 파일(예: 버전 고정을 통해)을 제거하는 것과 같은 더 과감한 조치를 취하지 않고도 새 릴리스를 계속 업로드할 수 있었습니다.</p>
<p>관련된 해결책으로 "휠 스텁(wheel stub)" 접근 방식이 있습니다. 이는 PyPI와 외부 서드파티 패키지 인덱스 간의 간접적인 링크를 제공하며, 이러한 제한을 피할 수 있습니다. 휠 스텁은 PEP 517 빌드 백엔드를 사용하는 소스 배포판(일명 "sdist")으로, 소스 코드를 바이너리 휠로 변환하는 대신, 외부에서 호스팅되는 기존 휠을 다운로드하고 설치하기 위한 URL을 계산하는 로직을 수행합니다. 이 접근 방식은 작동하지만, PyPI, sdist, 그리고 외부 호스팅된 휠 간의 연결을 모호하게 만듭니다. 이는 <code>pip</code> 또는 다른 유사한 도구에 이 정보를 제시할 방법이 없기 때문입니다.</p>
<h3>운영 복잡성 감소 (Reducing operational complexity)</h3>
<p>전체 패키지 인덱스를 설정하고 유지하는 것은 시간과 리소스가 많이 소요되는 복잡한 운영 솔루션이 될 수 있습니다. 이는 특히 그러한 인덱스의 주요 목적이 단지 파일 크기 제한을 피하는 것일 때 더욱 그러합니다. 외부 인덱스 접근 방식은 또한 외부 인덱스의 프로젝트 소비자에게 까다로운 사용자 경험(UX)을 부과하여, <code>--external-index-url</code>과 같은 CLI 옵션이 어떻게 작동하는지, 그리고 그러한 플래그의 보안 영향을 이해하도록 요구합니다.</p>
<p>대용량 휠 패키지의 생산자와 소비자 모두에게는 HTTP GET보다 복잡한 API 없이 개별 파일을 제공할 수 있는 간단한 웹 서버를 설정하고 유지하는 것이 훨씬 쉬울 것입니다. 이러한 인터페이스는 캐싱하기 쉽거나 CDN 뒤에 배치하기 쉽습니다. 간단한 HTTP 서버는 보안 목적으로 감사하기 훨씬 쉽고, 프록시하기 쉬우며, 일반적으로 실행, 지원 및 유지 관리에 훨씬 적은 리소스가 필요합니다. 심지어 Amazon S3와 같은 서비스도 외부 휠을 호스팅하는 데 사용될 수 있습니다.</p>
<p>이 PEP는 이러한 운영상의 단순성을 선호하는 접근 방식을 제안했습니다.</p>
<h3>다중 인덱스의 문제점 (The problem with multiple indexes)</h3>
<p>PEP 470은 명시적인 여러 저장소(repository) 사용을 장려했습니다. 이는 <code>pip install --extra-index-url</code>과 같은 설치 도구 지원을 통해 <code>pip</code>이 여러 저장소를 패키지 설치 해결을 위한 단일 전역 저장소로 취급할 수 있도록 합니다. 이는 오랫동안 권장되는 표준이었으므로, 모든 Python 패키지 설치 도구는 의존성 해결을 위해 여러 인덱스를 쿼리하는 것을 지원합니다.</p>
<p>그러나 여러 인덱스를 통합할 때 발생하는 잘 알려진 문제 중 하나는 의존성 혼란 공격(dependency confusion attacks)입니다. Python은 <code>pip install</code>이 패키지 의존성과 선호 버전을 해결하는 데 사용하는 알고리즘 때문에 특히 취약할 수 있습니다. <code>uv</code> 도구는 추가 인덱스 전략 옵션을 지원하여 이러한 문제를 해결합니다. 이를 통해 사용자는 <code>pip</code> 호환 전략과 이러한 의존성 혼란 공격을 방지하는 더 제한적인 전략 중에서 선택할 수 있습니다.</p>
<p>PEP 708은 의존성 혼란 공격에 대한 추가 배경 정보를 제공하며, 이를 방지하기 위한 다른 접근 방식을 취합니다. PEP 708은 저장소 소유자가 프로젝트가 다른 저장소 간에 추적됨을 나타낼 수 있도록 하여, 설치 프로그램이 여러 저장소를 결합할 때 전역 패키지 네임스페이스를 처리하는 방법을 결정할 수 있도록 합니다. PEP 708은 잠정적으로 수락되었지만, PEP 708에 명시된 여러 필수 조건이 충족되어야 하며, 그중 일부는 불확실한 미래를 가질 수 있습니다. PEP 708 자체에서 언급했듯이, 이것만으로는 의존성 혼란 공격을 해결할 수 없지만, 설치 프로그램이 이러한 공격을 최소화하는 데 도움이 될 충분한 정보를 제공하는 한 가지 방법입니다.</p>
<hr>
<h2>사양 (Specification)</h2>
<p><code>.rim</code> (Remote Installable Metadata) 파일이라고 불리는 새로운 유형의 업로드 가능한 파일이 정의되었습니다. 이 이름은 타이어가 제거된 휠의 이미지를 연상시키며, <code>.rim</code> 파일이 <code>.whl</code> 파일에서 쉽게 파생될 수 있음을 강조합니다. <code>.whl</code> 파일을 <code>.rim</code>으로 변환하는 과정은 아래에 설명되어 있습니다. 파일 이름 형식은 휠 파일 이름 지정 사양과 정확히 일치하지만, <code>.rim</code> 파일은 <code>.rim</code> 접미사를 사용합니다. 이는 <code>.whl</code> 파일을 구별하는 데 사용되는 모든 태그가 다른 <code>.rim</code> 파일도 구별하며, 따라서 현재 <code>.whl</code> 파일과 마찬가지로 의존성 해결 단계에서 사용될 수 있음을 의미합니다. 이 점에서 <code>.whl</code>과 <code>.rim</code> 파일은 상호 교환이 가능합니다.</p>
<p><code>.rim</code> 파일의 내용은 <code>.whl</code> 파일과 거의 동일하지만, <code>.rim</code> 파일은 휠에서 <code>.dist-info</code> 디렉토리만을 포함해야 합니다. <code>.rim</code> zip 파일에는 다른 최상위 파일이나 디렉토리가 허용되지 않습니다. <code>.dist-info</code> 디렉토리에는 <code>.whl</code> 파일의 <code>.dist-info</code> 디렉토리에서 허용되는 파일 외에 <code>EXTERNAL-HOSTING.json</code>이라는 단일 추가 파일이 포함되어야 합니다.</p>
<p>이 JSON 파일에는 다음 키가 포함됩니다.</p>
<ul>
<li><code>version</code>: 파일 형식 버전으로, 이 PEP에서는 <code>1.0</code>이어야 합니다.</li>
<li><code>owner</code>: 이 외부 호스팅 파일의 PyPI 조직 소유자를 명시해야 합니다.</li>
<li><code>uri</code>: 외부 사이트에 호스팅된 실제 <code>.whl</code> 파일의 위치를 나타내는 단일 URL입니다. 이 URL은 <code>https</code> 스키마를 사용해야 합니다.</li>
<li><code>size</code>: 원격 호스트에 있는 실제 <code>.whl</code> 파일의 크기(바이트 단위)를 나타내는 정수 값입니다.</li>
<li><code>hashes</code>: PEP 694에 설명된 형식의 딕셔너리로, 해당 PEP에서 제안된 것과 동일한 제약 조건으로 실제 <code>.whl</code> 파일의 해시를 캡처하는 데 사용됩니다. 이러한 해시는 PyPI에 업로드되면 변경할 수 없으므로, 외부 호스팅된 휠이 손상되거나 침해되지 않았다는 중요한 유효성 검사 역할을 합니다.</li>
</ul>
<h3>RIM 파일의 영향 (Effects of the RIM file)</h3>
<p><code>.rim</code> 파일의 유일한 영향은 단순 저장소 API의 HTML 및 JSON 인터페이스 모두에서 휠 아티팩트의 다운로드 URL을 변경하는 것입니다. 패키지 릴리스의 HTML 페이지에서 <code>href</code> 속성은 <code>uri</code> 키의 값이어야 하며, <code>#&#x3C;hashname>=&#x3C;hashvalue></code> 프래그먼트를 포함해야 합니다. 이 해시 프래그먼트는 <code>.dist-info/RECORD</code> 파일에 있는 PEP 376에서 유래한 서명된 휠 파일 형식에 설명된 것과 정확히 동일한 형식이어야 합니다. 해시 알고리즘 및 인코딩 선택에 대한 정확히 동일한 규칙이 여기에서도 사용됩니다.</p>
<p>마찬가지로 JSON 응답에서 다운로드 파일을 가리키는 <code>url</code> 키는 <code>uri</code> 키의 값이어야 하며, <code>hashes</code> 딕셔너리는 위에 제공된 <code>hashes</code> 딕셔너리의 값으로 채워져 포함되어야 합니다.</p>
<p>다른 모든 면에서, 준수하는 패키지 인덱스는 아래에 설명된 몇 가지 사소한 예외를 제외하고는 <code>.rim</code> 파일을 <code>.whl</code> 파일과 동일하게 처리해야 합니다. 예를 들어, <code>.rim</code> 파일은 <code>.whl</code> 파일과 마찬가지로 동일한 의미(즉, 삭제는 영구적)로 삭제 및 인출(yanked, PEP 592)될 수 있습니다. <code>.rim</code>이 삭제되면 인덱스는 일치하는 <code>.whl</code> 또는 <code>.rim</code> 파일의 (재)업로드를 허용해서는 안 됩니다.</p>
<h3>가용성 순서 (Availability order)</h3>
<p>외부 호스팅된 휠은 해당 <code>.rim</code> 파일이 PyPI에 업로드되기 전에 사용할 수 있어야 합니다. 그렇지 않으면 게시 경합 조건(publishing race condition)이 발생할 수 있습니다. 단, PEP 694 스테이징 릴리스에 업로드되는 <code>.rim</code> 파일의 경우 이 요구 사항이 완화될 수 있습니다.</p>
<h3>휠이 RIM을 재정의할 수 있음 (Wheels can override RIMs)</h3>
<p>인덱스는 정확히 동일한 파일 이름 태그를 가진 일치하는 <code>.whl</code> 파일이 이미 존재하는 경우 <code>.rim</code> 파일을 거부해야 합니다. 그러나 인덱스는 일치하는 <code>.rim</code> 파일이 존재하는 경우 <code>.whl</code> 파일을 허용할 수 있습니다. 단, 해당 <code>.rim</code> 파일이 삭제되거나 인출되지 않았어야 합니다. 이는 업로더가 외부 호스팅된 휠 파일을 인덱스 호스팅된 휠 파일로 교체할 수 있도록 하지만, 그 반대는 금지됩니다. 기본적으로 휠은 패키지 메타데이터를 포함하는 동일한 패키지 인덱스에 호스팅되므로, 한 번 업로드된 기존 휠 파일을 "다운그레이드"하는 것은 허용되지 않습니다. <code>.whl</code>이 <code>.rim</code>을 대체할 때, 인덱스는 자체 호스팅 파일 서비스를 사용하여 패키지에 대한 다운로드 URL을 제공해야 합니다. 재정의하는 <code>.whl</code> 파일을 업로드할 때, 패키지 인덱스는 기존 <code>.rim</code> 파일의 해시를 검증해야 하며, 이러한 해시가 일치하지 않으면 재정의 업로드는 거부되어야 합니다.</p>
<h3>PyPI API 버전 업 불필요 (PyPI API bump unnecessary)</h3>
<p>변경 사항은 PyPI 저장소 버전의 변경이 필요 없을 정도로 이전 버전과 충분히 호환될 가능성이 높습니다. <code>.rim</code> 파일은 기본적으로 업로드 API에 대한 변경 사항일 뿐이므로, 패키지 리졸버 및 패키지 설치 프로그램은 항상 지원해온 API로 계속 기능할 수 있습니다.</p>
<h3>외부 호스팅 탄력성 (External hosting resiliency)</h3>
<p>PEP 438이 PEP 470에서 취소된 주요 우려 사항 중 하나는 외부 인덱스가 사라질 때 발생할 수 있는 사용자 혼란이었습니다. PEP 470에 따르면:</p>
<blockquote>
<p>이러한 혼란은 프로젝트의 최종 사용자가 프로젝트가 PyPI에 호스팅되어 있는지 또는 외부 서비스에 의존하는지 인지하지 못하는 데서 비롯됩니다. 이는 종종 외부 서비스가 다운되었지만 PyPI는 그렇지 않은 경우에 발생합니다. 사람들은 PyPI가 작동하고 다른 프로젝트는 작동하지만 이 특정 프로젝트는 작동하지 않는 것을 보게 됩니다. 그들은 종종 이것을 해결하기 위해 누구에게 연락해야 하는지 또는 어떤 조치 단계를 취해야 하는지 깨닫지 못합니다.</p>
</blockquote>
<p>외부 휠 호스팅 서비스가 다운되는 문제는 이 PEP에서 직접 해결되지는 않지만, PyPI 관리자에게 잠재적인 부담을 크게 줄이기 위한 여러 보호 장치가 마련되어 있습니다.</p>
<p>따라서 이 PEP는 다음을 제안합니다.</p>
<ul>
<li>외부 휠 호스팅은 조직 계정이 소유한 패키지에만 허용됩니다.</li>
<li>외부 호스팅은 조직 전체 설정입니다.</li>
<li>조직 계정은 외부 휠을 호스팅할 수 있는 기능을 자동으로 얻지 못합니다. 이 기능은 PyPI 관리자의 재량에 따라 명시적으로 활성화되어야 합니다.</li>
<li>이러한 요청은 흔하지 않을 것이므로, PEP 541 해결, 계정 복구 요청 또는 파일/프로젝트 크기 증가 요청만큼 부담이 크지 않을 것으로 예상됩니다. 외부 호스팅 요청은 이러한 요청과 동일한 방식으로, 즉 PyPI GitHub 지원 트래커를 통해 처리됩니다.</li>
<li>외부 휠 호스팅을 요청하는 조직 계정은 메일 주소의 <code>mailto</code> URI이든 조직의 지원 트래커 URL이든 자체 지원 연락처 URI를 등록해야 합니다. 외부 휠 파일 호스팅을 이용하지 않는 조직의 경우 이러한 연락처 URI는 선택 사항입니다.</li>
</ul>
<p><code>EXTERNAL-HOSTING.json</code> 파일의 <code>owner</code> 키와 결합하여, 이는 설치 도구가 다운로드 오류를 PyPI 지원 관리자로부터 명확하게 조직의 지원 관리자에게 리디렉션할 수 있도록 합니다.</p>
<p>이 조직 지원 URL을 저장하고 검색하는 정확한 메커니즘은 별도로 정의되겠지만, 예를 들어 <code>foo</code>라는 패키지가 <code>https://foo.example.com</code>에 휠 파일을 외부 호스팅하고 해당 호스트에 연결할 수 없게 되면 어떻게 되는지 살펴봅니다. 설치 도구가 <code>foo</code> 패키지 휠을 다운로드하고 설치하려고 시도하면 다운로드 단계가 실패합니다. 그러면 설치 프로그램은 PyPI를 쿼리하여 최종 사용자에게 유용한 오류 메시지를 제공할 수 있습니다.</p>
<p>설치 프로그램은 <code>.rim</code> 파일을 다운로드하고 <code>.rim</code> zip 파일 내의 <code>EXTERNAL-HOSTING.json</code> 파일에서 <code>owner</code> 키를 읽습니다. 설치 프로그램은 외부 호스팅된 휠의 조직 소유자에 대한 지원 URI를 PyPI에 쿼리합니다. 그러면 다음과 같은 정보성 오류 메시지가 표시됩니다.</p>
<blockquote>
<p>The externally hosted wheel file foo-....whl could not be downloaded. Please contact support@foo.example.com for help. Do not report this to the PyPI administrators.
(외부 호스팅된 휠 파일 foo-....whl을 다운로드할 수 없습니다. 도움을 받으려면 support@foo.example.com으로 연락하십시오. PyPI 관리자에게 보고하지 마십시오.)</p>
</blockquote>
<h3>휠 분리 (Dismounting wheels)</h3>
<p>기존 <code>.whl</code> 파일에서 <code>.rim</code> 파일을 생성하는 것은 일반적으로 매우 쉽습니다. 이는 추가 명령줄 옵션이 있는 PEP 518 빌드 백엔드 또는 <code>.whl</code> 파일을 입력으로 받아 관련 <code>.rim</code> 파일을 생성하는 별도의 도구에 의해 효율적으로 수행될 수 있습니다. 비유를 완성하기 위해 <code>.whl</code>을 <code>.rim</code>으로 변환하는 행위를 "분리(dismounting)"라고 부릅니다. 그러한 도구가 취할 단계는 다음과 같습니다.</p>
<ul>
<li>입력으로 원본 <code>.whl</code> 파일, 패키지의 조직 소유자, <code>.whl</code>이 호스팅될 URL, 다운로드 문제 보고를 위한 지원 URI를 받습니다. 이러한 정보는 <code>pyproject.toml</code> 파일에 캡처될 수도 있지만, 해당 사양은 이 PEP의 범위를 벗어납니다.</li>
<li><code>.whl</code>의 압축을 풀고 <code>.rim</code> zip 아카이브를 생성합니다.</li>
<li><code>.dist-info</code> 디렉토리에 없는 <code>.whl</code>의 모든 경로를 <code>.rim</code> 파일에서 생략합니다.</li>
<li>원본 <code>.whl</code> 파일의 해시를 계산합니다.</li>
<li>위에 설명된 JSON 키와 값을 포함하는 <code>EXTERNAL-HOSTING.json</code> 파일을 <code>.rim</code> 아카이브에 추가합니다.</li>
</ul>
<h3>도구 변경 사항 (Changes to tools)</h3>
<p>이론적으로 설치 도구는 어떤 변경도 필요하지 않습니다. 다운로드하고 설치할 휠을 식별하면 PyPI의 Simple API에서 반환된 다운로드 URL을 단순히 참조하기 때문입니다. 그러나 실제로는 <code>pip</code> 및 <code>uv</code>와 같은 도구는 PyPI의 자체 <code>pythonhosted.org</code> 도메인과 같이 다운로드를 허용하는 호스트 목록이 제한적일 수 있습니다.</p>
<p>이 경우 이러한 도구는 해당 제약을 완화해야 하지만, 이에 대한 정확한 정책은 설치 도구 자체에 맡겨져 있습니다. <code>.rim</code> 파일을 다운로드하고 <code>EXTERNAL-HOSTING.json</code> 메타데이터를 확인하거나, 일치하는 체크섬이 있는 모든 휠에 대해 외부 다운로드를 단순히 신뢰하는 등 여러 접근 방식이 구현될 수 있습니다. 또한 다운로드를 신뢰하기 전에 프로젝트의 조직 소유자 및 지원 URI에 대해 PyPI를 쿼리할 수 있습니다. 외부 호스팅된 휠 파일이 발견될 때 사용자에게 경고하거나, 추가 다운로드 호스트를 활성화하기 위해 명령줄 옵션 사용을 요구할 수 있습니다. 이러한 검증 정책은 구성 파일에서 선택할 수 있습니다.</p>
<p>설치 도구는 또한 외부 호스팅된 휠을 다운로드할 수 없는 경우(예: 호스트에 연결할 수 없는 경우) 더 나은 오류 메시지를 제공해야 합니다. 위에 설명된 대로 이러한 도구는 PyPI에서 충분한 메타데이터를 쿼리하여 사용자에게 패키지의 외부 호스팅 지원 이메일 또는 문제 추적기를 안내하는 명확하고 구별되는 오류 메시지를 제공할 수 있습니다.</p>
<h3>외부 호스팅 서비스에 대한 제약 조건 (Constraints for external hosting services)</h3>
<p>다음 제약 조건은 안정적이고 호환 가능한 외부 휠 호스팅 서비스로 이어집니다.</p>
<ul>
<li>외부 휠은 Mozilla의 루트 인증서 저장소에서 서명한 인증서를 사용하여 HTTPS를 통해 제공되어야 합니다. 이는 <code>pip</code> 및 <code>uv</code>와의 호환성을 보장합니다.</li>
<li>외부 휠 호스트는 PyPI와 마찬가지로 CDN(콘텐츠 전송 네트워크)을 사용해야 합니다.</li>
<li>외부 휠 호스트는 호스팅하는 모든 휠에 대해 안정적인 URL을 약속해야 합니다.</li>
<li>외부 호스팅된 휠은 해당 <code>.rim</code> 파일이 PyPI에서 먼저 삭제되지 않는 한 외부 휠 호스트에서 제거되어서는 안 되며, 인출된 릴리스에 대한 외부 휠을 제거해서는 안 됩니다.</li>
<li>외부 휠 호스트는 HTTP 범위 요청(range requests)을 지원해야 합니다.</li>
<li>외부 휠 호스트는 HTTP/2 프로토콜을 지원해야 합니다.</li>
</ul>
<h3>보안 (Security)</h3>
<p>이 제안에 설명된 여러 요소는 외부 호스팅된 휠의 보안 우려를 완화해야 합니다.</p>
<ul>
<li>휠 파일 체크섬은 <code>.rim</code> 파일에 포함되어야 하며, 일단 업로드되면 변경할 수 없습니다. PyPI에 저장된 체크섬은 변경 불가능하고 필수적이므로, 소유 조직이 호스팅 도메인에 대한 제어권을 잃더라도 외부 휠 파일을 스푸핑하는 것은 불가능합니다.</li>
<li>외부 호스팅된 휠은 HTTPS를 통해 제공되어야 합니다.</li>
<li>외부 호스팅된 휠을 제공하려면 조직은 PyPI 관리자의 승인을 받아야 합니다.</li>
</ul>
<p>사용자가 PyPI 호스팅 프로젝트에서 맬웨어 또는 취약점을 식별하면, 이제 PyPI의 맬웨어 보고 기능을 사용하여 이를 보고할 수 있습니다. 동일한 프로세스를 사용하여 외부 호스팅된 휠의 보안 문제를 보고할 수 있으며, 동일한 해결 프로세스가 사용되어야 합니다. 또한, 외부 호스팅이 활성화된 조직은 지원 연락처 URI를 제공해야 하므로, 해당 URI는 경우에 따라 호스팅 조직에 보안 문제를 보고하는 데 사용될 수 있습니다. 이러한 조직 보고는 맬웨어에는 적합하지 않지만, 외부 호스팅된 휠의 보안 취약점을 보고하는 데 매우 유용할 수 있습니다.</p>
<hr>
<h2>거부된 아이디어 (Rejected ideas)</h2>
<p>몇 가지 아이디어가 고려되었지만 거부되었습니다.</p>
<ul>
<li><strong>외부 호스팅된 휠 파일에 대한 디지털 서명 요구:</strong> 체크섬 요구 사항만으로도 휠에 대한 PyPI의 메타데이터가 다운로드된 휠과 정확히 일치함을 검증하기에 충분하다고 판단되었습니다. 키 관리의 추가적인 복잡성은 디지털 서명이 제공할 수 있는 추가적인 이점보다 큽니다.</li>
<li><strong><code>.rim</code> 파일 업로드 시 해시 검증:</strong> PyPI는 업로드를 수락하기 전에 업로드된 <code>.rim</code> 파일의 해시가 외부 호스팅된 휠과 일치하는지 확인할 수 있지만, 이는 외부 휠을 다운로드하고 체크섬을 수행해야 하므로 외부 <code>.whl</code> 파일이 다운로드되고 검증될 때까지 <code>.rim</code> 파일의 업로드를 수락할 수 없음을 의미합니다. 이는 PyPI 대역폭을 증가시키고 업로드 쿼리를 느리게 만들지만, PEP 694 초안 업로드가 이러한 우려를 완화할 수 있습니다. 그럼에도 불구하고, 그 이점은 추가적인 복잡성만큼 가치가 없을 가능성이 높습니다.</li>
<li><strong>인덱스에 의한 다운로드 URL의 주기적 검증:</strong> PyPI는 HTTP HEAD 요청 등을 통해 외부 휠 호스트 또는 외부 <code>.whl</code> 파일 자체가 여전히 사용 가능한지 주기적으로 확인할 수 있습니다. 이는 과도할 가능성이 높으며, 응답에 파일의 체크섬을 제공하지 않는 한 많은 추가적인 이점을 제공하지 않을 수 있습니다.</li>
<li><strong>대체 다운로드 호스트 허용:</strong> 이 PEP는 조직이 대체 다운로드 호스트를 제공하여 주 호스트가 다운될 경우 보조 호스트를 사용할 수 있도록 허용할 수 있었습니다. 그러나 DNS 기반 복제가 훨씬 더 좋고 잘 알려진 기술이며, 아마도 훨씬 더 탄력적이라고 판단되었습니다.</li>
<li><strong><code>.rim</code> 파일 교체:</strong> <code>.whl</code> 파일이 기존 <code>.rim</code> 파일을 대체하는 것은 허용되지만(단, <code>.rim</code> 파일이 삭제되거나 인출되지 않았고, 체크섬이 일치하는 경우), <code>.whl</code> 파일을 <code>.rim</code> 파일로 대체하거나, <code>.rim</code> 파일이 기존 <code>.rim</code> 파일을 덮어쓰는 것은 허용되지 않습니다. 후자는 외부 호스팅된 <code>.whl</code>의 호스팅 URL을 변경하는 기술이 될 수 있지만, 이는 좋은 생각이 아니라고 판단되었습니다. 위에 설명된 대로 외부 호스트 URL을 "수정"하는 다른 방법이 있으며, 기존 <code>.rim</code> 파일의 대량 재업로드를 장려하고 싶지 않았습니다.</li>
</ul>
<blockquote>
<p>⚠️ <strong>알림:</strong> 이 문서는 AI를 활용하여 번역되었으며, 기술적 정확성을 보장하지 않습니다. 정확한 내용은 반드시 원문을 확인하시기 바랍니다.</p>
</blockquote>
</div></div><footer class="page__meta mt-8"><div class="page__taxonomy"><h4 class="text-sm font-medium text-gray-900 mb-2">태그</h4><span class="page__taxonomy-item">#<!-- -->Python</span><span class="page__taxonomy-item">#<!-- -->PEP</span><span class="page__taxonomy-item">#<!-- -->Translation</span></div></footer><section class="comments-section mt-12 pt-8 border-t border-gray-200"></section><section class="mt-12 border-t border-gray-200 pt-8"><h3 class="text-base font-semibold text-gray-900 mb-4">Python<!-- --> 의 다른글</h3><ul class="space-y-2 text-sm"><li class="text-gray-500">이전글<!-- --> <a class="text-gray-500 hover:text-gray-700 underline decoration-dotted underline-offset-4" href="/python/pep/758/">[Final] PEP 758 - Allowexceptandexcept*expressions without parentheses</a></li><li class="text-gray-900 font-semibold">현재글 : <!-- -->[Withdrawn] PEP 759 - External Wheel Hosting</li><li class="text-gray-500">다음글<!-- --> <a class="text-gray-500 hover:text-gray-700 underline decoration-dotted underline-offset-4" href="/python/pep/760/">[Withdrawn] PEP 760 - No More Bare Excepts</a></li></ul></section></article></main></div><!--/$--></main><div id="footer" class="page__footer"><footer class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><div class="text-center text-gray-500 text-sm"><p>© 2025 secrett2633. All rights reserved.</p></div></footer></div></div><script src="/_next/static/chunks/webpack-90b03762f46d1ba4.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/773b243a13a00265.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"3:I[5751,[],\"\"]\n6:I[9275,[],\"\"]\n8:I[1343,[],\"\"]\n9:I[9157,[\"231\",\"static/chunks/231-c27e618569e042bc.js\",\"185\",\"static/chunks/app/layout-29f3b81c3a382114.js\"],\"default\"]\na:I[231,[\"231\",\"static/chunks/231-c27e618569e042bc.js\",\"877\",\"static/chunks/app/%5B...slug%5D/page-d9dbb0d3ac265797.js\"],\"\"]\nc:I[6130,[],\"\"]\n7:[\"slug\",\"python/pep/759\",\"c\"]\nd:[]\n"])</script><script>self.__next_f.push([1,"0:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/773b243a13a00265.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$L3\",null,{\"buildId\":\"vurCQsCzY_vgt4Jj6xcPJ\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/python/pep/759/\",\"initialTree\":[\"\",{\"children\":[[\"slug\",\"python/pep/759\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"python\\\",\\\"pep\\\",\\\"759\\\"]}\",{}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[[\"slug\",\"python/pep/759\",\"c\"],{\"children\":[\"__PAGE__\",{},[[\"$L4\",\"$L5\"],null],null]},[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$7\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[[\"$\",\"html\",null,{\"lang\":\"ko\",\"className\":\"no-js\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"meta\",null,{\"name\":\"msapplication-TileColor\",\"content\":\"#ffc40d\"}],[\"$\",\"meta\",null,{\"name\":\"theme-color\",\"content\":\"#ffffff\"}],[\"$\",\"script\",null,{\"async\":true,\"src\":\"https://www.googletagmanager.com/gtag/js?id=G-NE2W3CFPNY\"}],[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\\n              window.dataLayer = window.dataLayer || [];\\n              function gtag(){dataLayer.push(arguments);}\\n              gtag('js', new Date());\\n              gtag('config', 'G-NE2W3CFPNY');\\n            \"}}]]}],[\"$\",\"body\",null,{\"className\":\"__className_f367f3 layout--default\",\"children\":[\"$\",\"div\",null,{\"className\":\"min-h-screen bg-gray-50\",\"children\":[[\"$\",\"$L9\",null,{}],[\"$\",\"main\",null,{\"className\":\"initial-content\",\"children\":[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"div\",null,{\"className\":\"min-h-screen flex items-center justify-center bg-gray-50\",\"children\":[\"$\",\"div\",null,{\"className\":\"max-w-md w-full bg-white rounded-lg shadow-md p-8 text-center\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-6xl font-bold text-primary-600 mb-4\",\"children\":\"404\"}],[\"$\",\"h2\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-4\",\"children\":\"페이지를 찾을 수 없습니다\"}],[\"$\",\"p\",null,{\"className\":\"text-gray-600 mb-8\",\"children\":\"요청하신 페이지가 존재하지 않거나 이동되었을 수 있습니다.\"}],[\"$\",\"$La\",null,{\"href\":\"/\",\"className\":\"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors\",\"children\":\"홈으로 돌아가기\"}]]}]}],\"notFoundStyles\":[],\"styles\":null}]}],[\"$\",\"div\",null,{\"id\":\"footer\",\"className\":\"page__footer\",\"children\":[\"$\",\"footer\",null,{\"className\":\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"text-center text-gray-500 text-sm\",\"children\":[\"$\",\"p\",null,{\"children\":\"© 2025 secrett2633. All rights reserved.\"}]}]}]}]]}]}]]}],null],[[\"$\",\"div\",null,{\"className\":\"flex items-center justify-center min-h-screen\",\"children\":[\"$\",\"div\",null,{\"className\":\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"}]}],[],[]]],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$Lb\"],\"globalErrorComponent\":\"$c\",\"missingSlots\":\"$Wd\"}]]\n"])</script><script>self.__next_f.push([1,"f:I[646,[\"231\",\"static/chunks/231-c27e618569e042bc.js\",\"877\",\"static/chunks/app/%5B...slug%5D/page-d9dbb0d3ac265797.js\"],\"default\"]\ne:T6a2f,"])</script><script>self.__next_f.push([1,"\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003e원문 링크:\u003c/strong\u003e \u003ca href=\"https://peps.python.org/pep-0759/\"\u003ePEP 759 - External Wheel Hosting\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e상태:\u003c/strong\u003e Withdrawn | \u003cstrong\u003e유형:\u003c/strong\u003e Standards Track | \u003cstrong\u003e작성일:\u003c/strong\u003e 01-Oct-2024\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003ePEP 759 – External Wheel Hosting (외부 휠 호스팅)\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e작성자:\u003c/strong\u003e Barry Warsaw, Emma Harper Smith\n\u003cstrong\u003ePEP 위임자:\u003c/strong\u003e Donald Stufft\n\u003cstrong\u003e논의:\u003c/strong\u003e Discourse 스레드\n\u003cstrong\u003e상태:\u003c/strong\u003e 철회됨 (Withdrawn)\n\u003cstrong\u003e유형:\u003c/strong\u003e 표준 트랙 (Standards Track)\n\u003cstrong\u003e주제:\u003c/strong\u003e 패키징 (Packaging)\n\u003cstrong\u003e생성일:\u003c/strong\u003e 2024년 10월 1일\n\u003cstrong\u003e해결일:\u003c/strong\u003e 2025년 1월 31일\u003c/p\u003e\n\u003chr\u003e\n\u003ch2\u003e초록 (Abstract)\u003c/h2\u003e\n\u003cp\u003e이 PEP는 pypi.org에 호스팅된 프로젝트가 PyPI가 아닌 외부 사이트에 휠(wheel) 아티팩트를 안전하게 호스팅할 수 있는 메커니즘을 제안했습니다. 이 PEP는 프로젝트, 패키지 또는 해당 메타데이터의 외부 호스팅을 명시적으로 제안하지 않았습니다. 해당 기능은 독립적인 패키지 인덱스를 외부에서 호스팅함으로써 이미 사용할 수 있습니다. 이 PEP는 프로젝트가 특정 릴리스된 휠 아티팩트의 다운로드 URL을 사용자 정의할 수 있는 메커니즘만을 제공하므로, \u003ccode\u003epip\u003c/code\u003e 및 \u003ccode\u003euv\u003c/code\u003e와 같은 일반적인 설치 도구에 의해 이미 구현된 의존성 해결은 변경할 필요가 없습니다.\u003c/p\u003e\n\u003cp\u003e이 PEP는 이 맥락에서 \"안전하다\"는 것이 무엇을 의미하는지, 그리고 \u003ccode\u003e.rim\u003c/code\u003e 파일이라고 불리는 새로운 패키지 업로드 파일 형식을 정의합니다. 또한 \u003ccode\u003e.rim\u003c/code\u003e 파일이 HTML 및 JSON 형식 모두에서 패키지의 Simple Repository API에 대해 반환되는 메타데이터에 어떤 영향을 미치는지, 그리고 기존의 휠을 \u003ccode\u003e.rim\u003c/code\u003e 파일로 쉽게 변환하는 방법을 정의했습니다.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2\u003ePEP 철회 (PEP withdrawn)\u003c/h2\u003e\n\u003cp\u003e이 PEP는 2025년 1월 31일에 작성자들에 의해 철회되었습니다. 논의 스레드에서 나타난 의견에 따르면, 이 PEP가 해결하려던 문제들은 유효하지만, 대부분의 사람들은 다른 접근 방식을 선호했습니다. 특히, 대부분의 사용자들은 여러 인덱스를 지정하는 기능, 이러한 인덱스들이 어떻게 상호 운용되는지, 그리고 인덱스에 대한 우선순위 및 신뢰 주장(trust assertions)에 대해 더 많은 제어권을 선호하는 것으로 파악되었습니다. 예를 들어, PEP 766과 같은 해결책이 더 나은 방향을 제시할 수 있습니다. 현재의 임시방편(예: PyPI 제한 증가 요청 및 \"휠 스텁\" 접근 방식)은 이상적이지는 않지만, 그동안 충분하다고 판단되었습니다. 작성자들은 건설적인 논의에 기여해주신 모든 분들, 특히 공개적으로나 비공개적으로 이 PEP를 지지해주신 분들께 감사를 표했습니다.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2\u003e근거 (Rationale)\u003c/h2\u003e\n\u003ch3\u003ePyPI 제한 문제 해결 (Addressing PyPI limits)\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003ehttps://pypi.org\u003c/code\u003e에 호스팅된 Python Package Index는 업로드 아티팩트 파일 크기(100MiB) 및 총 프로젝트 크기(10GiB)에 기본 제한을 부과합니다. 대부분의 프로젝트는 수년간의 업로드를 통해 이러한 제한 내에서 편안하게 작업할 수 있습니다. 그러나 일부 프로젝트는 이러한 제한에 도달하여 파일 크기 및 프로젝트 크기 예외를 부여받았으며, 소비자가 여전히 사용하고 있을 수 있는 파일(예: 버전 고정을 통해)을 제거하는 것과 같은 더 과감한 조치를 취하지 않고도 새 릴리스를 계속 업로드할 수 있었습니다.\u003c/p\u003e\n\u003cp\u003e관련된 해결책으로 \"휠 스텁(wheel stub)\" 접근 방식이 있습니다. 이는 PyPI와 외부 서드파티 패키지 인덱스 간의 간접적인 링크를 제공하며, 이러한 제한을 피할 수 있습니다. 휠 스텁은 PEP 517 빌드 백엔드를 사용하는 소스 배포판(일명 \"sdist\")으로, 소스 코드를 바이너리 휠로 변환하는 대신, 외부에서 호스팅되는 기존 휠을 다운로드하고 설치하기 위한 URL을 계산하는 로직을 수행합니다. 이 접근 방식은 작동하지만, PyPI, sdist, 그리고 외부 호스팅된 휠 간의 연결을 모호하게 만듭니다. 이는 \u003ccode\u003epip\u003c/code\u003e 또는 다른 유사한 도구에 이 정보를 제시할 방법이 없기 때문입니다.\u003c/p\u003e\n\u003ch3\u003e운영 복잡성 감소 (Reducing operational complexity)\u003c/h3\u003e\n\u003cp\u003e전체 패키지 인덱스를 설정하고 유지하는 것은 시간과 리소스가 많이 소요되는 복잡한 운영 솔루션이 될 수 있습니다. 이는 특히 그러한 인덱스의 주요 목적이 단지 파일 크기 제한을 피하는 것일 때 더욱 그러합니다. 외부 인덱스 접근 방식은 또한 외부 인덱스의 프로젝트 소비자에게 까다로운 사용자 경험(UX)을 부과하여, \u003ccode\u003e--external-index-url\u003c/code\u003e과 같은 CLI 옵션이 어떻게 작동하는지, 그리고 그러한 플래그의 보안 영향을 이해하도록 요구합니다.\u003c/p\u003e\n\u003cp\u003e대용량 휠 패키지의 생산자와 소비자 모두에게는 HTTP GET보다 복잡한 API 없이 개별 파일을 제공할 수 있는 간단한 웹 서버를 설정하고 유지하는 것이 훨씬 쉬울 것입니다. 이러한 인터페이스는 캐싱하기 쉽거나 CDN 뒤에 배치하기 쉽습니다. 간단한 HTTP 서버는 보안 목적으로 감사하기 훨씬 쉽고, 프록시하기 쉬우며, 일반적으로 실행, 지원 및 유지 관리에 훨씬 적은 리소스가 필요합니다. 심지어 Amazon S3와 같은 서비스도 외부 휠을 호스팅하는 데 사용될 수 있습니다.\u003c/p\u003e\n\u003cp\u003e이 PEP는 이러한 운영상의 단순성을 선호하는 접근 방식을 제안했습니다.\u003c/p\u003e\n\u003ch3\u003e다중 인덱스의 문제점 (The problem with multiple indexes)\u003c/h3\u003e\n\u003cp\u003ePEP 470은 명시적인 여러 저장소(repository) 사용을 장려했습니다. 이는 \u003ccode\u003epip install --extra-index-url\u003c/code\u003e과 같은 설치 도구 지원을 통해 \u003ccode\u003epip\u003c/code\u003e이 여러 저장소를 패키지 설치 해결을 위한 단일 전역 저장소로 취급할 수 있도록 합니다. 이는 오랫동안 권장되는 표준이었으므로, 모든 Python 패키지 설치 도구는 의존성 해결을 위해 여러 인덱스를 쿼리하는 것을 지원합니다.\u003c/p\u003e\n\u003cp\u003e그러나 여러 인덱스를 통합할 때 발생하는 잘 알려진 문제 중 하나는 의존성 혼란 공격(dependency confusion attacks)입니다. Python은 \u003ccode\u003epip install\u003c/code\u003e이 패키지 의존성과 선호 버전을 해결하는 데 사용하는 알고리즘 때문에 특히 취약할 수 있습니다. \u003ccode\u003euv\u003c/code\u003e 도구는 추가 인덱스 전략 옵션을 지원하여 이러한 문제를 해결합니다. 이를 통해 사용자는 \u003ccode\u003epip\u003c/code\u003e 호환 전략과 이러한 의존성 혼란 공격을 방지하는 더 제한적인 전략 중에서 선택할 수 있습니다.\u003c/p\u003e\n\u003cp\u003ePEP 708은 의존성 혼란 공격에 대한 추가 배경 정보를 제공하며, 이를 방지하기 위한 다른 접근 방식을 취합니다. PEP 708은 저장소 소유자가 프로젝트가 다른 저장소 간에 추적됨을 나타낼 수 있도록 하여, 설치 프로그램이 여러 저장소를 결합할 때 전역 패키지 네임스페이스를 처리하는 방법을 결정할 수 있도록 합니다. PEP 708은 잠정적으로 수락되었지만, PEP 708에 명시된 여러 필수 조건이 충족되어야 하며, 그중 일부는 불확실한 미래를 가질 수 있습니다. PEP 708 자체에서 언급했듯이, 이것만으로는 의존성 혼란 공격을 해결할 수 없지만, 설치 프로그램이 이러한 공격을 최소화하는 데 도움이 될 충분한 정보를 제공하는 한 가지 방법입니다.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2\u003e사양 (Specification)\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003e.rim\u003c/code\u003e (Remote Installable Metadata) 파일이라고 불리는 새로운 유형의 업로드 가능한 파일이 정의되었습니다. 이 이름은 타이어가 제거된 휠의 이미지를 연상시키며, \u003ccode\u003e.rim\u003c/code\u003e 파일이 \u003ccode\u003e.whl\u003c/code\u003e 파일에서 쉽게 파생될 수 있음을 강조합니다. \u003ccode\u003e.whl\u003c/code\u003e 파일을 \u003ccode\u003e.rim\u003c/code\u003e으로 변환하는 과정은 아래에 설명되어 있습니다. 파일 이름 형식은 휠 파일 이름 지정 사양과 정확히 일치하지만, \u003ccode\u003e.rim\u003c/code\u003e 파일은 \u003ccode\u003e.rim\u003c/code\u003e 접미사를 사용합니다. 이는 \u003ccode\u003e.whl\u003c/code\u003e 파일을 구별하는 데 사용되는 모든 태그가 다른 \u003ccode\u003e.rim\u003c/code\u003e 파일도 구별하며, 따라서 현재 \u003ccode\u003e.whl\u003c/code\u003e 파일과 마찬가지로 의존성 해결 단계에서 사용될 수 있음을 의미합니다. 이 점에서 \u003ccode\u003e.whl\u003c/code\u003e과 \u003ccode\u003e.rim\u003c/code\u003e 파일은 상호 교환이 가능합니다.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e.rim\u003c/code\u003e 파일의 내용은 \u003ccode\u003e.whl\u003c/code\u003e 파일과 거의 동일하지만, \u003ccode\u003e.rim\u003c/code\u003e 파일은 휠에서 \u003ccode\u003e.dist-info\u003c/code\u003e 디렉토리만을 포함해야 합니다. \u003ccode\u003e.rim\u003c/code\u003e zip 파일에는 다른 최상위 파일이나 디렉토리가 허용되지 않습니다. \u003ccode\u003e.dist-info\u003c/code\u003e 디렉토리에는 \u003ccode\u003e.whl\u003c/code\u003e 파일의 \u003ccode\u003e.dist-info\u003c/code\u003e 디렉토리에서 허용되는 파일 외에 \u003ccode\u003eEXTERNAL-HOSTING.json\u003c/code\u003e이라는 단일 추가 파일이 포함되어야 합니다.\u003c/p\u003e\n\u003cp\u003e이 JSON 파일에는 다음 키가 포함됩니다.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eversion\u003c/code\u003e: 파일 형식 버전으로, 이 PEP에서는 \u003ccode\u003e1.0\u003c/code\u003e이어야 합니다.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eowner\u003c/code\u003e: 이 외부 호스팅 파일의 PyPI 조직 소유자를 명시해야 합니다.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003euri\u003c/code\u003e: 외부 사이트에 호스팅된 실제 \u003ccode\u003e.whl\u003c/code\u003e 파일의 위치를 나타내는 단일 URL입니다. 이 URL은 \u003ccode\u003ehttps\u003c/code\u003e 스키마를 사용해야 합니다.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003esize\u003c/code\u003e: 원격 호스트에 있는 실제 \u003ccode\u003e.whl\u003c/code\u003e 파일의 크기(바이트 단위)를 나타내는 정수 값입니다.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ehashes\u003c/code\u003e: PEP 694에 설명된 형식의 딕셔너리로, 해당 PEP에서 제안된 것과 동일한 제약 조건으로 실제 \u003ccode\u003e.whl\u003c/code\u003e 파일의 해시를 캡처하는 데 사용됩니다. 이러한 해시는 PyPI에 업로드되면 변경할 수 없으므로, 외부 호스팅된 휠이 손상되거나 침해되지 않았다는 중요한 유효성 검사 역할을 합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eRIM 파일의 영향 (Effects of the RIM file)\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003e.rim\u003c/code\u003e 파일의 유일한 영향은 단순 저장소 API의 HTML 및 JSON 인터페이스 모두에서 휠 아티팩트의 다운로드 URL을 변경하는 것입니다. 패키지 릴리스의 HTML 페이지에서 \u003ccode\u003ehref\u003c/code\u003e 속성은 \u003ccode\u003euri\u003c/code\u003e 키의 값이어야 하며, \u003ccode\u003e#\u0026#x3C;hashname\u003e=\u0026#x3C;hashvalue\u003e\u003c/code\u003e 프래그먼트를 포함해야 합니다. 이 해시 프래그먼트는 \u003ccode\u003e.dist-info/RECORD\u003c/code\u003e 파일에 있는 PEP 376에서 유래한 서명된 휠 파일 형식에 설명된 것과 정확히 동일한 형식이어야 합니다. 해시 알고리즘 및 인코딩 선택에 대한 정확히 동일한 규칙이 여기에서도 사용됩니다.\u003c/p\u003e\n\u003cp\u003e마찬가지로 JSON 응답에서 다운로드 파일을 가리키는 \u003ccode\u003eurl\u003c/code\u003e 키는 \u003ccode\u003euri\u003c/code\u003e 키의 값이어야 하며, \u003ccode\u003ehashes\u003c/code\u003e 딕셔너리는 위에 제공된 \u003ccode\u003ehashes\u003c/code\u003e 딕셔너리의 값으로 채워져 포함되어야 합니다.\u003c/p\u003e\n\u003cp\u003e다른 모든 면에서, 준수하는 패키지 인덱스는 아래에 설명된 몇 가지 사소한 예외를 제외하고는 \u003ccode\u003e.rim\u003c/code\u003e 파일을 \u003ccode\u003e.whl\u003c/code\u003e 파일과 동일하게 처리해야 합니다. 예를 들어, \u003ccode\u003e.rim\u003c/code\u003e 파일은 \u003ccode\u003e.whl\u003c/code\u003e 파일과 마찬가지로 동일한 의미(즉, 삭제는 영구적)로 삭제 및 인출(yanked, PEP 592)될 수 있습니다. \u003ccode\u003e.rim\u003c/code\u003e이 삭제되면 인덱스는 일치하는 \u003ccode\u003e.whl\u003c/code\u003e 또는 \u003ccode\u003e.rim\u003c/code\u003e 파일의 (재)업로드를 허용해서는 안 됩니다.\u003c/p\u003e\n\u003ch3\u003e가용성 순서 (Availability order)\u003c/h3\u003e\n\u003cp\u003e외부 호스팅된 휠은 해당 \u003ccode\u003e.rim\u003c/code\u003e 파일이 PyPI에 업로드되기 전에 사용할 수 있어야 합니다. 그렇지 않으면 게시 경합 조건(publishing race condition)이 발생할 수 있습니다. 단, PEP 694 스테이징 릴리스에 업로드되는 \u003ccode\u003e.rim\u003c/code\u003e 파일의 경우 이 요구 사항이 완화될 수 있습니다.\u003c/p\u003e\n\u003ch3\u003e휠이 RIM을 재정의할 수 있음 (Wheels can override RIMs)\u003c/h3\u003e\n\u003cp\u003e인덱스는 정확히 동일한 파일 이름 태그를 가진 일치하는 \u003ccode\u003e.whl\u003c/code\u003e 파일이 이미 존재하는 경우 \u003ccode\u003e.rim\u003c/code\u003e 파일을 거부해야 합니다. 그러나 인덱스는 일치하는 \u003ccode\u003e.rim\u003c/code\u003e 파일이 존재하는 경우 \u003ccode\u003e.whl\u003c/code\u003e 파일을 허용할 수 있습니다. 단, 해당 \u003ccode\u003e.rim\u003c/code\u003e 파일이 삭제되거나 인출되지 않았어야 합니다. 이는 업로더가 외부 호스팅된 휠 파일을 인덱스 호스팅된 휠 파일로 교체할 수 있도록 하지만, 그 반대는 금지됩니다. 기본적으로 휠은 패키지 메타데이터를 포함하는 동일한 패키지 인덱스에 호스팅되므로, 한 번 업로드된 기존 휠 파일을 \"다운그레이드\"하는 것은 허용되지 않습니다. \u003ccode\u003e.whl\u003c/code\u003e이 \u003ccode\u003e.rim\u003c/code\u003e을 대체할 때, 인덱스는 자체 호스팅 파일 서비스를 사용하여 패키지에 대한 다운로드 URL을 제공해야 합니다. 재정의하는 \u003ccode\u003e.whl\u003c/code\u003e 파일을 업로드할 때, 패키지 인덱스는 기존 \u003ccode\u003e.rim\u003c/code\u003e 파일의 해시를 검증해야 하며, 이러한 해시가 일치하지 않으면 재정의 업로드는 거부되어야 합니다.\u003c/p\u003e\n\u003ch3\u003ePyPI API 버전 업 불필요 (PyPI API bump unnecessary)\u003c/h3\u003e\n\u003cp\u003e변경 사항은 PyPI 저장소 버전의 변경이 필요 없을 정도로 이전 버전과 충분히 호환될 가능성이 높습니다. \u003ccode\u003e.rim\u003c/code\u003e 파일은 기본적으로 업로드 API에 대한 변경 사항일 뿐이므로, 패키지 리졸버 및 패키지 설치 프로그램은 항상 지원해온 API로 계속 기능할 수 있습니다.\u003c/p\u003e\n\u003ch3\u003e외부 호스팅 탄력성 (External hosting resiliency)\u003c/h3\u003e\n\u003cp\u003ePEP 438이 PEP 470에서 취소된 주요 우려 사항 중 하나는 외부 인덱스가 사라질 때 발생할 수 있는 사용자 혼란이었습니다. PEP 470에 따르면:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e이러한 혼란은 프로젝트의 최종 사용자가 프로젝트가 PyPI에 호스팅되어 있는지 또는 외부 서비스에 의존하는지 인지하지 못하는 데서 비롯됩니다. 이는 종종 외부 서비스가 다운되었지만 PyPI는 그렇지 않은 경우에 발생합니다. 사람들은 PyPI가 작동하고 다른 프로젝트는 작동하지만 이 특정 프로젝트는 작동하지 않는 것을 보게 됩니다. 그들은 종종 이것을 해결하기 위해 누구에게 연락해야 하는지 또는 어떤 조치 단계를 취해야 하는지 깨닫지 못합니다.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e외부 휠 호스팅 서비스가 다운되는 문제는 이 PEP에서 직접 해결되지는 않지만, PyPI 관리자에게 잠재적인 부담을 크게 줄이기 위한 여러 보호 장치가 마련되어 있습니다.\u003c/p\u003e\n\u003cp\u003e따라서 이 PEP는 다음을 제안합니다.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e외부 휠 호스팅은 조직 계정이 소유한 패키지에만 허용됩니다.\u003c/li\u003e\n\u003cli\u003e외부 호스팅은 조직 전체 설정입니다.\u003c/li\u003e\n\u003cli\u003e조직 계정은 외부 휠을 호스팅할 수 있는 기능을 자동으로 얻지 못합니다. 이 기능은 PyPI 관리자의 재량에 따라 명시적으로 활성화되어야 합니다.\u003c/li\u003e\n\u003cli\u003e이러한 요청은 흔하지 않을 것이므로, PEP 541 해결, 계정 복구 요청 또는 파일/프로젝트 크기 증가 요청만큼 부담이 크지 않을 것으로 예상됩니다. 외부 호스팅 요청은 이러한 요청과 동일한 방식으로, 즉 PyPI GitHub 지원 트래커를 통해 처리됩니다.\u003c/li\u003e\n\u003cli\u003e외부 휠 호스팅을 요청하는 조직 계정은 메일 주소의 \u003ccode\u003emailto\u003c/code\u003e URI이든 조직의 지원 트래커 URL이든 자체 지원 연락처 URI를 등록해야 합니다. 외부 휠 파일 호스팅을 이용하지 않는 조직의 경우 이러한 연락처 URI는 선택 사항입니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003eEXTERNAL-HOSTING.json\u003c/code\u003e 파일의 \u003ccode\u003eowner\u003c/code\u003e 키와 결합하여, 이는 설치 도구가 다운로드 오류를 PyPI 지원 관리자로부터 명확하게 조직의 지원 관리자에게 리디렉션할 수 있도록 합니다.\u003c/p\u003e\n\u003cp\u003e이 조직 지원 URL을 저장하고 검색하는 정확한 메커니즘은 별도로 정의되겠지만, 예를 들어 \u003ccode\u003efoo\u003c/code\u003e라는 패키지가 \u003ccode\u003ehttps://foo.example.com\u003c/code\u003e에 휠 파일을 외부 호스팅하고 해당 호스트에 연결할 수 없게 되면 어떻게 되는지 살펴봅니다. 설치 도구가 \u003ccode\u003efoo\u003c/code\u003e 패키지 휠을 다운로드하고 설치하려고 시도하면 다운로드 단계가 실패합니다. 그러면 설치 프로그램은 PyPI를 쿼리하여 최종 사용자에게 유용한 오류 메시지를 제공할 수 있습니다.\u003c/p\u003e\n\u003cp\u003e설치 프로그램은 \u003ccode\u003e.rim\u003c/code\u003e 파일을 다운로드하고 \u003ccode\u003e.rim\u003c/code\u003e zip 파일 내의 \u003ccode\u003eEXTERNAL-HOSTING.json\u003c/code\u003e 파일에서 \u003ccode\u003eowner\u003c/code\u003e 키를 읽습니다. 설치 프로그램은 외부 호스팅된 휠의 조직 소유자에 대한 지원 URI를 PyPI에 쿼리합니다. 그러면 다음과 같은 정보성 오류 메시지가 표시됩니다.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eThe externally hosted wheel file foo-....whl could not be downloaded. Please contact support@foo.example.com for help. Do not report this to the PyPI administrators.\n(외부 호스팅된 휠 파일 foo-....whl을 다운로드할 수 없습니다. 도움을 받으려면 support@foo.example.com으로 연락하십시오. PyPI 관리자에게 보고하지 마십시오.)\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3\u003e휠 분리 (Dismounting wheels)\u003c/h3\u003e\n\u003cp\u003e기존 \u003ccode\u003e.whl\u003c/code\u003e 파일에서 \u003ccode\u003e.rim\u003c/code\u003e 파일을 생성하는 것은 일반적으로 매우 쉽습니다. 이는 추가 명령줄 옵션이 있는 PEP 518 빌드 백엔드 또는 \u003ccode\u003e.whl\u003c/code\u003e 파일을 입력으로 받아 관련 \u003ccode\u003e.rim\u003c/code\u003e 파일을 생성하는 별도의 도구에 의해 효율적으로 수행될 수 있습니다. 비유를 완성하기 위해 \u003ccode\u003e.whl\u003c/code\u003e을 \u003ccode\u003e.rim\u003c/code\u003e으로 변환하는 행위를 \"분리(dismounting)\"라고 부릅니다. 그러한 도구가 취할 단계는 다음과 같습니다.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e입력으로 원본 \u003ccode\u003e.whl\u003c/code\u003e 파일, 패키지의 조직 소유자, \u003ccode\u003e.whl\u003c/code\u003e이 호스팅될 URL, 다운로드 문제 보고를 위한 지원 URI를 받습니다. 이러한 정보는 \u003ccode\u003epyproject.toml\u003c/code\u003e 파일에 캡처될 수도 있지만, 해당 사양은 이 PEP의 범위를 벗어납니다.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e.whl\u003c/code\u003e의 압축을 풀고 \u003ccode\u003e.rim\u003c/code\u003e zip 아카이브를 생성합니다.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e.dist-info\u003c/code\u003e 디렉토리에 없는 \u003ccode\u003e.whl\u003c/code\u003e의 모든 경로를 \u003ccode\u003e.rim\u003c/code\u003e 파일에서 생략합니다.\u003c/li\u003e\n\u003cli\u003e원본 \u003ccode\u003e.whl\u003c/code\u003e 파일의 해시를 계산합니다.\u003c/li\u003e\n\u003cli\u003e위에 설명된 JSON 키와 값을 포함하는 \u003ccode\u003eEXTERNAL-HOSTING.json\u003c/code\u003e 파일을 \u003ccode\u003e.rim\u003c/code\u003e 아카이브에 추가합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e도구 변경 사항 (Changes to tools)\u003c/h3\u003e\n\u003cp\u003e이론적으로 설치 도구는 어떤 변경도 필요하지 않습니다. 다운로드하고 설치할 휠을 식별하면 PyPI의 Simple API에서 반환된 다운로드 URL을 단순히 참조하기 때문입니다. 그러나 실제로는 \u003ccode\u003epip\u003c/code\u003e 및 \u003ccode\u003euv\u003c/code\u003e와 같은 도구는 PyPI의 자체 \u003ccode\u003epythonhosted.org\u003c/code\u003e 도메인과 같이 다운로드를 허용하는 호스트 목록이 제한적일 수 있습니다.\u003c/p\u003e\n\u003cp\u003e이 경우 이러한 도구는 해당 제약을 완화해야 하지만, 이에 대한 정확한 정책은 설치 도구 자체에 맡겨져 있습니다. \u003ccode\u003e.rim\u003c/code\u003e 파일을 다운로드하고 \u003ccode\u003eEXTERNAL-HOSTING.json\u003c/code\u003e 메타데이터를 확인하거나, 일치하는 체크섬이 있는 모든 휠에 대해 외부 다운로드를 단순히 신뢰하는 등 여러 접근 방식이 구현될 수 있습니다. 또한 다운로드를 신뢰하기 전에 프로젝트의 조직 소유자 및 지원 URI에 대해 PyPI를 쿼리할 수 있습니다. 외부 호스팅된 휠 파일이 발견될 때 사용자에게 경고하거나, 추가 다운로드 호스트를 활성화하기 위해 명령줄 옵션 사용을 요구할 수 있습니다. 이러한 검증 정책은 구성 파일에서 선택할 수 있습니다.\u003c/p\u003e\n\u003cp\u003e설치 도구는 또한 외부 호스팅된 휠을 다운로드할 수 없는 경우(예: 호스트에 연결할 수 없는 경우) 더 나은 오류 메시지를 제공해야 합니다. 위에 설명된 대로 이러한 도구는 PyPI에서 충분한 메타데이터를 쿼리하여 사용자에게 패키지의 외부 호스팅 지원 이메일 또는 문제 추적기를 안내하는 명확하고 구별되는 오류 메시지를 제공할 수 있습니다.\u003c/p\u003e\n\u003ch3\u003e외부 호스팅 서비스에 대한 제약 조건 (Constraints for external hosting services)\u003c/h3\u003e\n\u003cp\u003e다음 제약 조건은 안정적이고 호환 가능한 외부 휠 호스팅 서비스로 이어집니다.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e외부 휠은 Mozilla의 루트 인증서 저장소에서 서명한 인증서를 사용하여 HTTPS를 통해 제공되어야 합니다. 이는 \u003ccode\u003epip\u003c/code\u003e 및 \u003ccode\u003euv\u003c/code\u003e와의 호환성을 보장합니다.\u003c/li\u003e\n\u003cli\u003e외부 휠 호스트는 PyPI와 마찬가지로 CDN(콘텐츠 전송 네트워크)을 사용해야 합니다.\u003c/li\u003e\n\u003cli\u003e외부 휠 호스트는 호스팅하는 모든 휠에 대해 안정적인 URL을 약속해야 합니다.\u003c/li\u003e\n\u003cli\u003e외부 호스팅된 휠은 해당 \u003ccode\u003e.rim\u003c/code\u003e 파일이 PyPI에서 먼저 삭제되지 않는 한 외부 휠 호스트에서 제거되어서는 안 되며, 인출된 릴리스에 대한 외부 휠을 제거해서는 안 됩니다.\u003c/li\u003e\n\u003cli\u003e외부 휠 호스트는 HTTP 범위 요청(range requests)을 지원해야 합니다.\u003c/li\u003e\n\u003cli\u003e외부 휠 호스트는 HTTP/2 프로토콜을 지원해야 합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e보안 (Security)\u003c/h3\u003e\n\u003cp\u003e이 제안에 설명된 여러 요소는 외부 호스팅된 휠의 보안 우려를 완화해야 합니다.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e휠 파일 체크섬은 \u003ccode\u003e.rim\u003c/code\u003e 파일에 포함되어야 하며, 일단 업로드되면 변경할 수 없습니다. PyPI에 저장된 체크섬은 변경 불가능하고 필수적이므로, 소유 조직이 호스팅 도메인에 대한 제어권을 잃더라도 외부 휠 파일을 스푸핑하는 것은 불가능합니다.\u003c/li\u003e\n\u003cli\u003e외부 호스팅된 휠은 HTTPS를 통해 제공되어야 합니다.\u003c/li\u003e\n\u003cli\u003e외부 호스팅된 휠을 제공하려면 조직은 PyPI 관리자의 승인을 받아야 합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e사용자가 PyPI 호스팅 프로젝트에서 맬웨어 또는 취약점을 식별하면, 이제 PyPI의 맬웨어 보고 기능을 사용하여 이를 보고할 수 있습니다. 동일한 프로세스를 사용하여 외부 호스팅된 휠의 보안 문제를 보고할 수 있으며, 동일한 해결 프로세스가 사용되어야 합니다. 또한, 외부 호스팅이 활성화된 조직은 지원 연락처 URI를 제공해야 하므로, 해당 URI는 경우에 따라 호스팅 조직에 보안 문제를 보고하는 데 사용될 수 있습니다. 이러한 조직 보고는 맬웨어에는 적합하지 않지만, 외부 호스팅된 휠의 보안 취약점을 보고하는 데 매우 유용할 수 있습니다.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2\u003e거부된 아이디어 (Rejected ideas)\u003c/h2\u003e\n\u003cp\u003e몇 가지 아이디어가 고려되었지만 거부되었습니다.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003e외부 호스팅된 휠 파일에 대한 디지털 서명 요구:\u003c/strong\u003e 체크섬 요구 사항만으로도 휠에 대한 PyPI의 메타데이터가 다운로드된 휠과 정확히 일치함을 검증하기에 충분하다고 판단되었습니다. 키 관리의 추가적인 복잡성은 디지털 서명이 제공할 수 있는 추가적인 이점보다 큽니다.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e\u003ccode\u003e.rim\u003c/code\u003e 파일 업로드 시 해시 검증:\u003c/strong\u003e PyPI는 업로드를 수락하기 전에 업로드된 \u003ccode\u003e.rim\u003c/code\u003e 파일의 해시가 외부 호스팅된 휠과 일치하는지 확인할 수 있지만, 이는 외부 휠을 다운로드하고 체크섬을 수행해야 하므로 외부 \u003ccode\u003e.whl\u003c/code\u003e 파일이 다운로드되고 검증될 때까지 \u003ccode\u003e.rim\u003c/code\u003e 파일의 업로드를 수락할 수 없음을 의미합니다. 이는 PyPI 대역폭을 증가시키고 업로드 쿼리를 느리게 만들지만, PEP 694 초안 업로드가 이러한 우려를 완화할 수 있습니다. 그럼에도 불구하고, 그 이점은 추가적인 복잡성만큼 가치가 없을 가능성이 높습니다.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e인덱스에 의한 다운로드 URL의 주기적 검증:\u003c/strong\u003e PyPI는 HTTP HEAD 요청 등을 통해 외부 휠 호스트 또는 외부 \u003ccode\u003e.whl\u003c/code\u003e 파일 자체가 여전히 사용 가능한지 주기적으로 확인할 수 있습니다. 이는 과도할 가능성이 높으며, 응답에 파일의 체크섬을 제공하지 않는 한 많은 추가적인 이점을 제공하지 않을 수 있습니다.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e대체 다운로드 호스트 허용:\u003c/strong\u003e 이 PEP는 조직이 대체 다운로드 호스트를 제공하여 주 호스트가 다운될 경우 보조 호스트를 사용할 수 있도록 허용할 수 있었습니다. 그러나 DNS 기반 복제가 훨씬 더 좋고 잘 알려진 기술이며, 아마도 훨씬 더 탄력적이라고 판단되었습니다.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e\u003ccode\u003e.rim\u003c/code\u003e 파일 교체:\u003c/strong\u003e \u003ccode\u003e.whl\u003c/code\u003e 파일이 기존 \u003ccode\u003e.rim\u003c/code\u003e 파일을 대체하는 것은 허용되지만(단, \u003ccode\u003e.rim\u003c/code\u003e 파일이 삭제되거나 인출되지 않았고, 체크섬이 일치하는 경우), \u003ccode\u003e.whl\u003c/code\u003e 파일을 \u003ccode\u003e.rim\u003c/code\u003e 파일로 대체하거나, \u003ccode\u003e.rim\u003c/code\u003e 파일이 기존 \u003ccode\u003e.rim\u003c/code\u003e 파일을 덮어쓰는 것은 허용되지 않습니다. 후자는 외부 호스팅된 \u003ccode\u003e.whl\u003c/code\u003e의 호스팅 URL을 변경하는 기술이 될 수 있지만, 이는 좋은 생각이 아니라고 판단되었습니다. 위에 설명된 대로 외부 호스트 URL을 \"수정\"하는 다른 방법이 있으며, 기존 \u003ccode\u003e.rim\u003c/code\u003e 파일의 대량 재업로드를 장려하고 싶지 않았습니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e⚠️ \u003cstrong\u003e알림:\u003c/strong\u003e 이 문서는 AI를 활용하여 번역되었으며, 기술적 정확성을 보장하지 않습니다. 정확한 내용은 반드시 원문을 확인하시기 바랍니다.\u003c/p\u003e\n\u003c/blockquote\u003e\n"])</script><script>self.__next_f.push([1,"5:[\"$\",\"div\",null,{\"className\":\"flex flex-col lg:flex-row gap-8\",\"children\":[[\"$\",\"aside\",null,{\"className\":\"lg:w-64 xl:w-72 order-1 lg:order-none\",\"children\":[\"$\",\"div\",null,{\"className\":\"sidebar sticky\",\"children\":[\"$\",\"nav\",null,{\"className\":\"space-y-4\",\"children\":[[\"$\",\"div\",\"Backend\",{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-medium text-gray-900 mb-2\",\"children\":\"Backend\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1 ml-4\",\"children\":[[\"$\",\"li\",\"Django\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/backend/django/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Django\",\" (\",6,\")\"]}]}],[\"$\",\"li\",\"Logging\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/backend/logging/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Logging\",\" (\",1,\")\"]}]}]]}]]}],[\"$\",\"div\",\"Python\",{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-medium text-gray-900 mb-2\",\"children\":\"Python\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1 ml-4\",\"children\":[[\"$\",\"li\",\"PEP\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/python/pep/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"PEP\",\" (\",650,\")\"]}]}]]}]]}],[\"$\",\"div\",\"AI/ML\",{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-medium text-gray-900 mb-2\",\"children\":\"AI/ML\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1 ml-4\",\"children\":[[\"$\",\"li\",\"LLM\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/ai/llm/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"LLM\",\" (\",1,\")\"]}]}],[\"$\",\"li\",\"Review\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/ai/review/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Review\",\" (\",2279,\")\"]}]}]]}]]}],[\"$\",\"div\",\"DevOps\",{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-medium text-gray-900 mb-2\",\"children\":\"DevOps\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1 ml-4\",\"children\":[[\"$\",\"li\",\"Nginx\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/devops/nginx/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Nginx\",\" (\",1,\")\"]}]}],[\"$\",\"li\",\"Docker\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/devops/docker/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Docker\",\" (\",1,\")\"]}]}],[\"$\",\"li\",\"SafeLine\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/devops/safeline/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"SafeLine\",\" (\",1,\")\"]}]}],[\"$\",\"li\",\"Jenkins\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/devops/jenkins/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Jenkins\",\" (\",3,\")\"]}]}],[\"$\",\"li\",\"GitHub Actions\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/devops/github-actions/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"GitHub Actions\",\" (\",1,\")\"]}]}],[\"$\",\"li\",\"AWS\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/devops/aws/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"AWS\",\" (\",1,\")\"]}]}]]}]]}],[\"$\",\"div\",\"etc\",{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-medium text-gray-900 mb-2\",\"children\":\"etc\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1 ml-4\",\"children\":[[\"$\",\"li\",\"Me\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/etc/me/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Me\",\" (\",3,\")\"]}]}],[\"$\",\"li\",\"Chrome Extension\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/etc/chrome-extension/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Chrome Extension\",\" (\",1,\")\"]}]}]]}]]}]]}]}]}],[\"$\",\"main\",null,{\"className\":\"flex-1\",\"children\":[\"$\",\"article\",null,{\"className\":\"page\",\"children\":[[\"$\",\"header\",null,{\"className\":\"mb-8\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"page__title\",\"children\":\"[Withdrawn] PEP 759 - External Wheel Hosting\"}],[\"$\",\"div\",null,{\"className\":\"page__meta\",\"children\":[[\"$\",\"time\",null,{\"dateTime\":\"2025-09-27 13:43:53+0900\",\"children\":\"2025년 9월 27일\"}],[\"$\",\"span\",null,{\"className\":\"ml-4\",\"children\":[\"수정: \",\"2025년 9월 27일\"]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"page__content\",\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$e\"}}]}],[\"$\",\"footer\",null,{\"className\":\"page__meta mt-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"page__taxonomy\",\"children\":[[\"$\",\"h4\",null,{\"className\":\"text-sm font-medium text-gray-900 mb-2\",\"children\":\"태그\"}],[[\"$\",\"span\",\"Python\",{\"className\":\"page__taxonomy-item\",\"children\":[\"#\",\"Python\"]}],[\"$\",\"span\",\"PEP\",{\"className\":\"page__taxonomy-item\",\"children\":[\"#\",\"PEP\"]}],[\"$\",\"span\",\"Translation\",{\"className\":\"page__taxonomy-item\",\"children\":[\"#\",\"Translation\"]}]]]}]}],[\"$\",\"$Lf\",null,{\"postPermalink\":\"/python/pep/759/\",\"postId\":\"2025-09-27-pep-0759-external-wheel-hosting\"}],[\"$\",\"section\",null,{\"className\":\"mt-12 border-t border-gray-200 pt-8\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-base font-semibold text-gray-900 mb-4\",\"children\":[\"Python\",\" 의 다른글\"]}],[\"$\",\"ul\",null,{\"className\":\"space-y-2 text-sm\",\"children\":[[\"$\",\"li\",null,{\"className\":\"text-gray-500\",\"children\":[\"이전글\",\" \",[\"$\",\"$La\",null,{\"href\":\"/python/pep/758/\",\"className\":\"text-gray-500 hover:text-gray-700 underline decoration-dotted underline-offset-4\",\"children\":\"[Final] PEP 758 - Allowexceptandexcept*expressions without parentheses\"}]]}],[\"$\",\"li\",null,{\"className\":\"text-gray-900 font-semibold\",\"children\":[\"현재글 : \",\"[Withdrawn] PEP 759 - External Wheel Hosting\"]}],[\"$\",\"li\",null,{\"className\":\"text-gray-500\",\"children\":[\"다음글\",\" \",[\"$\",\"$La\",null,{\"href\":\"/python/pep/760/\",\"className\":\"text-gray-500 hover:text-gray-700 underline decoration-dotted underline-offset-4\",\"children\":\"[Withdrawn] PEP 760 - No More Bare Excepts\"}]]}]]}]]}]]}]}]]}]\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"secrett2633's blog\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"기술 블로그 - Django, Python, DevOps, AI/ML 관련 포스트\"}],[\"$\",\"meta\",\"4\",{\"name\":\"author\",\"content\":\"secrett2633\"}],[\"$\",\"meta\",\"5\",{\"name\":\"keywords\",\"content\":\"Django, Python, DevOps, AI, ML, 블로그, 기술\"}],[\"$\",\"meta\",\"6\",{\"name\":\"creator\",\"content\":\"secrett2633\"}],[\"$\",\"meta\",\"7\",{\"name\":\"publisher\",\"content\":\"secrett2633\"}],[\"$\",\"meta\",\"8\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"9\",{\"name\":\"googlebot\",\"content\":\"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1\"}],[\"$\",\"link\",\"10\",{\"rel\":\"canonical\",\"href\":\"https://blog.secrett2633.cloud/\"}],[\"$\",\"meta\",\"11\",{\"name\":\"format-detection\",\"content\":\"telephone=no, address=no, email=no\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:title\",\"content\":\"secrett2633's blog\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:description\",\"content\":\"기술 블로그 - Django, Python, DevOps, AI/ML 관련 포스트\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:url\",\"content\":\"https://blog.secrett2633.cloud/\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:site_name\",\"content\":\"secrett2633's blog\"}],[\"$\",\"meta\",\"16\",{\"property\":\"og:locale\",\"content\":\"ko_KR\"}],[\"$\",\"meta\",\"17\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:title\",\"content\":\"secrett2633's blog\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:description\",\"content\":\"기술 블로그 - Django, Python, DevOps, AI/ML 관련 포스트\"}],[\"$\",\"link\",\"21\",{\"rel\":\"icon\",\"href\":\"/icon.ico?6d9f34d4948640b8\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"meta\",\"22\",{\"name\":\"next-size-adjust\"}]]\n4:null\n"])</script></body></html>