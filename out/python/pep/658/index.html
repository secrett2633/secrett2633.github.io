<!DOCTYPE html><html lang="ko" class="no-js"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/edf391eeca43d999.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-15a70ff5b484f3df.js"/><script src="/_next/static/chunks/fd9d1056-4e1a26e2d413ba3c.js" async=""></script><script src="/_next/static/chunks/23-e8ded9e1e67d56dc.js" async=""></script><script src="/_next/static/chunks/main-app-6087bc228fd56b83.js" async=""></script><script src="/_next/static/chunks/231-c27e618569e042bc.js" async=""></script><script src="/_next/static/chunks/157-ff7a2d518d7ddfe6.js" async=""></script><script src="/_next/static/chunks/app/layout-b06e577e11976c7d.js" async=""></script><script src="/_next/static/chunks/app/%5B...slug%5D/page-9d772c571b4668c1.js" async=""></script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-NE2W3CFPNY"></script><title>secrett2633&#x27;s blog</title><meta name="description" content="기술 블로그 - Django, Python, DevOps, AI/ML 관련 포스트"/><meta name="author" content="secrett2633"/><meta name="keywords" content="Django, Python, DevOps, AI, ML, 블로그, 기술"/><meta name="creator" content="secrett2633"/><meta name="publisher" content="secrett2633"/><meta name="robots" content="index, follow"/><meta name="googlebot" content="index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"/><link rel="canonical" href="https://blog.secrett2633.site/"/><meta name="format-detection" content="telephone=no, address=no, email=no"/><meta property="og:title" content="secrett2633&#x27;s blog"/><meta property="og:description" content="기술 블로그 - Django, Python, DevOps, AI/ML 관련 포스트"/><meta property="og:url" content="https://blog.secrett2633.site/"/><meta property="og:site_name" content="secrett2633&#x27;s blog"/><meta property="og:locale" content="ko_KR"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="secrett2633&#x27;s blog"/><meta name="twitter:description" content="기술 블로그 - Django, Python, DevOps, AI/ML 관련 포스트"/><link rel="icon" href="/icon.ico?6d9f34d4948640b8" type="image/x-icon" sizes="16x16"/><meta name="next-size-adjust"/><meta name="msapplication-TileColor" content="#ffc40d"/><meta name="theme-color" content="#ffffff"/><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments);}
              gtag('js', new Date());
              gtag('config', 'G-NE2W3CFPNY');
            </script><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_f367f3 layout--default"><div class="min-h-screen bg-gray-50"><div class="masthead"><div class="masthead__inner-wrap"><div class="masthead__menu"><nav id="site-nav" class="greedy-nav"><a class="site-title" href="/">secrett2633&#x27;s blog</a><div class="flex items-center space-x-4"><ul class="visible-links"><li class="masthead__menu-item"><a href="https://github.com/secrett2633" target="_blank" rel="noopener noreferrer">GitHub</a></li></ul><button class="search__toggle" type="button"><svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16"><path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path></svg></button></div></nav></div></div></div><main class="initial-content"><!--$--><div class="flex flex-col lg:flex-row gap-8"><aside class="lg:w-64 xl:w-72 order-1 lg:order-none"><div class="sidebar sticky"><nav class="space-y-4"><div><h4 class="font-medium text-gray-900 mb-2">Backend</h4><ul class="space-y-1 ml-4"><li><a href="/backend/django/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Django<!-- --> (<!-- -->6<!-- -->)</a></li><li><a href="/backend/logging/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Logging<!-- --> (<!-- -->1<!-- -->)</a></li></ul></div><div><h4 class="font-medium text-gray-900 mb-2">Python</h4><ul class="space-y-1 ml-4"><li><a href="/python/pep/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">PEP<!-- --> (<!-- -->650<!-- -->)</a></li></ul></div><div><h4 class="font-medium text-gray-900 mb-2">AI/ML</h4><ul class="space-y-1 ml-4"><li><a href="/ai/llm/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">LLM<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/ai/review/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Review<!-- --> (<!-- -->1904<!-- -->)</a></li></ul></div><div><h4 class="font-medium text-gray-900 mb-2">DevOps</h4><ul class="space-y-1 ml-4"><li><a href="/devops/nginx/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Nginx<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/devops/docker/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Docker<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/devops/safeline/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">SafeLine<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/devops/jenkins/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Jenkins<!-- --> (<!-- -->3<!-- -->)</a></li><li><a href="/devops/github-actions/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">GitHub Actions<!-- --> (<!-- -->1<!-- -->)</a></li><li><a href="/devops/aws/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">AWS<!-- --> (<!-- -->1<!-- -->)</a></li></ul></div><div><h4 class="font-medium text-gray-900 mb-2">etc</h4><ul class="space-y-1 ml-4"><li><a href="/etc/me/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Me<!-- --> (<!-- -->3<!-- -->)</a></li><li><a href="/etc/chrome-extension/" class="text-sm text-gray-600 hover:text-primary-600 block py-1">Chrome Extension<!-- --> (<!-- -->1<!-- -->)</a></li></ul></div></nav></div></aside><main class="flex-1"><article class="page"><header class="mb-8"><h1 class="page__title">[Accepted] PEP 658 - Serve Distribution Metadata in the Simple Repository API</h1><div class="page__meta"><time dateTime="2025-09-27 09:54:18+0900">2025년 9월 27일</time><span class="ml-4">수정: <!-- -->2025년 9월 27일</span></div></header><div class="page__content"><div><blockquote>
<p><strong>원문 링크:</strong> <a href="https://peps.python.org/pep-0658/">PEP 658 - Serve Distribution Metadata in the Simple Repository API</a></p>
<p><strong>상태:</strong> Accepted | <strong>유형:</strong> Standards Track | <strong>작성일:</strong> 10-May-2021</p>
</blockquote>
<h1>PEP 658 – Simple Repository API에서 배포 메타데이터 제공</h1>
<h2>개요</h2>
<p>이 문서는 PEP 503 "simple" 저장소 API에서 배포(distribution)의 <code>METADATA</code> 파일을 노출하기 위해 앵커 태그(anchor tag)를 추가할 것을 제안합니다. <code>data-dist-info-metadata</code> 속성이 도입되어 주어진 배포에서 해당 파일을 독립적으로 가져올 수 있음을 나타냅니다.</p>
<h2>동기 (Motivation)</h2>
<p>최근 도구들에 의해 보편화된 패키지 관리 워크플로우는 배포를 설치할 의도 없이 배포 메타데이터를 검사해야 할 필요성을 증가시키고 있습니다. 또한, 메타데이터를 기반으로 프로젝트의 여러 배포 중에서 선택하기 위해 많은 배포를 다운로드하는 경우가 발생합니다. 이로 인해 불필요하게 많은 데이터를 다운로드하고 폐기하게 되는데, 이는 비효율적이며 사용자 경험을 저해합니다.</p>
<h2>배경 (Rationale)</h2>
<p>도구들은 HTTP 범위 요청(range requests)을 통해 Wheel 파일을 부분적으로 다운로드하여 다운로드 크기를 줄이는 방법을 모색해왔습니다. 그러나 이 방법은 저장소 서버에 추가적인 런타임 요구사항을 발생시킵니다. 또한, 메타데이터 파일을 찾기 위해 Wheel 파일의 파일 목록을 가져오기 위한 별도의 요청이 필요하므로 추가적인 오버헤드가 발생합니다.</p>
<p>따라서 서버가 메타데이터 파일을 미리 추출하여 독립적인 파일로 제공함으로써, 추가 요청 및 ZIP 파일 검사 없이 메타데이터를 얻을 수 있도록 하는 것이 바람직합니다.</p>
<p>Core Metadata Specification 에 정의된 메타데이터 파일은 일반적인 사용 사례에 필요한 정보를 포함하고 있으므로 저장소에서 직접 제공될 것입니다. 이 메타데이터는 Wheel 및 sdist 와 같은 표준 준수 배포에 대해서만 제공되어야 하며, <code>.dist-info</code> 디렉터리에 있는 Wheel의 <code>METADATA</code> 파일 과 같이 배포의 정식 메타데이터 파일과 동일해야 합니다.</p>
<p>클라이언트가 별도로 제공되는 메타데이터 파일을 선택할 수 있는지 여부를 나타내기 위해 배포 파일의 앵커 링크에 HTML 속성이 필요합니다. 이 속성은 클라이언트 측 검증을 위한 메타데이터 내용의 해시(hash)도 제공하는 데 사용됩니다. 속성이 없다는 것은 배포 내용 또는 저장소 지원 부족으로 인해 해당 배포에 별도의 메타데이터 항목이 제공되지 않음을 나타냅니다.</p>
<h2>명세 (Specification)</h2>
<p>Simple Repository의 프로젝트 페이지에서, 각 배포를 가리키는 앵커 태그(anchor tag)는 <code>data-dist-info-metadata</code> 속성을 가질 수 있습니다. 이 속성의 존재는 해당 앵커 태그가 나타내는 배포가 Core Metadata 파일을 포함하고 있으며, 이 파일은 배포가 처리되거나 설치될 때 수정되지 않음을 의미합니다.</p>
<p><code>data-dist-info-metadata</code> 속성이 존재하면, 저장소는 배포 파일 이름에 <code>.metadata</code>를 덧붙인 형태로 배포의 Core Metadata 파일을 배포와 함께 제공해야 합니다. 예를 들어, <code>/files/distribution-1.0-py3.none.any.whl</code>에서 제공되는 배포의 Core Metadata는 <code>/files/distribution-1.0-py3.none.any.whl.metadata</code>에 위치합니다. 이는 PEP 503이 GPG 서명 파일의 위치를 지정하는 방식과 유사합니다.</p>
<p>저장소는 Core Metadata 파일의 해시를 <code>data-dist-info-metadata</code> 속성의 값으로 제공해야 합니다. 이때 <code>&#x3C;hashname>=&#x3C;hashvalue></code> 구문을 사용하며, <code>&#x3C;hashname></code>은 사용된 해시 함수의 소문자 이름이고, <code>&#x3C;hashvalue></code>는 16진수로 인코딩된 다이제스트(digest)입니다. 해시를 사용할 수 없는 경우, 저장소는 <code>true</code>를 속성의 값으로 사용할 수 있습니다.</p>
<h2>하위 호환성 (Backwards Compatibility)</h2>
<p>앵커 태그에 <code>data-dist-info-metadata</code> 속성이 없는 경우, 도구들은 메타데이터를 검사하기 위해 배포를 다운로드하는 현재의 동작으로 되돌아갈 것으로 예상됩니다.</p>
<p>새로운 <code>data-dist-info-metadata</code> 속성을 지원하지 않는 이전 도구들은 이 속성을 무시하고, 메타데이터를 검사하기 위해 배포를 다운로드하는 현재의 동작을 유지할 것으로 예상됩니다. 이는 이전에 추가된 <code>data-</code> 속성들이 기존 도구들에 대해 작동하도록 예상되는 방식과 유사합니다.</p>
<h2>기각된 아이디어 (Rejected Ideas)</h2>
<h3>1. 프로젝트 페이지에 메타데이터 내용 포함 (Put metadata content on the project page)</h3>
<p>도구들은 프로젝트 페이지에 이미 있는 정보 외에 배포에서 일반적으로 종속성 정보만 필요로 하기 때문에, PEP 503에 명시된 <code>data-requires-python</code> 속성처럼 저장소가 프로젝트 페이지에 직접 정보를 포함할 수 있다는 제안이 있었습니다.</p>
<p>이 접근 방식은 배포가 임의로 긴 종속성 목록(필수 및 선택 포함)을 포함할 수 있고, 프로젝트의 모든 배포에 대한 정보를 포함하는 것이 순수한 절약으로 이어질지 불분명하다는 이유로 폐기되었습니다. 대부분의 배포에 대한 정보는 결국 필요 없게 되기 때문입니다. 메타데이터를 별도로 제공함으로써 데이터 사용량이 검사된 배포 수에 비례하게 되어 성능을 더 잘 예측할 수 있습니다.</p>
<h3>2. 배포 내의 더 많은 파일 노출 (Expose more files in the distribution)</h3>
<p>메타데이터 파일만 제공하는 대신 전체 <code>.dist-info</code> 디렉터리를 별도의 부분으로 제공하자는 제안이 있었습니다. 그러나 HTTP를 통해 여러 파일을 하나의 엔티티로 제공하려면 저장소 서버가 원래 배포에서 파일을 추출한 후 별도로 다시 압축해야 하며, 배포 자체가 설치되지 않을 때 <code>METADATA</code> 파일 외의 다른 파일에 대한 현재 사용 사례는 없습니다.</p>
<p>이 접근 방식은 미래에 다른 파일들이 도입되는 것을 배제하지 않으며, 함께 제공하거나 개별적으로 제공할 수 있습니다.</p>
<h3>3. 프로젝트 페이지에 메타데이터 파일의 URL 명시 (Explicitly specify the metadata file's URL on the project page)</h3>
<p>이 초안의 초기 버전에서는 <code>data-dist-info-metadata</code> 속성에 메타데이터 파일의 URL을 넣을 것을 제안했습니다. 그러나 저장소가 결정된 위치에 메타데이터 파일을 제공하도록 요구하는 것이 검색 가능성(discoverability)에 더 좋다고 판단되었습니다. 현재 접근 방식은 또한 프로젝트 페이지의 크기를 줄이는 추가적인 이점도 있습니다.</p>
<h2>참조 (References)</h2>
<ul>
<li>[core-metadata] https://packaging.python.org/specifications/core-metadata/</li>
<li>[dist-info] https://packaging.python.org/specifications/recording-installed-packages/</li>
<li>[wheel] https://packaging.python.org/specifications/binary-distribution-format/</li>
<li>[sdist] https://packaging.python.org/specifications/source-distribution-format/</li>
</ul>
<h2>저작권 (Copyright)</h2>
<p>이 문서는 퍼블릭 도메인 또는 CC0-1.0-Universal 라이선스 중 더 관대한 조건으로 배포됩니다.</p>
<blockquote>
<p>⚠️ <strong>알림:</strong> 이 문서는 AI를 활용하여 번역되었으며, 기술적 정확성을 보장하지 않습니다. 정확한 내용은 반드시 원문을 확인하시기 바랍니다.</p>
</blockquote>
</div></div><footer class="page__meta mt-8"><div class="page__taxonomy"><h4 class="text-sm font-medium text-gray-900 mb-2">태그</h4><span class="page__taxonomy-item">#<!-- -->Python</span><span class="page__taxonomy-item">#<!-- -->PEP</span><span class="page__taxonomy-item">#<!-- -->Translation</span></div></footer><section class="mt-12 border-t border-gray-200 pt-8"><h3 class="text-base font-semibold text-gray-900 mb-4">Python<!-- --> 의 다른글</h3><ul class="space-y-2 text-sm"><li class="text-gray-500">이전글<!-- --> <a class="text-gray-500 hover:text-gray-700 underline decoration-dotted underline-offset-4" href="/python/pep/657/">[Final] PEP 657 - Include Fine Grained Error Locations in Tracebacks</a></li><li class="text-gray-900 font-semibold">현재글 : <!-- -->[Accepted] PEP 658 - Serve Distribution Metadata in the Simple Repository API</li><li class="text-gray-500">다음글<!-- --> <a class="text-gray-500 hover:text-gray-700 underline decoration-dotted underline-offset-4" href="/python/pep/659/">[Final] PEP 659 - Specializing Adaptive Interpreter</a></li></ul></section></article></main></div><!--/$--></main><div id="footer" class="page__footer"><footer class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><div class="text-center text-gray-500 text-sm"><p>© 2025 secrett2633. All rights reserved.</p></div></footer></div></div><script src="/_next/static/chunks/webpack-15a70ff5b484f3df.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/edf391eeca43d999.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"3:I[5751,[],\"\"]\n6:I[9275,[],\"\"]\n8:I[1343,[],\"\"]\n9:I[9157,[\"231\",\"static/chunks/231-c27e618569e042bc.js\",\"157\",\"static/chunks/157-ff7a2d518d7ddfe6.js\",\"185\",\"static/chunks/app/layout-b06e577e11976c7d.js\"],\"default\"]\na:I[231,[\"231\",\"static/chunks/231-c27e618569e042bc.js\",\"877\",\"static/chunks/app/%5B...slug%5D/page-9d772c571b4668c1.js\"],\"\"]\nc:I[6130,[],\"\"]\n7:[\"slug\",\"python/pep/658\",\"c\"]\nd:[]\n"])</script><script>self.__next_f.push([1,"0:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/edf391eeca43d999.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$L3\",null,{\"buildId\":\"-P2_WUhcrV_SjEEzYp4Tq\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/python/pep/658/\",\"initialTree\":[\"\",{\"children\":[[\"slug\",\"python/pep/658\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"python\\\",\\\"pep\\\",\\\"658\\\"]}\",{}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[[\"slug\",\"python/pep/658\",\"c\"],{\"children\":[\"__PAGE__\",{},[[\"$L4\",\"$L5\"],null],null]},[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$7\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[[\"$\",\"html\",null,{\"lang\":\"ko\",\"className\":\"no-js\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"meta\",null,{\"name\":\"msapplication-TileColor\",\"content\":\"#ffc40d\"}],[\"$\",\"meta\",null,{\"name\":\"theme-color\",\"content\":\"#ffffff\"}],[\"$\",\"script\",null,{\"async\":true,\"src\":\"https://www.googletagmanager.com/gtag/js?id=G-NE2W3CFPNY\"}],[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\\n              window.dataLayer = window.dataLayer || [];\\n              function gtag(){dataLayer.push(arguments);}\\n              gtag('js', new Date());\\n              gtag('config', 'G-NE2W3CFPNY');\\n            \"}}]]}],[\"$\",\"body\",null,{\"className\":\"__className_f367f3 layout--default\",\"children\":[\"$\",\"div\",null,{\"className\":\"min-h-screen bg-gray-50\",\"children\":[[\"$\",\"$L9\",null,{}],[\"$\",\"main\",null,{\"className\":\"initial-content\",\"children\":[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"div\",null,{\"className\":\"min-h-screen flex items-center justify-center bg-gray-50\",\"children\":[\"$\",\"div\",null,{\"className\":\"max-w-md w-full bg-white rounded-lg shadow-md p-8 text-center\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-6xl font-bold text-primary-600 mb-4\",\"children\":\"404\"}],[\"$\",\"h2\",null,{\"className\":\"text-2xl font-semibold text-gray-900 mb-4\",\"children\":\"페이지를 찾을 수 없습니다\"}],[\"$\",\"p\",null,{\"className\":\"text-gray-600 mb-8\",\"children\":\"요청하신 페이지가 존재하지 않거나 이동되었을 수 있습니다.\"}],[\"$\",\"$La\",null,{\"href\":\"/\",\"className\":\"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors\",\"children\":\"홈으로 돌아가기\"}]]}]}],\"notFoundStyles\":[],\"styles\":null}]}],[\"$\",\"div\",null,{\"id\":\"footer\",\"className\":\"page__footer\",\"children\":[\"$\",\"footer\",null,{\"className\":\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"text-center text-gray-500 text-sm\",\"children\":[\"$\",\"p\",null,{\"children\":\"© 2025 secrett2633. All rights reserved.\"}]}]}]}]]}]}]]}],null],[[\"$\",\"div\",null,{\"className\":\"flex items-center justify-center min-h-screen\",\"children\":[\"$\",\"div\",null,{\"className\":\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"}]}],[],[]]],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$Lb\"],\"globalErrorComponent\":\"$c\",\"missingSlots\":\"$Wd\"}]]\n"])</script><script>self.__next_f.push([1,"e:T205c,"])</script><script>self.__next_f.push([1,"\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003e원문 링크:\u003c/strong\u003e \u003ca href=\"https://peps.python.org/pep-0658/\"\u003ePEP 658 - Serve Distribution Metadata in the Simple Repository API\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e상태:\u003c/strong\u003e Accepted | \u003cstrong\u003e유형:\u003c/strong\u003e Standards Track | \u003cstrong\u003e작성일:\u003c/strong\u003e 10-May-2021\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch1\u003ePEP 658 – Simple Repository API에서 배포 메타데이터 제공\u003c/h1\u003e\n\u003ch2\u003e개요\u003c/h2\u003e\n\u003cp\u003e이 문서는 PEP 503 \"simple\" 저장소 API에서 배포(distribution)의 \u003ccode\u003eMETADATA\u003c/code\u003e 파일을 노출하기 위해 앵커 태그(anchor tag)를 추가할 것을 제안합니다. \u003ccode\u003edata-dist-info-metadata\u003c/code\u003e 속성이 도입되어 주어진 배포에서 해당 파일을 독립적으로 가져올 수 있음을 나타냅니다.\u003c/p\u003e\n\u003ch2\u003e동기 (Motivation)\u003c/h2\u003e\n\u003cp\u003e최근 도구들에 의해 보편화된 패키지 관리 워크플로우는 배포를 설치할 의도 없이 배포 메타데이터를 검사해야 할 필요성을 증가시키고 있습니다. 또한, 메타데이터를 기반으로 프로젝트의 여러 배포 중에서 선택하기 위해 많은 배포를 다운로드하는 경우가 발생합니다. 이로 인해 불필요하게 많은 데이터를 다운로드하고 폐기하게 되는데, 이는 비효율적이며 사용자 경험을 저해합니다.\u003c/p\u003e\n\u003ch2\u003e배경 (Rationale)\u003c/h2\u003e\n\u003cp\u003e도구들은 HTTP 범위 요청(range requests)을 통해 Wheel 파일을 부분적으로 다운로드하여 다운로드 크기를 줄이는 방법을 모색해왔습니다. 그러나 이 방법은 저장소 서버에 추가적인 런타임 요구사항을 발생시킵니다. 또한, 메타데이터 파일을 찾기 위해 Wheel 파일의 파일 목록을 가져오기 위한 별도의 요청이 필요하므로 추가적인 오버헤드가 발생합니다.\u003c/p\u003e\n\u003cp\u003e따라서 서버가 메타데이터 파일을 미리 추출하여 독립적인 파일로 제공함으로써, 추가 요청 및 ZIP 파일 검사 없이 메타데이터를 얻을 수 있도록 하는 것이 바람직합니다.\u003c/p\u003e\n\u003cp\u003eCore Metadata Specification 에 정의된 메타데이터 파일은 일반적인 사용 사례에 필요한 정보를 포함하고 있으므로 저장소에서 직접 제공될 것입니다. 이 메타데이터는 Wheel 및 sdist 와 같은 표준 준수 배포에 대해서만 제공되어야 하며, \u003ccode\u003e.dist-info\u003c/code\u003e 디렉터리에 있는 Wheel의 \u003ccode\u003eMETADATA\u003c/code\u003e 파일 과 같이 배포의 정식 메타데이터 파일과 동일해야 합니다.\u003c/p\u003e\n\u003cp\u003e클라이언트가 별도로 제공되는 메타데이터 파일을 선택할 수 있는지 여부를 나타내기 위해 배포 파일의 앵커 링크에 HTML 속성이 필요합니다. 이 속성은 클라이언트 측 검증을 위한 메타데이터 내용의 해시(hash)도 제공하는 데 사용됩니다. 속성이 없다는 것은 배포 내용 또는 저장소 지원 부족으로 인해 해당 배포에 별도의 메타데이터 항목이 제공되지 않음을 나타냅니다.\u003c/p\u003e\n\u003ch2\u003e명세 (Specification)\u003c/h2\u003e\n\u003cp\u003eSimple Repository의 프로젝트 페이지에서, 각 배포를 가리키는 앵커 태그(anchor tag)는 \u003ccode\u003edata-dist-info-metadata\u003c/code\u003e 속성을 가질 수 있습니다. 이 속성의 존재는 해당 앵커 태그가 나타내는 배포가 Core Metadata 파일을 포함하고 있으며, 이 파일은 배포가 처리되거나 설치될 때 수정되지 않음을 의미합니다.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003edata-dist-info-metadata\u003c/code\u003e 속성이 존재하면, 저장소는 배포 파일 이름에 \u003ccode\u003e.metadata\u003c/code\u003e를 덧붙인 형태로 배포의 Core Metadata 파일을 배포와 함께 제공해야 합니다. 예를 들어, \u003ccode\u003e/files/distribution-1.0-py3.none.any.whl\u003c/code\u003e에서 제공되는 배포의 Core Metadata는 \u003ccode\u003e/files/distribution-1.0-py3.none.any.whl.metadata\u003c/code\u003e에 위치합니다. 이는 PEP 503이 GPG 서명 파일의 위치를 지정하는 방식과 유사합니다.\u003c/p\u003e\n\u003cp\u003e저장소는 Core Metadata 파일의 해시를 \u003ccode\u003edata-dist-info-metadata\u003c/code\u003e 속성의 값으로 제공해야 합니다. 이때 \u003ccode\u003e\u0026#x3C;hashname\u003e=\u0026#x3C;hashvalue\u003e\u003c/code\u003e 구문을 사용하며, \u003ccode\u003e\u0026#x3C;hashname\u003e\u003c/code\u003e은 사용된 해시 함수의 소문자 이름이고, \u003ccode\u003e\u0026#x3C;hashvalue\u003e\u003c/code\u003e는 16진수로 인코딩된 다이제스트(digest)입니다. 해시를 사용할 수 없는 경우, 저장소는 \u003ccode\u003etrue\u003c/code\u003e를 속성의 값으로 사용할 수 있습니다.\u003c/p\u003e\n\u003ch2\u003e하위 호환성 (Backwards Compatibility)\u003c/h2\u003e\n\u003cp\u003e앵커 태그에 \u003ccode\u003edata-dist-info-metadata\u003c/code\u003e 속성이 없는 경우, 도구들은 메타데이터를 검사하기 위해 배포를 다운로드하는 현재의 동작으로 되돌아갈 것으로 예상됩니다.\u003c/p\u003e\n\u003cp\u003e새로운 \u003ccode\u003edata-dist-info-metadata\u003c/code\u003e 속성을 지원하지 않는 이전 도구들은 이 속성을 무시하고, 메타데이터를 검사하기 위해 배포를 다운로드하는 현재의 동작을 유지할 것으로 예상됩니다. 이는 이전에 추가된 \u003ccode\u003edata-\u003c/code\u003e 속성들이 기존 도구들에 대해 작동하도록 예상되는 방식과 유사합니다.\u003c/p\u003e\n\u003ch2\u003e기각된 아이디어 (Rejected Ideas)\u003c/h2\u003e\n\u003ch3\u003e1. 프로젝트 페이지에 메타데이터 내용 포함 (Put metadata content on the project page)\u003c/h3\u003e\n\u003cp\u003e도구들은 프로젝트 페이지에 이미 있는 정보 외에 배포에서 일반적으로 종속성 정보만 필요로 하기 때문에, PEP 503에 명시된 \u003ccode\u003edata-requires-python\u003c/code\u003e 속성처럼 저장소가 프로젝트 페이지에 직접 정보를 포함할 수 있다는 제안이 있었습니다.\u003c/p\u003e\n\u003cp\u003e이 접근 방식은 배포가 임의로 긴 종속성 목록(필수 및 선택 포함)을 포함할 수 있고, 프로젝트의 모든 배포에 대한 정보를 포함하는 것이 순수한 절약으로 이어질지 불분명하다는 이유로 폐기되었습니다. 대부분의 배포에 대한 정보는 결국 필요 없게 되기 때문입니다. 메타데이터를 별도로 제공함으로써 데이터 사용량이 검사된 배포 수에 비례하게 되어 성능을 더 잘 예측할 수 있습니다.\u003c/p\u003e\n\u003ch3\u003e2. 배포 내의 더 많은 파일 노출 (Expose more files in the distribution)\u003c/h3\u003e\n\u003cp\u003e메타데이터 파일만 제공하는 대신 전체 \u003ccode\u003e.dist-info\u003c/code\u003e 디렉터리를 별도의 부분으로 제공하자는 제안이 있었습니다. 그러나 HTTP를 통해 여러 파일을 하나의 엔티티로 제공하려면 저장소 서버가 원래 배포에서 파일을 추출한 후 별도로 다시 압축해야 하며, 배포 자체가 설치되지 않을 때 \u003ccode\u003eMETADATA\u003c/code\u003e 파일 외의 다른 파일에 대한 현재 사용 사례는 없습니다.\u003c/p\u003e\n\u003cp\u003e이 접근 방식은 미래에 다른 파일들이 도입되는 것을 배제하지 않으며, 함께 제공하거나 개별적으로 제공할 수 있습니다.\u003c/p\u003e\n\u003ch3\u003e3. 프로젝트 페이지에 메타데이터 파일의 URL 명시 (Explicitly specify the metadata file's URL on the project page)\u003c/h3\u003e\n\u003cp\u003e이 초안의 초기 버전에서는 \u003ccode\u003edata-dist-info-metadata\u003c/code\u003e 속성에 메타데이터 파일의 URL을 넣을 것을 제안했습니다. 그러나 저장소가 결정된 위치에 메타데이터 파일을 제공하도록 요구하는 것이 검색 가능성(discoverability)에 더 좋다고 판단되었습니다. 현재 접근 방식은 또한 프로젝트 페이지의 크기를 줄이는 추가적인 이점도 있습니다.\u003c/p\u003e\n\u003ch2\u003e참조 (References)\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e[core-metadata] https://packaging.python.org/specifications/core-metadata/\u003c/li\u003e\n\u003cli\u003e[dist-info] https://packaging.python.org/specifications/recording-installed-packages/\u003c/li\u003e\n\u003cli\u003e[wheel] https://packaging.python.org/specifications/binary-distribution-format/\u003c/li\u003e\n\u003cli\u003e[sdist] https://packaging.python.org/specifications/source-distribution-format/\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e저작권 (Copyright)\u003c/h2\u003e\n\u003cp\u003e이 문서는 퍼블릭 도메인 또는 CC0-1.0-Universal 라이선스 중 더 관대한 조건으로 배포됩니다.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e⚠️ \u003cstrong\u003e알림:\u003c/strong\u003e 이 문서는 AI를 활용하여 번역되었으며, 기술적 정확성을 보장하지 않습니다. 정확한 내용은 반드시 원문을 확인하시기 바랍니다.\u003c/p\u003e\n\u003c/blockquote\u003e\n"])</script><script>self.__next_f.push([1,"5:[\"$\",\"div\",null,{\"className\":\"flex flex-col lg:flex-row gap-8\",\"children\":[[\"$\",\"aside\",null,{\"className\":\"lg:w-64 xl:w-72 order-1 lg:order-none\",\"children\":[\"$\",\"div\",null,{\"className\":\"sidebar sticky\",\"children\":[\"$\",\"nav\",null,{\"className\":\"space-y-4\",\"children\":[[\"$\",\"div\",\"Backend\",{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-medium text-gray-900 mb-2\",\"children\":\"Backend\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1 ml-4\",\"children\":[[\"$\",\"li\",\"Django\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/backend/django/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Django\",\" (\",6,\")\"]}]}],[\"$\",\"li\",\"Logging\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/backend/logging/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Logging\",\" (\",1,\")\"]}]}]]}]]}],[\"$\",\"div\",\"Python\",{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-medium text-gray-900 mb-2\",\"children\":\"Python\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1 ml-4\",\"children\":[[\"$\",\"li\",\"PEP\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/python/pep/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"PEP\",\" (\",650,\")\"]}]}]]}]]}],[\"$\",\"div\",\"AI/ML\",{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-medium text-gray-900 mb-2\",\"children\":\"AI/ML\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1 ml-4\",\"children\":[[\"$\",\"li\",\"LLM\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/ai/llm/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"LLM\",\" (\",1,\")\"]}]}],[\"$\",\"li\",\"Review\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/ai/review/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Review\",\" (\",1904,\")\"]}]}]]}]]}],[\"$\",\"div\",\"DevOps\",{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-medium text-gray-900 mb-2\",\"children\":\"DevOps\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1 ml-4\",\"children\":[[\"$\",\"li\",\"Nginx\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/devops/nginx/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Nginx\",\" (\",1,\")\"]}]}],[\"$\",\"li\",\"Docker\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/devops/docker/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Docker\",\" (\",1,\")\"]}]}],[\"$\",\"li\",\"SafeLine\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/devops/safeline/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"SafeLine\",\" (\",1,\")\"]}]}],[\"$\",\"li\",\"Jenkins\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/devops/jenkins/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Jenkins\",\" (\",3,\")\"]}]}],[\"$\",\"li\",\"GitHub Actions\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/devops/github-actions/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"GitHub Actions\",\" (\",1,\")\"]}]}],[\"$\",\"li\",\"AWS\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/devops/aws/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"AWS\",\" (\",1,\")\"]}]}]]}]]}],[\"$\",\"div\",\"etc\",{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-medium text-gray-900 mb-2\",\"children\":\"etc\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1 ml-4\",\"children\":[[\"$\",\"li\",\"Me\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/etc/me/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Me\",\" (\",3,\")\"]}]}],[\"$\",\"li\",\"Chrome Extension\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/etc/chrome-extension/\",\"className\":\"text-sm text-gray-600 hover:text-primary-600 block py-1\",\"children\":[\"Chrome Extension\",\" (\",1,\")\"]}]}]]}]]}]]}]}]}],[\"$\",\"main\",null,{\"className\":\"flex-1\",\"children\":[\"$\",\"article\",null,{\"className\":\"page\",\"children\":[[\"$\",\"header\",null,{\"className\":\"mb-8\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"page__title\",\"children\":\"[Accepted] PEP 658 - Serve Distribution Metadata in the Simple Repository API\"}],[\"$\",\"div\",null,{\"className\":\"page__meta\",\"children\":[[\"$\",\"time\",null,{\"dateTime\":\"2025-09-27 09:54:18+0900\",\"children\":\"2025년 9월 27일\"}],[\"$\",\"span\",null,{\"className\":\"ml-4\",\"children\":[\"수정: \",\"2025년 9월 27일\"]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"page__content\",\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$e\"}}]}],[\"$\",\"footer\",null,{\"className\":\"page__meta mt-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"page__taxonomy\",\"children\":[[\"$\",\"h4\",null,{\"className\":\"text-sm font-medium text-gray-900 mb-2\",\"children\":\"태그\"}],[[\"$\",\"span\",\"Python\",{\"className\":\"page__taxonomy-item\",\"children\":[\"#\",\"Python\"]}],[\"$\",\"span\",\"PEP\",{\"className\":\"page__taxonomy-item\",\"children\":[\"#\",\"PEP\"]}],[\"$\",\"span\",\"Translation\",{\"className\":\"page__taxonomy-item\",\"children\":[\"#\",\"Translation\"]}]]]}]}],[\"$\",\"section\",null,{\"className\":\"mt-12 border-t border-gray-200 pt-8\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-base font-semibold text-gray-900 mb-4\",\"children\":[\"Python\",\" 의 다른글\"]}],[\"$\",\"ul\",null,{\"className\":\"space-y-2 text-sm\",\"children\":[[\"$\",\"li\",null,{\"className\":\"text-gray-500\",\"children\":[\"이전글\",\" \",[\"$\",\"$La\",null,{\"href\":\"/python/pep/657/\",\"className\":\"text-gray-500 hover:text-gray-700 underline decoration-dotted underline-offset-4\",\"children\":\"[Final] PEP 657 - Include Fine Grained Error Locations in Tracebacks\"}]]}],[\"$\",\"li\",null,{\"className\":\"text-gray-900 font-semibold\",\"children\":[\"현재글 : \",\"[Accepted] PEP 658 - Serve Distribution Metadata in the Simple Repository API\"]}],[\"$\",\"li\",null,{\"className\":\"text-gray-500\",\"children\":[\"다음글\",\" \",[\"$\",\"$La\",null,{\"href\":\"/python/pep/659/\",\"className\":\"text-gray-500 hover:text-gray-700 underline decoration-dotted underline-offset-4\",\"children\":\"[Final] PEP 659 - Specializing Adaptive Interpreter\"}]]}]]}]]}]]}]}]]}]\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"secrett2633's blog\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"기술 블로그 - Django, Python, DevOps, AI/ML 관련 포스트\"}],[\"$\",\"meta\",\"4\",{\"name\":\"author\",\"content\":\"secrett2633\"}],[\"$\",\"meta\",\"5\",{\"name\":\"keywords\",\"content\":\"Django, Python, DevOps, AI, ML, 블로그, 기술\"}],[\"$\",\"meta\",\"6\",{\"name\":\"creator\",\"content\":\"secrett2633\"}],[\"$\",\"meta\",\"7\",{\"name\":\"publisher\",\"content\":\"secrett2633\"}],[\"$\",\"meta\",\"8\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"9\",{\"name\":\"googlebot\",\"content\":\"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1\"}],[\"$\",\"link\",\"10\",{\"rel\":\"canonical\",\"href\":\"https://blog.secrett2633.site/\"}],[\"$\",\"meta\",\"11\",{\"name\":\"format-detection\",\"content\":\"telephone=no, address=no, email=no\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:title\",\"content\":\"secrett2633's blog\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:description\",\"content\":\"기술 블로그 - Django, Python, DevOps, AI/ML 관련 포스트\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:url\",\"content\":\"https://blog.secrett2633.site/\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:site_name\",\"content\":\"secrett2633's blog\"}],[\"$\",\"meta\",\"16\",{\"property\":\"og:locale\",\"content\":\"ko_KR\"}],[\"$\",\"meta\",\"17\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:title\",\"content\":\"secrett2633's blog\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:description\",\"content\":\"기술 블로그 - Django, Python, DevOps, AI/ML 관련 포스트\"}],[\"$\",\"link\",\"21\",{\"rel\":\"icon\",\"href\":\"/icon.ico?6d9f34d4948640b8\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"meta\",\"22\",{\"name\":\"next-size-adjust\"}]]\n4:null\n"])</script></body></html>